var S_=Object.defineProperty;var u0=t=>{throw TypeError(t)};var E_=(t,e,i)=>e in t?S_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Ge=(t,e,i)=>E_(t,typeof e!="symbol"?e+"":e,i),Fh=(t,e,i)=>e.has(t)||u0("Cannot "+i);var T=(t,e,i)=>(Fh(t,e,"read from private field"),i?i.call(t):e.get(t)),ne=(t,e,i)=>e.has(t)?u0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),G=(t,e,i,o)=>(Fh(t,e,"write to private field"),o?o.call(t,i):e.set(t,i),i),oe=(t,e,i)=>(Fh(t,e,"access private method"),i);var Vr=(t,e,i,o)=>({set _(r){G(t,e,r,i)},get _(){return T(t,e,o)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yh={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function b_(){if(c0)return Rl;c0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var f in r)f!=="key"&&(l[f]=r[f])}else l=r;return r=l.ref,{$$typeof:t,type:o,key:c,ref:r!==void 0?r:null,props:l}}return Rl.Fragment=e,Rl.jsx=i,Rl.jsxs=i,Rl}var d0;function T_(){return d0||(d0=1,Yh.exports=b_()),Yh.exports}var w=T_(),Jh={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function w_(){if(f0)return Ie;f0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,D={};function k(M,X,ae){this.props=M,this.context=X,this.refs=D,this.updater=ae||x}k.prototype.isReactComponent={},k.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=k.prototype;function H(M,X,ae){this.props=M,this.context=X,this.refs=D,this.updater=ae||x}var ie=H.prototype=new J;ie.constructor=H,_(ie,k.prototype),ie.isPureReactComponent=!0;var Z=Array.isArray;function ee(){}var te={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function W(M,X,ae){var de=ae.ref;return{$$typeof:t,type:M,key:X,ref:de!==void 0?de:null,props:ae}}function P(M,X){return W(M.type,X,M.props)}function he(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function fe(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return X[ae]})}var ve=/\/+/g;function Ce(M,X){return typeof M=="object"&&M!==null&&M.key!=null?fe(""+M.key):X.toString(36)}function q(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ee,ee):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function R(M,X,ae,de,be){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(Ne){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case t:case e:me=!0;break;case v:return me=M._init,R(me(M._payload),X,ae,de,be)}}if(me)return be=be(M),me=de===""?"."+Ce(M,0):de,Z(be)?(ae="",me!=null&&(ae=me.replace(ve,"$&/")+"/"),R(be,X,ae,"",function(it){return it})):be!=null&&(he(be)&&(be=P(be,ae+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(ve,"$&/")+"/")+me)),X.push(be)),1;me=0;var xe=de===""?".":de+":";if(Z(M))for(var Pe=0;Pe<M.length;Pe++)de=M[Pe],Ne=xe+Ce(de,Pe),me+=R(de,X,ae,Ne,be);else if(Pe=A(M),typeof Pe=="function")for(M=Pe.call(M),Pe=0;!(de=M.next()).done;)de=de.value,Ne=xe+Ce(de,Pe++),me+=R(de,X,ae,Ne,be);else if(Ne==="object"){if(typeof M.then=="function")return R(q(M),X,ae,de,be);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return me}function $(M,X,ae){if(M==null)return M;var de=[],be=0;return R(M,de,"","",function(Ne){return X.call(ae,Ne,be++)}),de}function ue(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ce={map:$,forEach:function(M,X,ae){$(M,function(){X.apply(this,arguments)},ae)},count:function(M){var X=0;return $(M,function(){X++}),X},toArray:function(M){return $(M,function(X){return X})||[]},only:function(M){if(!he(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ie.Activity=S,Ie.Children=ce,Ie.Component=k,Ie.Fragment=i,Ie.Profiler=r,Ie.PureComponent=H,Ie.StrictMode=o,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return te.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(M,X,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=_({},M.props),be=M.key;if(X!=null)for(Ne in X.key!==void 0&&(be=""+X.key),X)!Se.call(X,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&X.ref===void 0||(de[Ne]=X[Ne]);var Ne=arguments.length-2;if(Ne===1)de.children=ae;else if(1<Ne){for(var me=Array(Ne),xe=0;xe<Ne;xe++)me[xe]=arguments[xe+2];de.children=me}return W(M.type,be,de)},Ie.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ie.createElement=function(M,X,ae){var de,be={},Ne=null;if(X!=null)for(de in X.key!==void 0&&(Ne=""+X.key),X)Se.call(X,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=X[de]);var me=arguments.length-2;if(me===1)be.children=ae;else if(1<me){for(var xe=Array(me),Pe=0;Pe<me;Pe++)xe[Pe]=arguments[Pe+2];be.children=xe}if(M&&M.defaultProps)for(de in me=M.defaultProps,me)be[de]===void 0&&(be[de]=me[de]);return W(M,Ne,be)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:f,render:M}},Ie.isValidElement=he,Ie.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ue}},Ie.memo=function(M,X){return{$$typeof:m,type:M,compare:X===void 0?null:X}},Ie.startTransition=function(M){var X=te.T,ae={};te.T=ae;try{var de=M(),be=te.S;be!==null&&be(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ee,ge)}catch(Ne){ge(Ne)}finally{X!==null&&ae.types!==null&&(X.types=ae.types),te.T=X}},Ie.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ie.use=function(M){return te.H.use(M)},Ie.useActionState=function(M,X,ae){return te.H.useActionState(M,X,ae)},Ie.useCallback=function(M,X){return te.H.useCallback(M,X)},Ie.useContext=function(M){return te.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,X){return te.H.useDeferredValue(M,X)},Ie.useEffect=function(M,X){return te.H.useEffect(M,X)},Ie.useEffectEvent=function(M){return te.H.useEffectEvent(M)},Ie.useId=function(){return te.H.useId()},Ie.useImperativeHandle=function(M,X,ae){return te.H.useImperativeHandle(M,X,ae)},Ie.useInsertionEffect=function(M,X){return te.H.useInsertionEffect(M,X)},Ie.useLayoutEffect=function(M,X){return te.H.useLayoutEffect(M,X)},Ie.useMemo=function(M,X){return te.H.useMemo(M,X)},Ie.useOptimistic=function(M,X){return te.H.useOptimistic(M,X)},Ie.useReducer=function(M,X,ae){return te.H.useReducer(M,X,ae)},Ie.useRef=function(M){return te.H.useRef(M)},Ie.useState=function(M){return te.H.useState(M)},Ie.useSyncExternalStore=function(M,X,ae){return te.H.useSyncExternalStore(M,X,ae)},Ie.useTransition=function(){return te.H.useTransition()},Ie.version="19.2.3",Ie}var h0;function Kp(){return h0||(h0=1,Jh.exports=w_()),Jh.exports}var B=Kp();const A_=$p(B);var $h={exports:{}},Nl={},Kh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function __(){return p0||(p0=1,(function(t){function e(R,$){var ue=R.length;R.push($);e:for(;0<ue;){var ge=ue-1>>>1,ce=R[ge];if(0<r(ce,$))R[ge]=$,R[ue]=ce,ue=ge;else break e}}function i(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var $=R[0],ue=R.pop();if(ue!==$){R[0]=ue;e:for(var ge=0,ce=R.length,M=ce>>>1;ge<M;){var X=2*(ge+1)-1,ae=R[X],de=X+1,be=R[de];if(0>r(ae,ue))de<ce&&0>r(be,ae)?(R[ge]=be,R[de]=ue,ge=de):(R[ge]=ae,R[X]=ue,ge=X);else if(de<ce&&0>r(be,ue))R[ge]=be,R[de]=ue,ge=de;else break e}}return $}function r(R,$){var ue=R.sortIndex-$.sortIndex;return ue!==0?ue:R.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,S=null,E=3,A=!1,x=!1,_=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ie(R){for(var $=i(m);$!==null;){if($.callback===null)o(m);else if($.startTime<=R)o(m),$.sortIndex=$.expirationTime,e(p,$);else break;$=i(m)}}function Z(R){if(_=!1,ie(R),!x)if(i(p)!==null)x=!0,ee||(ee=!0,fe());else{var $=i(m);$!==null&&q(Z,$.startTime-R)}}var ee=!1,te=-1,Se=5,W=-1;function P(){return D?!0:!(t.unstable_now()-W<Se)}function he(){if(D=!1,ee){var R=t.unstable_now();W=R;var $=!0;try{e:{x=!1,_&&(_=!1,J(te),te=-1),A=!0;var ue=E;try{t:{for(ie(R),S=i(p);S!==null&&!(S.expirationTime>R&&P());){var ge=S.callback;if(typeof ge=="function"){S.callback=null,E=S.priorityLevel;var ce=ge(S.expirationTime<=R);if(R=t.unstable_now(),typeof ce=="function"){S.callback=ce,ie(R),$=!0;break t}S===i(p)&&o(p),ie(R)}else o(p);S=i(p)}if(S!==null)$=!0;else{var M=i(m);M!==null&&q(Z,M.startTime-R),$=!1}}break e}finally{S=null,E=ue,A=!1}$=void 0}}finally{$?fe():ee=!1}}}var fe;if(typeof H=="function")fe=function(){H(he)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ce=ve.port2;ve.port1.onmessage=he,fe=function(){Ce.postMessage(null)}}else fe=function(){k(he,0)};function q(R,$){te=k(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(R){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var ue=E;E=$;try{return R()}finally{E=ue}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ue=E;E=R;try{return $()}finally{E=ue}},t.unstable_scheduleCallback=function(R,$,ue){var ge=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ge+ue:ge):ue=ge,R){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ue+ce,R={id:v++,callback:$,priorityLevel:R,startTime:ue,expirationTime:ce,sortIndex:-1},ue>ge?(R.sortIndex=ue,e(m,R),i(p)===null&&R===i(m)&&(_?(J(te),te=-1):_=!0,q(Z,ue-ge))):(R.sortIndex=ce,e(p,R),x||A||(x=!0,ee||(ee=!0,fe()))),R},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(R){var $=E;return function(){var ue=E;E=$;try{return R.apply(this,arguments)}finally{E=ue}}}})(Xh)),Xh}var m0;function C_(){return m0||(m0=1,Kh.exports=__()),Kh.exports}var Qh={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function x_(){if(g0)return Jt;g0=1;var t=Kp();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(p,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:p,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Jt.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,v)},Jt.flushSync=function(p){var m=c.T,v=o.p;try{if(c.T=null,o.p=2,p)return p()}finally{c.T=m,o.p=v,o.d.f()}},Jt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},Jt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},Jt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,S=f(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:A}):v==="script"&&o.d.X(p,{crossOrigin:S,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Jt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},Jt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=f(v,m.crossOrigin);o.d.L(p,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Jt.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=f(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},Jt.requestFormReset=function(p){o.d.r(p)},Jt.unstable_batchedUpdates=function(p,m){return p(m)},Jt.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var y0;function R_(){if(y0)return Qh.exports;y0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qh.exports=x_(),Qh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function N_(){if(v0)return Nl;v0=1;var t=C_(),e=Kp(),i=R_();function o(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(o(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(o(188));return s!==n?null:n}for(var a=n,u=s;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return p(g),n;if(y===u)return p(g),s;y=y.sibling}throw Error(o(188))}if(a.return!==u.return)a=g,u=y;else{for(var b=!1,C=g.child;C;){if(C===a){b=!0,a=g,u=y;break}if(C===u){b=!0,u=g,a=y;break}C=C.sibling}if(!b){for(C=y.child;C;){if(C===a){b=!0,a=y,u=g;break}if(C===u){b=!0,u=y,a=g;break}C=C.sibling}if(!b)throw Error(o(189))}}if(a.alternate!==u)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=he&&n[he]||n["@@iterator"],typeof n=="function"?n:null)}var ve=Symbol.for("react.client.reference");function Ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ve?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case k:return"Profiler";case D:return"StrictMode";case Z:return"Suspense";case ee:return"SuspenseList";case W:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case H:return n.displayName||"Context";case J:return(n._context.displayName||"Context")+".Consumer";case ie:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case te:return s=n.displayName||null,s!==null?s:Ce(n.type)||"Memo";case Se:s=n._payload,n=n._init;try{return Ce(n(s))}catch{}}return null}var q=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ge=[],ce=-1;function M(n){return{current:n}}function X(n){0>ce||(n.current=ge[ce],ge[ce]=null,ce--)}function ae(n,s){ce++,ge[ce]=n.current,n.current=s}var de=M(null),be=M(null),Ne=M(null),me=M(null);function xe(n,s){switch(ae(Ne,s),ae(be,n),ae(de,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Dv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Dv(s),n=Lv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(de),ae(de,n)}function Pe(){X(de),X(be),X(Ne)}function it(n){n.memoizedState!==null&&ae(me,n);var s=de.current,a=Lv(s,n.type);s!==a&&(ae(be,n),ae(de,a))}function st(n){be.current===n&&(X(de),X(be)),me.current===n&&(X(me),Al._currentValue=ue)}var sn,vt;function Mn(n){if(sn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);sn=s&&s[1]||"",vt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+n+vt}var Ss=!1;function Dn(n,s){if(!n||Ss)return"";Ss=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(Y){var V=Y}Reflect.construct(n,[],j)}else{try{j.call()}catch(Y){V=Y}n.call(j.prototype)}}else{try{throw Error()}catch(Y){V=Y}(j=n())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(Y){if(Y&&V&&typeof Y.stack=="string")return[Y.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),b=y[0],C=y[1];if(b&&C){var N=b.split(`
`),z=C.split(`
`);for(g=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;if(u===N.length||g===z.length)for(u=N.length-1,g=z.length-1;1<=u&&0<=g&&N[u]!==z[g];)g--;for(;1<=u&&0<=g;u--,g--)if(N[u]!==z[g]){if(u!==1||g!==1)do if(u--,g--,0>g||N[u]!==z[g]){var K=`
`+N[u].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=u&&0<=g);break}}}finally{Ss=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Mn(a):""}function tr(n,s){switch(n.tag){case 26:case 27:case 5:return Mn(n.type);case 16:return Mn("Lazy");case 13:return n.child!==s&&s!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Dn(n.type,!1);case 11:return Dn(n.type.render,!1);case 1:return Dn(n.type,!0);case 31:return Mn("Activity");default:return""}}function co(n){try{var s="",a=null;do s+=tr(n,a),a=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var nr=Object.prototype.hasOwnProperty,ir=t.unstable_scheduleCallback,Li=t.unstable_cancelCallback,yu=t.unstable_shouldYield,vu=t.unstable_requestPaint,kt=t.unstable_now,Su=t.unstable_getCurrentPriorityLevel,Es=t.unstable_ImmediatePriority,Pa=t.unstable_UserBlockingPriority,mi=t.unstable_NormalPriority,Ln=t.unstable_LowPriority,sr=t.unstable_IdlePriority,Eu=t.log,qa=t.unstable_setDisableYieldValue,bs=null,Ft=null;function Wn(n){if(typeof Eu=="function"&&qa(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(bs,n)}catch{}}var Ut=Math.clz32?Math.clz32:Tu,Zn=Math.log,bu=Math.LN2;function Tu(n){return n>>>=0,n===0?32:31-(Zn(n)/bu|0)|0}var Ts=256,yn=262144,fo=4194304;function gi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ho(n,s,a){var u=n.pendingLanes;if(u===0)return 0;var g=0,y=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?g=gi(u):(b&=C,b!==0?g=gi(b):a||(a=C&~n,a!==0&&(g=gi(a))))):(C=u&~y,C!==0?g=gi(C):b!==0?g=gi(b):a||(a=u&~n,a!==0&&(g=gi(a)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,a=s&-s,y>=a||y===32&&(a&4194048)!==0)?s:g}function ws(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function wu(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ba(){var n=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),n}function yi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function vi(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function or(n,s,a,u,g,y){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,N=n.expirationTimes,z=n.hiddenUpdates;for(a=b&~a;0<a;){var K=31-Ut(a),j=1<<K;C[K]=0,N[K]=-1;var V=z[K];if(V!==null)for(z[K]=null,K=0;K<V.length;K++){var Y=V[K];Y!==null&&(Y.lane&=-536870913)}a&=~j}u!==0&&po(n,u,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(b&~s))}function po(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ut(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function mo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-Ut(a),g=1<<u;g&s|n[u]&s&&(n[u]|=s),a&=~g}}function go(n,s){var a=s&-s;return a=(a&42)!==0?1:yo(a),(a&(n.suspendedLanes|s))!==0?0:a}function yo(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vo(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ha(){var n=$.p;return n!==0?n:(n=window.event,n===void 0?32:n0(n.type))}function rr(n,s){var a=$.p;try{return $.p=n,s()}finally{$.p=a}}var jn=Math.random().toString(36).slice(2),St="__reactFiber$"+jn,Pt="__reactProps$"+jn,ki="__reactContainer$"+jn,ar="__reactEvents$"+jn,lr="__reactListeners$"+jn,Ud="__reactHandles$"+jn,Oa="__reactResources$"+jn,I="__reactMarker$"+jn;function F(n){delete n[St],delete n[Pt],delete n[ar],delete n[lr],delete n[Ud]}function se(n){var s=n[St];if(s)return s;for(var a=n.parentNode;a;){if(s=a[ki]||a[St]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Ov(n);n!==null;){if(a=n[St])return a;n=Ov(n)}return s}n=a,a=n.parentNode}return null}function re(n){if(n=n[St]||n[ki]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function le(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(o(33))}function Me(n){var s=n[Oa];return s||(s=n[Oa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _e(n){n[I]=!0}var We=new Set,kn={};function Wt(n,s){dt(n,s),dt(n+"Capture",s)}function dt(n,s){for(kn[n]=s,n=0;n<s.length;n++)We.add(s[n])}var lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yt={},Au={};function ur(n){return nr.call(Au,n)?!0:nr.call(Yt,n)?!1:lt.test(n)?Au[n]=!0:(Yt[n]=!0,!1)}function _u(n,s,a){if(ur(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Cu(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ui(n,s,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+u)}}function Un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Am(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fw(n,s,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(b){a=""+b,y.call(this,b)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Pd(n){if(!n._valueTracker){var s=Am(n)?"checked":"value";n._valueTracker=fw(n,s,""+n[s])}}function _m(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=Am(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function xu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var hw=/[\n"\\]/g;function Pn(n){return n.replace(hw,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qd(n,s,a,u,g,y,b,C){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Un(s)):n.value!==""+Un(s)&&(n.value=""+Un(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Bd(n,b,Un(s)):a!=null?Bd(n,b,Un(a)):u!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Un(C):n.removeAttribute("name")}function Cm(n,s,a,u,g,y,b,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Pd(n);return}a=a!=null?""+Un(a):"",s=s!=null?""+Un(s):a,C||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),Pd(n)}function Bd(n,s,a){s==="number"&&xu(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function cr(n,s,a,u){if(n=n.options,s){s={};for(var g=0;g<a.length;g++)s["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=s.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Un(a),s=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function xm(n,s,a){if(s!=null&&(s=""+Un(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Un(a):""}function Rm(n,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(o(92));if(q(u)){if(1<u.length)throw Error(o(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=Un(s),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),Pd(n)}function dr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var pw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nm(n,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,a):typeof a!="number"||a===0||pw.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Im(n,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&a[g]!==u&&Nm(n,g,u)}else for(var y in s)s.hasOwnProperty(y)&&Nm(n,y,s[y])}function Hd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ru(n){return gw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Pi(){}var Od=null;function zd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fr=null,hr=null;function Mm(n){var s=re(n);if(s&&(n=s.stateNode)){var a=n[Pt]||null;e:switch(n=s.stateNode,s.type){case"input":if(qd(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var g=u[Pt]||null;if(!g)throw Error(o(90));qd(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===n.form&&_m(u)}break e;case"textarea":xm(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&cr(n,!!a.multiple,s,!1)}}}var Gd=!1;function Dm(n,s,a){if(Gd)return n(s,a);Gd=!0;try{var u=n(s);return u}finally{if(Gd=!1,(fr!==null||hr!==null)&&(mc(),fr&&(s=fr,n=hr,hr=fr=null,Mm(s),n)))for(s=0;s<n.length;s++)Mm(n[s])}}function za(n,s){var a=n.stateNode;if(a===null)return null;var u=a[Pt]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vd=!1;if(qi)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Vd=!1}var As=null,Fd=null,Nu=null;function Lm(){if(Nu)return Nu;var n,s=Fd,a=s.length,u,g="value"in As?As.value:As.textContent,y=g.length;for(n=0;n<a&&s[n]===g[n];n++);var b=a-n;for(u=1;u<=b&&s[a-u]===g[y-u];u++);return Nu=g.slice(n,1<u?1-u:void 0)}function Iu(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Mu(){return!0}function km(){return!1}function on(n){function s(a,u,g,y,b){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Mu:km,this.isPropagationStopped=km,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),s}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=on(So),Va=S({},So,{view:0,detail:0}),yw=on(Va),Yd,Jd,Fa,Lu=S({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fa&&(Fa&&n.type==="mousemove"?(Yd=n.screenX-Fa.screenX,Jd=n.screenY-Fa.screenY):Jd=Yd=0,Fa=n),Yd)},movementY:function(n){return"movementY"in n?n.movementY:Jd}}),Um=on(Lu),vw=S({},Lu,{dataTransfer:0}),Sw=on(vw),Ew=S({},Va,{relatedTarget:0}),$d=on(Ew),bw=S({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),Tw=on(bw),ww=S({},So,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Aw=on(ww),_w=S({},So,{data:0}),Pm=on(_w),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Rw[n])?!!s[n]:!1}function Kd(){return Nw}var Iw=S({},Va,{key:function(n){if(n.key){var s=Cw[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Iu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(n){return n.type==="keypress"?Iu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Iu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mw=on(Iw),Dw=S({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=on(Dw),Lw=S({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),kw=on(Lw),Uw=S({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pw=on(Uw),qw=S({},Lu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Bw=on(qw),Hw=S({},So,{newState:0,oldState:0}),Ow=on(Hw),zw=[9,13,27,32],Xd=qi&&"CompositionEvent"in window,Ya=null;qi&&"documentMode"in document&&(Ya=document.documentMode);var Gw=qi&&"TextEvent"in window&&!Ya,Bm=qi&&(!Xd||Ya&&8<Ya&&11>=Ya),Hm=" ",Om=!1;function zm(n,s){switch(n){case"keyup":return zw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pr=!1;function Vw(n,s){switch(n){case"compositionend":return Gm(s);case"keypress":return s.which!==32?null:(Om=!0,Hm);case"textInput":return n=s.data,n===Hm&&Om?null:n;default:return null}}function Fw(n,s){if(pr)return n==="compositionend"||!Xd&&zm(n,s)?(n=Lm(),Nu=Fd=As=null,pr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bm&&s.locale!=="ko"?null:s.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Yw[n.type]:s==="textarea"}function Fm(n,s,a,u){fr?hr?hr.push(u):hr=[u]:fr=u,s=Tc(s,"onChange"),0<s.length&&(a=new Du("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var Ja=null,$a=null;function Jw(n){Cv(n,0)}function ku(n){var s=le(n);if(_m(s))return n}function Ym(n,s){if(n==="change")return s}var Jm=!1;if(qi){var Qd;if(qi){var Wd="oninput"in document;if(!Wd){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Wd=typeof $m.oninput=="function"}Qd=Wd}else Qd=!1;Jm=Qd&&(!document.documentMode||9<document.documentMode)}function Km(){Ja&&(Ja.detachEvent("onpropertychange",Xm),$a=Ja=null)}function Xm(n){if(n.propertyName==="value"&&ku($a)){var s=[];Fm(s,$a,n,zd(n)),Dm(Jw,s)}}function $w(n,s,a){n==="focusin"?(Km(),Ja=s,$a=a,Ja.attachEvent("onpropertychange",Xm)):n==="focusout"&&Km()}function Kw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ku($a)}function Xw(n,s){if(n==="click")return ku(s)}function Qw(n,s){if(n==="input"||n==="change")return ku(s)}function Ww(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var vn=typeof Object.is=="function"?Object.is:Ww;function Ka(n,s){if(vn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!nr.call(s,g)||!vn(n[g],s[g]))return!1}return!0}function Qm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wm(n,s){var a=Qm(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qm(a)}}function Zm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Zm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function jm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=xu(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=xu(n.document)}return s}function Zd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Zw=qi&&"documentMode"in document&&11>=document.documentMode,mr=null,jd=null,Xa=null,ef=!1;function eg(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||mr==null||mr!==xu(u)||(u=mr,"selectionStart"in u&&Zd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xa&&Ka(Xa,u)||(Xa=u,u=Tc(jd,"onSelect"),0<u.length&&(s=new Du("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=mr)))}function Eo(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var gr={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionrun:Eo("Transition","TransitionRun"),transitionstart:Eo("Transition","TransitionStart"),transitioncancel:Eo("Transition","TransitionCancel"),transitionend:Eo("Transition","TransitionEnd")},tf={},tg={};qi&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function bo(n){if(tf[n])return tf[n];if(!gr[n])return n;var s=gr[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in tg)return tf[n]=s[a];return n}var ng=bo("animationend"),ig=bo("animationiteration"),sg=bo("animationstart"),jw=bo("transitionrun"),eA=bo("transitionstart"),tA=bo("transitioncancel"),og=bo("transitionend"),rg=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function ei(n,s){rg.set(n,s),Wt(s,[n])}var Uu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},qn=[],yr=0,sf=0;function Pu(){for(var n=yr,s=sf=yr=0;s<n;){var a=qn[s];qn[s++]=null;var u=qn[s];qn[s++]=null;var g=qn[s];qn[s++]=null;var y=qn[s];if(qn[s++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}y!==0&&ag(a,g,y)}}function qu(n,s,a,u){qn[yr++]=n,qn[yr++]=s,qn[yr++]=a,qn[yr++]=u,sf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function of(n,s,a,u){return qu(n,s,a,u),Bu(n)}function To(n,s){return qu(n,null,null,s),Bu(n)}function ag(n,s,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var g=!1,y=n.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&s!==null&&(g=31-Ut(a),n=y.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=a|536870912),y):null}function Bu(n){if(50<yl)throw yl=0,ph=null,Error(o(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var vr={};function nA(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,s,a,u){return new nA(n,s,a,u)}function rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bi(n,s){var a=n.alternate;return a===null?(a=Sn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function lg(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Hu(n,s,a,u,g,y){var b=0;if(u=n,typeof n=="function")rf(n)&&(b=1);else if(typeof n=="string")b=a_(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case W:return n=Sn(31,a,s,g),n.elementType=W,n.lanes=y,n;case _:return wo(a.children,g,y,s);case D:b=8,g|=24;break;case k:return n=Sn(12,a,s,g|2),n.elementType=k,n.lanes=y,n;case Z:return n=Sn(13,a,s,g),n.elementType=Z,n.lanes=y,n;case ee:return n=Sn(19,a,s,g),n.elementType=ee,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:b=10;break e;case J:b=9;break e;case ie:b=11;break e;case te:b=14;break e;case Se:b=16,u=null;break e}b=29,a=Error(o(130,n===null?"null":typeof n,"")),u=null}return s=Sn(b,a,s,g),s.elementType=n,s.type=u,s.lanes=y,s}function wo(n,s,a,u){return n=Sn(7,n,u,s),n.lanes=a,n}function af(n,s,a){return n=Sn(6,n,null,s),n.lanes=a,n}function ug(n){var s=Sn(18,null,null,0);return s.stateNode=n,s}function lf(n,s,a){return s=Sn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var cg=new WeakMap;function Bn(n,s){if(typeof n=="object"&&n!==null){var a=cg.get(n);return a!==void 0?a:(s={value:n,source:s,stack:co(s)},cg.set(n,s),s)}return{value:n,source:s,stack:co(s)}}var Sr=[],Er=0,Ou=null,Qa=0,Hn=[],On=0,_s=null,Si=1,Ei="";function Hi(n,s){Sr[Er++]=Qa,Sr[Er++]=Ou,Ou=n,Qa=s}function dg(n,s,a){Hn[On++]=Si,Hn[On++]=Ei,Hn[On++]=_s,_s=n;var u=Si;n=Ei;var g=32-Ut(u)-1;u&=~(1<<g),a+=1;var y=32-Ut(s)+g;if(30<y){var b=g-g%5;y=(u&(1<<b)-1).toString(32),u>>=b,g-=b,Si=1<<32-Ut(s)+g|a<<g|u,Ei=y+n}else Si=1<<y|a<<g|u,Ei=n}function uf(n){n.return!==null&&(Hi(n,1),dg(n,1,0))}function cf(n){for(;n===Ou;)Ou=Sr[--Er],Sr[Er]=null,Qa=Sr[--Er],Sr[Er]=null;for(;n===_s;)_s=Hn[--On],Hn[On]=null,Ei=Hn[--On],Hn[On]=null,Si=Hn[--On],Hn[On]=null}function fg(n,s){Hn[On++]=Si,Hn[On++]=Ei,Hn[On++]=_s,Si=s.id,Ei=s.overflow,_s=n}var qt=null,ot=null,Oe=!1,Cs=null,zn=!1,df=Error(o(519));function xs(n){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wa(Bn(s,n)),df}function hg(n){var s=n.stateNode,a=n.type,u=n.memoizedProps;switch(s[St]=n,s[Pt]=u,a){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Ue(Sl[a],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),Cm(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),Rm(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Iv(s.textContent,a)?(u.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),u.onScroll!=null&&Ue("scroll",s),u.onScrollEnd!=null&&Ue("scrollend",s),u.onClick!=null&&(s.onclick=Pi),s=!0):s=!1,s||xs(n,!0)}function pg(n){for(qt=n.return;qt;)switch(qt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:qt=qt.return}}function br(n){if(n!==qt)return!1;if(!Oe)return pg(n),Oe=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Nh(n.type,n.memoizedProps)),a=!a),a&&ot&&xs(n),pg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));ot=Hv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));ot=Hv(n)}else s===27?(s=ot,zs(n.type)?(n=kh,kh=null,ot=n):ot=s):ot=qt?Vn(n.stateNode.nextSibling):null;return!0}function Ao(){ot=qt=null,Oe=!1}function ff(){var n=Cs;return n!==null&&(un===null?un=n:un.push.apply(un,n),Cs=null),n}function Wa(n){Cs===null?Cs=[n]:Cs.push(n)}var hf=M(null),_o=null,Oi=null;function Rs(n,s,a){ae(hf,s._currentValue),s._currentValue=a}function zi(n){n._currentValue=hf.current,X(hf)}function pf(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function mf(n,s,a,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var b=g.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=g;for(var N=0;N<s.length;N++)if(C.context===s[N]){y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),pf(y.return,a,n),u||(b=null);break e}y=C.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(o(341));b.lanes|=a,y=b.alternate,y!==null&&(y.lanes|=a),pf(b,a,n),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===n){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function Tr(n,s,a,u){n=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var C=g.type;vn(g.pendingProps.value,b.value)||(n!==null?n.push(C):n=[C])}}else if(g===me.current){if(b=g.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Al):n=[Al])}g=g.return}n!==null&&mf(s,n,a,u),s.flags|=262144}function zu(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Co(n){_o=n,Oi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Bt(n){return mg(_o,n)}function Gu(n,s){return _o===null&&Co(n),mg(n,s)}function mg(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Oi===null){if(n===null)throw Error(o(308));Oi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Oi=Oi.next=s;return a}var iA=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},sA=t.unstable_scheduleCallback,oA=t.unstable_NormalPriority,Et={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new iA,data:new Map,refCount:0}}function Za(n){n.refCount--,n.refCount===0&&sA(oA,function(){n.controller.abort()})}var ja=null,yf=0,wr=0,Ar=null;function rA(n,s){if(ja===null){var a=ja=[];yf=0,wr=Eh(),Ar={status:"pending",value:void 0,then:function(u){a.push(u)}}}return yf++,s.then(gg,gg),s}function gg(){if(--yf===0&&ja!==null){Ar!==null&&(Ar.status="fulfilled");var n=ja;ja=null,wr=0,Ar=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function aA(n,s){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<a.length;g++)(0,a[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var yg=R.S;R.S=function(n,s){ev=kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&rA(n,s),yg!==null&&yg(n,s)};var xo=M(null);function vf(){var n=xo.current;return n!==null?n:nt.pooledCache}function Vu(n,s){s===null?ae(xo,xo.current):ae(xo,s.pool)}function vg(){var n=vf();return n===null?null:{parent:Et._currentValue,pool:n}}var _r=Error(o(460)),Sf=Error(o(474)),Fu=Error(o(542)),Yu={then:function(){}};function Sg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Eg(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Pi,Pi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Tg(n),n;default:if(typeof s.status=="string")s.then(Pi,Pi);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Tg(n),n}throw No=s,_r}}function Ro(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(No=a,_r):a}}var No=null;function bg(){if(No===null)throw Error(o(459));var n=No;return No=null,n}function Tg(n){if(n===_r||n===Fu)throw Error(o(483))}var Cr=null,el=0;function Ju(n){var s=el;return el+=1,Cr===null&&(Cr=[]),Eg(Cr,n,s)}function tl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function $u(n,s){throw s.$$typeof===E?Error(o(525)):(n=Object.prototype.toString.call(s),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function wg(n){function s(U,L){if(n){var O=U.deletions;O===null?(U.deletions=[L],U.flags|=16):O.push(L)}}function a(U,L){if(!n)return null;for(;L!==null;)s(U,L),L=L.sibling;return null}function u(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function g(U,L){return U=Bi(U,L),U.index=0,U.sibling=null,U}function y(U,L,O){return U.index=O,n?(O=U.alternate,O!==null?(O=O.index,O<L?(U.flags|=67108866,L):O):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function b(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function C(U,L,O,Q){return L===null||L.tag!==6?(L=af(O,U.mode,Q),L.return=U,L):(L=g(L,O),L.return=U,L)}function N(U,L,O,Q){var Te=O.type;return Te===_?K(U,L,O.props.children,Q,O.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Se&&Ro(Te)===L.type)?(L=g(L,O.props),tl(L,O),L.return=U,L):(L=Hu(O.type,O.key,O.props,null,U.mode,Q),tl(L,O),L.return=U,L)}function z(U,L,O,Q){return L===null||L.tag!==4||L.stateNode.containerInfo!==O.containerInfo||L.stateNode.implementation!==O.implementation?(L=lf(O,U.mode,Q),L.return=U,L):(L=g(L,O.children||[]),L.return=U,L)}function K(U,L,O,Q,Te){return L===null||L.tag!==7?(L=wo(O,U.mode,Q,Te),L.return=U,L):(L=g(L,O),L.return=U,L)}function j(U,L,O){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=af(""+L,U.mode,O),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return O=Hu(L.type,L.key,L.props,null,U.mode,O),tl(O,L),O.return=U,O;case x:return L=lf(L,U.mode,O),L.return=U,L;case Se:return L=Ro(L),j(U,L,O)}if(q(L)||fe(L))return L=wo(L,U.mode,O,null),L.return=U,L;if(typeof L.then=="function")return j(U,Ju(L),O);if(L.$$typeof===H)return j(U,Gu(U,L),O);$u(U,L)}return null}function V(U,L,O,Q){var Te=L!==null?L.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return Te!==null?null:C(U,L,""+O,Q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return O.key===Te?N(U,L,O,Q):null;case x:return O.key===Te?z(U,L,O,Q):null;case Se:return O=Ro(O),V(U,L,O,Q)}if(q(O)||fe(O))return Te!==null?null:K(U,L,O,Q,null);if(typeof O.then=="function")return V(U,L,Ju(O),Q);if(O.$$typeof===H)return V(U,L,Gu(U,O),Q);$u(U,O)}return null}function Y(U,L,O,Q,Te){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(O)||null,C(L,U,""+Q,Te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return U=U.get(Q.key===null?O:Q.key)||null,N(L,U,Q,Te);case x:return U=U.get(Q.key===null?O:Q.key)||null,z(L,U,Q,Te);case Se:return Q=Ro(Q),Y(U,L,O,Q,Te)}if(q(Q)||fe(Q))return U=U.get(O)||null,K(L,U,Q,Te,null);if(typeof Q.then=="function")return Y(U,L,O,Ju(Q),Te);if(Q.$$typeof===H)return Y(U,L,O,Gu(L,Q),Te);$u(L,Q)}return null}function ye(U,L,O,Q){for(var Te=null,Fe=null,Ee=L,Le=L=0,Be=null;Ee!==null&&Le<O.length;Le++){Ee.index>Le?(Be=Ee,Ee=null):Be=Ee.sibling;var Ye=V(U,Ee,O[Le],Q);if(Ye===null){Ee===null&&(Ee=Be);break}n&&Ee&&Ye.alternate===null&&s(U,Ee),L=y(Ye,L,Le),Fe===null?Te=Ye:Fe.sibling=Ye,Fe=Ye,Ee=Be}if(Le===O.length)return a(U,Ee),Oe&&Hi(U,Le),Te;if(Ee===null){for(;Le<O.length;Le++)Ee=j(U,O[Le],Q),Ee!==null&&(L=y(Ee,L,Le),Fe===null?Te=Ee:Fe.sibling=Ee,Fe=Ee);return Oe&&Hi(U,Le),Te}for(Ee=u(Ee);Le<O.length;Le++)Be=Y(Ee,U,Le,O[Le],Q),Be!==null&&(n&&Be.alternate!==null&&Ee.delete(Be.key===null?Le:Be.key),L=y(Be,L,Le),Fe===null?Te=Be:Fe.sibling=Be,Fe=Be);return n&&Ee.forEach(function(Js){return s(U,Js)}),Oe&&Hi(U,Le),Te}function Ae(U,L,O,Q){if(O==null)throw Error(o(151));for(var Te=null,Fe=null,Ee=L,Le=L=0,Be=null,Ye=O.next();Ee!==null&&!Ye.done;Le++,Ye=O.next()){Ee.index>Le?(Be=Ee,Ee=null):Be=Ee.sibling;var Js=V(U,Ee,Ye.value,Q);if(Js===null){Ee===null&&(Ee=Be);break}n&&Ee&&Js.alternate===null&&s(U,Ee),L=y(Js,L,Le),Fe===null?Te=Js:Fe.sibling=Js,Fe=Js,Ee=Be}if(Ye.done)return a(U,Ee),Oe&&Hi(U,Le),Te;if(Ee===null){for(;!Ye.done;Le++,Ye=O.next())Ye=j(U,Ye.value,Q),Ye!==null&&(L=y(Ye,L,Le),Fe===null?Te=Ye:Fe.sibling=Ye,Fe=Ye);return Oe&&Hi(U,Le),Te}for(Ee=u(Ee);!Ye.done;Le++,Ye=O.next())Ye=Y(Ee,U,Le,Ye.value,Q),Ye!==null&&(n&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Le:Ye.key),L=y(Ye,L,Le),Fe===null?Te=Ye:Fe.sibling=Ye,Fe=Ye);return n&&Ee.forEach(function(v_){return s(U,v_)}),Oe&&Hi(U,Le),Te}function et(U,L,O,Q){if(typeof O=="object"&&O!==null&&O.type===_&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case A:e:{for(var Te=O.key;L!==null;){if(L.key===Te){if(Te=O.type,Te===_){if(L.tag===7){a(U,L.sibling),Q=g(L,O.props.children),Q.return=U,U=Q;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Se&&Ro(Te)===L.type){a(U,L.sibling),Q=g(L,O.props),tl(Q,O),Q.return=U,U=Q;break e}a(U,L);break}else s(U,L);L=L.sibling}O.type===_?(Q=wo(O.props.children,U.mode,Q,O.key),Q.return=U,U=Q):(Q=Hu(O.type,O.key,O.props,null,U.mode,Q),tl(Q,O),Q.return=U,U=Q)}return b(U);case x:e:{for(Te=O.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===O.containerInfo&&L.stateNode.implementation===O.implementation){a(U,L.sibling),Q=g(L,O.children||[]),Q.return=U,U=Q;break e}else{a(U,L);break}else s(U,L);L=L.sibling}Q=lf(O,U.mode,Q),Q.return=U,U=Q}return b(U);case Se:return O=Ro(O),et(U,L,O,Q)}if(q(O))return ye(U,L,O,Q);if(fe(O)){if(Te=fe(O),typeof Te!="function")throw Error(o(150));return O=Te.call(O),Ae(U,L,O,Q)}if(typeof O.then=="function")return et(U,L,Ju(O),Q);if(O.$$typeof===H)return et(U,L,Gu(U,O),Q);$u(U,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,L!==null&&L.tag===6?(a(U,L.sibling),Q=g(L,O),Q.return=U,U=Q):(a(U,L),Q=af(O,U.mode,Q),Q.return=U,U=Q),b(U)):a(U,L)}return function(U,L,O,Q){try{el=0;var Te=et(U,L,O,Q);return Cr=null,Te}catch(Ee){if(Ee===_r||Ee===Fu)throw Ee;var Fe=Sn(29,Ee,null,U.mode);return Fe.lanes=Q,Fe.return=U,Fe}finally{}}}var Io=wg(!0),Ag=wg(!1),Ns=!1;function Ef(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Is(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ms(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Bu(n),ag(n,null,a),s}return qu(n,u,s,a),Bu(n)}function nl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,mo(n,a)}}function Tf(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?g=y=b:y=y.next=b,a=a.next}while(a!==null);y===null?g=y=s:y=y.next=s}else g=y=s;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var wf=!1;function il(){if(wf){var n=Ar;if(n!==null)throw n}}function sl(n,s,a,u){wf=!1;var g=n.updateQueue;Ns=!1;var y=g.firstBaseUpdate,b=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var N=C,z=N.next;N.next=null,b===null?y=z:b.next=z,b=N;var K=n.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==b&&(C===null?K.firstBaseUpdate=z:C.next=z,K.lastBaseUpdate=N))}if(y!==null){var j=g.baseState;b=0,K=z=N=null,C=y;do{var V=C.lane&-536870913,Y=V!==C.lane;if(Y?(qe&V)===V:(u&V)===V){V!==0&&V===wr&&(wf=!0),K!==null&&(K=K.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=n,Ae=C;V=s;var et=a;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){j=ye.call(et,j,V);break e}j=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,V=typeof ye=="function"?ye.call(et,j,V):ye,V==null)break e;j=S({},j,V);break e;case 2:Ns=!0}}V=C.callback,V!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=g.callbacks,Y===null?g.callbacks=[V]:Y.push(V))}else Y={lane:V,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(z=K=Y,N=j):K=K.next=Y,b|=V;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,g.lastBaseUpdate=Y,g.shared.pending=null}}while(!0);K===null&&(N=j),g.baseState=N,g.firstBaseUpdate=z,g.lastBaseUpdate=K,y===null&&(g.shared.lanes=0),Ps|=b,n.lanes=b,n.memoizedState=j}}function _g(n,s){if(typeof n!="function")throw Error(o(191,n));n.call(s)}function Cg(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)_g(a[n],s)}var xr=M(null),Ku=M(0);function xg(n,s){n=Qi,ae(Ku,n),ae(xr,s),Qi=n|s.baseLanes}function Af(){ae(Ku,Qi),ae(xr,xr.current)}function _f(){Qi=Ku.current,X(xr),X(Ku)}var En=M(null),Gn=null;function Ds(n){var s=n.alternate;ae(mt,mt.current&1),ae(En,n),Gn===null&&(s===null||xr.current!==null||s.memoizedState!==null)&&(Gn=n)}function Cf(n){ae(mt,mt.current),ae(En,n),Gn===null&&(Gn=n)}function Rg(n){n.tag===22?(ae(mt,mt.current),ae(En,n),Gn===null&&(Gn=n)):Ls()}function Ls(){ae(mt,mt.current),ae(En,En.current)}function bn(n){X(En),Gn===n&&(Gn=null),X(mt)}var mt=M(0);function Xu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dh(a)||Lh(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gi=0,De=null,Ze=null,bt=null,Qu=!1,Rr=!1,Mo=!1,Wu=0,ol=0,Nr=null,lA=0;function ft(){throw Error(o(321))}function xf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!vn(n[a],s[a]))return!1;return!0}function Rf(n,s,a,u,g,y){return Gi=y,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=n===null||n.memoizedState===null?dy:Vf,Mo=!1,y=a(u,g),Mo=!1,Rr&&(y=Ig(s,a,u,g)),Ng(n),y}function Ng(n){R.H=ll;var s=Ze!==null&&Ze.next!==null;if(Gi=0,bt=Ze=De=null,Qu=!1,ol=0,Nr=null,s)throw Error(o(300));n===null||Tt||(n=n.dependencies,n!==null&&zu(n)&&(Tt=!0))}function Ig(n,s,a,u){De=n;var g=0;do{if(Rr&&(Nr=null),ol=0,Rr=!1,25<=g)throw Error(o(301));if(g+=1,bt=Ze=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=fy,y=s(a,u)}while(Rr);return y}function uA(){var n=R.H,s=n.useState()[0];return s=typeof s.then=="function"?rl(s):s,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(De.flags|=1024),s}function Nf(){var n=Wu!==0;return Wu=0,n}function If(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Mf(n){if(Qu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Qu=!1}Gi=0,bt=Ze=De=null,Rr=!1,ol=Wu=0,Nr=null}function Zt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=n:bt=bt.next=n,bt}function gt(){if(Ze===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var s=bt===null?De.memoizedState:bt.next;if(s!==null)bt=s,Ze=n;else{if(n===null)throw De.alternate===null?Error(o(467)):Error(o(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?De.memoizedState=bt=n:bt=bt.next=n}return bt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(n){var s=ol;return ol+=1,Nr===null&&(Nr=[]),n=Eg(Nr,n,s),s=De,(bt===null?s.memoizedState:bt.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?dy:Vf),n}function ju(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return rl(n);if(n.$$typeof===H)return Bt(n)}throw Error(o(438,String(n)))}function Df(n){var s=null,a=De.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Zu(),De.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),u=0;u<n;u++)a[u]=P;return s.index++,a}function Vi(n,s){return typeof s=="function"?s(n):s}function ec(n){var s=gt();return Lf(s,Ze,n)}function Lf(n,s,a){var u=n.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=a;var g=n.baseQueue,y=u.pending;if(y!==null){if(g!==null){var b=g.next;g.next=y.next,y.next=b}s.baseQueue=g=y,u.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{s=g.next;var C=b=null,N=null,z=s,K=!1;do{var j=z.lane&-536870913;if(j!==z.lane?(qe&j)===j:(Gi&j)===j){var V=z.revertLane;if(V===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),j===wr&&(K=!0);else if((Gi&V)===V){z=z.next,V===wr&&(K=!0);continue}else j={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(C=N=j,b=y):N=N.next=j,De.lanes|=V,Ps|=V;j=z.action,Mo&&a(y,j),y=z.hasEagerState?z.eagerState:a(y,j)}else V={lane:j,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(C=N=V,b=y):N=N.next=V,De.lanes|=j,Ps|=j;z=z.next}while(z!==null&&z!==s);if(N===null?b=y:N.next=C,!vn(y,n.memoizedState)&&(Tt=!0,K&&(a=Ar,a!==null)))throw a;n.memoizedState=y,n.baseState=b,n.baseQueue=N,u.lastRenderedState=y}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function kf(n){var s=gt(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var u=a.dispatch,g=a.pending,y=s.memoizedState;if(g!==null){a.pending=null;var b=g=g.next;do y=n(y,b.action),b=b.next;while(b!==g);vn(y,s.memoizedState)||(Tt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,u]}function Mg(n,s,a){var u=De,g=gt(),y=Oe;if(y){if(a===void 0)throw Error(o(407));a=a()}else a=s();var b=!vn((Ze||g).memoizedState,a);if(b&&(g.memoizedState=a,Tt=!0),g=g.queue,qf(kg.bind(null,u,g,n),[n]),g.getSnapshot!==s||b||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Ir(9,{destroy:void 0},Lg.bind(null,u,g,a,s),null),nt===null)throw Error(o(349));y||(Gi&127)!==0||Dg(u,s,a)}return a}function Dg(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=De.updateQueue,s===null?(s=Zu(),De.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Lg(n,s,a,u){s.value=a,s.getSnapshot=u,Ug(s)&&Pg(n)}function kg(n,s,a){return a(function(){Ug(s)&&Pg(n)})}function Ug(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!vn(n,a)}catch{return!0}}function Pg(n){var s=To(n,2);s!==null&&cn(s,n,2)}function Uf(n){var s=Zt();if(typeof n=="function"){var a=n;if(n=a(),Mo){Wn(!0);try{a()}finally{Wn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:n},s}function qg(n,s,a,u){return n.baseState=a,Lf(n,Ze,typeof u=="function"?u:Vi)}function cA(n,s,a,u,g){if(ic(n))throw Error(o(485));if(n=s.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};R.T!==null?a(!0):y.isTransition=!1,u(y),a=s.pending,a===null?(y.next=s.pending=y,Bg(s,y)):(y.next=a.next,s.pending=a.next=y)}}function Bg(n,s){var a=s.action,u=s.payload,g=n.state;if(s.isTransition){var y=R.T,b={};R.T=b;try{var C=a(g,u),N=R.S;N!==null&&N(b,C),Hg(n,s,C)}catch(z){Pf(n,s,z)}finally{y!==null&&b.types!==null&&(y.types=b.types),R.T=y}}else try{y=a(g,u),Hg(n,s,y)}catch(z){Pf(n,s,z)}}function Hg(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Og(n,s,u)},function(u){return Pf(n,s,u)}):Og(n,s,a)}function Og(n,s,a){s.status="fulfilled",s.value=a,zg(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Bg(n,a)))}function Pf(n,s,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,zg(s),s=s.next;while(s!==u)}n.action=null}function zg(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Gg(n,s){return s}function Vg(n,s){if(Oe){var a=nt.formState;if(a!==null){e:{var u=De;if(Oe){if(ot){t:{for(var g=ot,y=zn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Vn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ot=Vn(g.nextSibling),u=g.data==="F!";break e}}xs(u)}u=!1}u&&(s=a[0])}}return a=Zt(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:s},a.queue=u,a=ly.bind(null,De,u),u.dispatch=a,u=Uf(!1),y=Gf.bind(null,De,!1,u.queue),u=Zt(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,a=cA.bind(null,De,g,y,a),g.dispatch=a,u.memoizedState=n,[s,a,!1]}function Fg(n){var s=gt();return Yg(s,Ze,n)}function Yg(n,s,a){if(s=Lf(n,s,Gg)[0],n=ec(Vi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=rl(s)}catch(b){throw b===_r?Fu:b}else u=s;s=gt();var g=s.queue,y=g.dispatch;return a!==s.memoizedState&&(De.flags|=2048,Ir(9,{destroy:void 0},dA.bind(null,g,a),null)),[u,y,n]}function dA(n,s){n.action=s}function Jg(n){var s=gt(),a=Ze;if(a!==null)return Yg(s,a,n);gt(),s=s.memoizedState,a=gt();var u=a.queue.dispatch;return a.memoizedState=n,[s,u,!1]}function Ir(n,s,a,u){return n={tag:n,create:a,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=Zu(),De.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n),n}function $g(){return gt().memoizedState}function tc(n,s,a,u){var g=Zt();De.flags|=n,g.memoizedState=Ir(1|s,{destroy:void 0},a,u===void 0?null:u)}function nc(n,s,a,u){var g=gt();u=u===void 0?null:u;var y=g.memoizedState.inst;Ze!==null&&u!==null&&xf(u,Ze.memoizedState.deps)?g.memoizedState=Ir(s,y,a,u):(De.flags|=n,g.memoizedState=Ir(1|s,y,a,u))}function Kg(n,s){tc(8390656,8,n,s)}function qf(n,s){nc(2048,8,n,s)}function fA(n){De.flags|=4;var s=De.updateQueue;if(s===null)s=Zu(),De.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Xg(n){var s=gt().memoizedState;return fA({ref:s,nextImpl:n}),function(){if(($e&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Qg(n,s){return nc(4,2,n,s)}function Wg(n,s){return nc(4,4,n,s)}function Zg(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function jg(n,s,a){a=a!=null?a.concat([n]):null,nc(4,4,Zg.bind(null,s,n),a)}function Bf(){}function ey(n,s){var a=gt();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&xf(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function ty(n,s){var a=gt();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&xf(s,u[1]))return u[0];if(u=n(),Mo){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[u,s],u}function Hf(n,s,a){return a===void 0||(Gi&1073741824)!==0&&(qe&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=nv(),De.lanes|=n,Ps|=n,a)}function ny(n,s,a,u){return vn(a,s)?a:xr.current!==null?(n=Hf(n,a,u),vn(n,s)||(Tt=!0),n):(Gi&42)===0||(Gi&1073741824)!==0&&(qe&261930)===0?(Tt=!0,n.memoizedState=a):(n=nv(),De.lanes|=n,Ps|=n,s)}function iy(n,s,a,u,g){var y=$.p;$.p=y!==0&&8>y?y:8;var b=R.T,C={};R.T=C,Gf(n,!1,s,a);try{var N=g(),z=R.S;if(z!==null&&z(C,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=aA(N,u);al(n,s,K,An(n))}else al(n,s,u,An(n))}catch(j){al(n,s,{then:function(){},status:"rejected",reason:j},An())}finally{$.p=y,b!==null&&C.types!==null&&(b.types=C.types),R.T=b}}function hA(){}function Of(n,s,a,u){if(n.tag!==5)throw Error(o(476));var g=sy(n).queue;iy(n,g,s,ue,a===null?hA:function(){return oy(n),a(u)})}function sy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ue},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function oy(n){var s=sy(n);s.next===null&&(s=n.alternate.memoizedState),al(n,s.next.queue,{},An())}function zf(){return Bt(Al)}function ry(){return gt().memoizedState}function ay(){return gt().memoizedState}function pA(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=An();n=Is(a);var u=Ms(s,n,a);u!==null&&(cn(u,s,a),nl(u,s,a)),s={cache:gf()},n.payload=s;return}s=s.return}}function mA(n,s,a){var u=An();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(n)?uy(s,a):(a=of(n,s,a,u),a!==null&&(cn(a,n,u),cy(a,s,u)))}function ly(n,s,a){var u=An();al(n,s,a,u)}function al(n,s,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(n))uy(s,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var b=s.lastRenderedState,C=y(b,a);if(g.hasEagerState=!0,g.eagerState=C,vn(C,b))return qu(n,s,g,0),nt===null&&Pu(),!1}catch{}finally{}if(a=of(n,s,g,u),a!==null)return cn(a,n,u),cy(a,s,u),!0}return!1}function Gf(n,s,a,u){if(u={lane:2,revertLane:Eh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ic(n)){if(s)throw Error(o(479))}else s=of(n,a,u,2),s!==null&&cn(s,n,2)}function ic(n){var s=n.alternate;return n===De||s!==null&&s===De}function uy(n,s){Rr=Qu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function cy(n,s,a){if((a&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,mo(n,a)}}var ll={readContext:Bt,use:ju,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};ll.useEffectEvent=ft;var dy={readContext:Bt,use:ju,useCallback:function(n,s){return Zt().memoizedState=[n,s===void 0?null:s],n},useContext:Bt,useEffect:Kg,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,tc(4194308,4,Zg.bind(null,s,n),a)},useLayoutEffect:function(n,s){return tc(4194308,4,n,s)},useInsertionEffect:function(n,s){tc(4,2,n,s)},useMemo:function(n,s){var a=Zt();s=s===void 0?null:s;var u=n();if(Mo){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[u,s],u},useReducer:function(n,s,a){var u=Zt();if(a!==void 0){var g=a(s);if(Mo){Wn(!0);try{a(s)}finally{Wn(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=mA.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var s=Zt();return n={current:n},s.memoizedState=n},useState:function(n){n=Uf(n);var s=n.queue,a=ly.bind(null,De,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(n,s){var a=Zt();return Hf(a,n,s)},useTransition:function(){var n=Uf(!1);return n=iy.bind(null,De,n.queue,!0,!1),Zt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var u=De,g=Zt();if(Oe){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),nt===null)throw Error(o(349));(qe&127)!==0||Dg(u,s,a)}g.memoizedState=a;var y={value:a,getSnapshot:s};return g.queue=y,Kg(kg.bind(null,u,y,n),[n]),u.flags|=2048,Ir(9,{destroy:void 0},Lg.bind(null,u,y,a,s),null),a},useId:function(){var n=Zt(),s=nt.identifierPrefix;if(Oe){var a=Ei,u=Si;a=(u&~(1<<32-Ut(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Wu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=lA++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:zf,useFormState:Vg,useActionState:Vg,useOptimistic:function(n){var s=Zt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gf.bind(null,De,!0,a),a.dispatch=s,[n,s]},useMemoCache:Df,useCacheRefresh:function(){return Zt().memoizedState=pA.bind(null,De)},useEffectEvent:function(n){var s=Zt(),a={impl:n};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Vf={readContext:Bt,use:ju,useCallback:ey,useContext:Bt,useEffect:qf,useImperativeHandle:jg,useInsertionEffect:Qg,useLayoutEffect:Wg,useMemo:ty,useReducer:ec,useRef:$g,useState:function(){return ec(Vi)},useDebugValue:Bf,useDeferredValue:function(n,s){var a=gt();return ny(a,Ze.memoizedState,n,s)},useTransition:function(){var n=ec(Vi)[0],s=gt().memoizedState;return[typeof n=="boolean"?n:rl(n),s]},useSyncExternalStore:Mg,useId:ry,useHostTransitionStatus:zf,useFormState:Fg,useActionState:Fg,useOptimistic:function(n,s){var a=gt();return qg(a,Ze,n,s)},useMemoCache:Df,useCacheRefresh:ay};Vf.useEffectEvent=Xg;var fy={readContext:Bt,use:ju,useCallback:ey,useContext:Bt,useEffect:qf,useImperativeHandle:jg,useInsertionEffect:Qg,useLayoutEffect:Wg,useMemo:ty,useReducer:kf,useRef:$g,useState:function(){return kf(Vi)},useDebugValue:Bf,useDeferredValue:function(n,s){var a=gt();return Ze===null?Hf(a,n,s):ny(a,Ze.memoizedState,n,s)},useTransition:function(){var n=kf(Vi)[0],s=gt().memoizedState;return[typeof n=="boolean"?n:rl(n),s]},useSyncExternalStore:Mg,useId:ry,useHostTransitionStatus:zf,useFormState:Jg,useActionState:Jg,useOptimistic:function(n,s){var a=gt();return Ze!==null?qg(a,Ze,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:ay};fy.useEffectEvent=Xg;function Ff(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:S({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Yf={enqueueSetState:function(n,s,a){n=n._reactInternals;var u=An(),g=Is(u);g.payload=s,a!=null&&(g.callback=a),s=Ms(n,g,u),s!==null&&(cn(s,n,u),nl(s,n,u))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=An(),g=Is(u);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Ms(n,g,u),s!==null&&(cn(s,n,u),nl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=An(),u=Is(a);u.tag=2,s!=null&&(u.callback=s),s=Ms(n,u,a),s!==null&&(cn(s,n,a),nl(s,n,a))}};function hy(n,s,a,u,g,y,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,b):s.prototype&&s.prototype.isPureReactComponent?!Ka(a,u)||!Ka(g,y):!0}function py(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&Yf.enqueueReplaceState(s,s.state,null)}function Do(n,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(n=n.defaultProps){a===s&&(a=S({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}function my(n){Uu(n)}function gy(n){console.error(n)}function yy(n){Uu(n)}function sc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function vy(n,s,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Jf(n,s,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(n,s)},a}function Sy(n){return n=Is(n),n.tag=3,n}function Ey(n,s,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;n.payload=function(){return g(y)},n.callback=function(){vy(s,a,u)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){vy(s,a,u),typeof g!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function gA(n,s,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Tr(s,a,g,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?gc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===Yu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),yh(n,u,g)),!1;case 22:return a.flags|=65536,u===Yu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),yh(n,u,g)),!1}throw Error(o(435,a.tag))}return yh(n,u,g),gc(),!1}if(Oe)return s=En.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==df&&(n=Error(o(422),{cause:u}),Wa(Bn(n,a)))):(u!==df&&(s=Error(o(423),{cause:u}),Wa(Bn(s,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=Bn(u,a),g=Jf(n.stateNode,u,g),Tf(n,g),ht!==4&&(ht=2)),!1;var y=Error(o(520),{cause:u});if(y=Bn(y,a),gl===null?gl=[y]:gl.push(y),ht!==4&&(ht=2),s===null)return!0;u=Bn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=Jf(a.stateNode,u,n),Tf(a,n),!1;case 1:if(s=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qs===null||!qs.has(y))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Sy(g),Ey(g,n,a,u),Tf(a,g),!1}a=a.return}while(a!==null);return!1}var $f=Error(o(461)),Tt=!1;function Ht(n,s,a,u){s.child=n===null?Ag(s,null,a,u):Io(s,n.child,a,u)}function by(n,s,a,u,g){a=a.render;var y=s.ref;if("ref"in u){var b={};for(var C in u)C!=="ref"&&(b[C]=u[C])}else b=u;return Co(s),u=Rf(n,s,a,b,y,g),C=Nf(),n!==null&&!Tt?(If(n,s,g),Fi(n,s,g)):(Oe&&C&&uf(s),s.flags|=1,Ht(n,s,u,g),s.child)}function Ty(n,s,a,u,g){if(n===null){var y=a.type;return typeof y=="function"&&!rf(y)&&y.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=y,wy(n,s,y,u,g)):(n=Hu(a.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!th(n,g)){var b=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ka,a(b,u)&&n.ref===s.ref)return Fi(n,s,g)}return s.flags|=1,n=Bi(y,u),n.ref=s.ref,n.return=s,s.child=n}function wy(n,s,a,u,g){if(n!==null){var y=n.memoizedProps;if(Ka(y,u)&&n.ref===s.ref)if(Tt=!1,s.pendingProps=u=y,th(n,g))(n.flags&131072)!==0&&(Tt=!0);else return s.lanes=n.lanes,Fi(n,s,g)}return Kf(n,s,a,u,g)}function Ay(n,s,a,u){var g=u.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,s.child=null;return _y(n,s,y,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Vu(s,y!==null?y.cachePool:null),y!==null?xg(s,y):Af(),Rg(s);else return u=s.lanes=536870912,_y(n,s,y!==null?y.baseLanes|a:a,a,u)}else y!==null?(Vu(s,y.cachePool),xg(s,y),Ls(),s.memoizedState=null):(n!==null&&Vu(s,null),Af(),Ls());return Ht(n,s,g,a),s.child}function ul(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _y(n,s,a,u,g){var y=vf();return y=y===null?null:{parent:Et._currentValue,pool:y},s.memoizedState={baseLanes:a,cachePool:y},n!==null&&Vu(s,null),Af(),Rg(s),n!==null&&Tr(n,s,u,!0),s.childLanes=g,null}function oc(n,s){return s=ac({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Cy(n,s,a){return Io(s,n.child,null,a),n=oc(s,s.pendingProps),n.flags|=2,bn(s),s.memoizedState=null,n}function yA(n,s,a){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Oe){if(u.mode==="hidden")return n=oc(s,u),s.lanes=536870912,ul(null,n);if(Cf(s),(n=ot)?(n=Bv(n,zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:_s!==null?{id:Si,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=ug(n),a.return=s,s.child=a,qt=s,ot=null)):n=null,n===null)throw xs(s);return s.lanes=536870912,null}return oc(s,u)}var y=n.memoizedState;if(y!==null){var b=y.dehydrated;if(Cf(s),g)if(s.flags&256)s.flags&=-257,s=Cy(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(o(558));else if(Tt||Tr(n,s,a,!1),g=(a&n.childLanes)!==0,Tt||g){if(u=nt,u!==null&&(b=go(u,a),b!==0&&b!==y.retryLane))throw y.retryLane=b,To(n,b),cn(u,n,b),$f;gc(),s=Cy(n,s,a)}else n=y.treeContext,ot=Vn(b.nextSibling),qt=s,Oe=!0,Cs=null,zn=!1,n!==null&&fg(s,n),s=oc(s,u),s.flags|=4096;return s}return n=Bi(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function rc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Kf(n,s,a,u,g){return Co(s),a=Rf(n,s,a,u,void 0,g),u=Nf(),n!==null&&!Tt?(If(n,s,g),Fi(n,s,g)):(Oe&&u&&uf(s),s.flags|=1,Ht(n,s,a,g),s.child)}function xy(n,s,a,u,g,y){return Co(s),s.updateQueue=null,a=Ig(s,u,a,g),Ng(n),u=Nf(),n!==null&&!Tt?(If(n,s,y),Fi(n,s,y)):(Oe&&u&&uf(s),s.flags|=1,Ht(n,s,a,y),s.child)}function Ry(n,s,a,u,g){if(Co(s),s.stateNode===null){var y=vr,b=a.contextType;typeof b=="object"&&b!==null&&(y=Bt(b)),y=new a(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Yf,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Ef(s),b=a.contextType,y.context=typeof b=="object"&&b!==null?Bt(b):vr,y.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Ff(s,a,b,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&Yf.enqueueReplaceState(y,y.state,null),sl(s,u,y,g),il(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var C=s.memoizedProps,N=Do(a,C);y.props=N;var z=y.context,K=a.contextType;b=vr,typeof K=="object"&&K!==null&&(b=Bt(K));var j=a.getDerivedStateFromProps;K=typeof j=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||z!==b)&&py(s,y,u,b),Ns=!1;var V=s.memoizedState;y.state=V,sl(s,u,y,g),il(),z=s.memoizedState,C||V!==z||Ns?(typeof j=="function"&&(Ff(s,a,j,u),z=s.memoizedState),(N=Ns||hy(s,a,N,u,V,z,b))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=z),y.props=u,y.state=z,y.context=b,u=N):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,bf(n,s),b=s.memoizedProps,K=Do(a,b),y.props=K,j=s.pendingProps,V=y.context,z=a.contextType,N=vr,typeof z=="object"&&z!==null&&(N=Bt(z)),C=a.getDerivedStateFromProps,(z=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==j||V!==N)&&py(s,y,u,N),Ns=!1,V=s.memoizedState,y.state=V,sl(s,u,y,g),il();var Y=s.memoizedState;b!==j||V!==Y||Ns||n!==null&&n.dependencies!==null&&zu(n.dependencies)?(typeof C=="function"&&(Ff(s,a,C,u),Y=s.memoizedState),(K=Ns||hy(s,a,K,u,V,Y,N)||n!==null&&n.dependencies!==null&&zu(n.dependencies))?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Y,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Y,N)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Y),y.props=u,y.state=Y,y.context=N,u=K):(typeof y.componentDidUpdate!="function"||b===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,rc(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=Io(s,n.child,null,g),s.child=Io(s,null,a,g)):Ht(n,s,a,g),s.memoizedState=y.state,n=s.child):n=Fi(n,s,g),n}function Ny(n,s,a,u){return Ao(),s.flags|=256,Ht(n,s,a,u),s.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(n){return{baseLanes:n,cachePool:vg()}}function Wf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=wn),n}function Iy(n,s,a){var u=s.pendingProps,g=!1,y=(s.flags&128)!==0,b;if((b=y)||(b=n!==null&&n.memoizedState===null?!1:(mt.current&2)!==0),b&&(g=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Oe){if(g?Ds(s):Ls(),(n=ot)?(n=Bv(n,zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:_s!==null?{id:Si,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=ug(n),a.return=s,s.child=a,qt=s,ot=null)):n=null,n===null)throw xs(s);return Lh(n)?s.lanes=32:s.lanes=536870912,null}var C=u.children;return u=u.fallback,g?(Ls(),g=s.mode,C=ac({mode:"hidden",children:C},g),u=wo(u,g,a,null),C.return=s,u.return=s,C.sibling=u,s.child=C,u=s.child,u.memoizedState=Qf(a),u.childLanes=Wf(n,b,a),s.memoizedState=Xf,ul(null,u)):(Ds(s),Zf(s,C))}var N=n.memoizedState;if(N!==null&&(C=N.dehydrated,C!==null)){if(y)s.flags&256?(Ds(s),s.flags&=-257,s=jf(n,s,a)):s.memoizedState!==null?(Ls(),s.child=n.child,s.flags|=128,s=null):(Ls(),C=u.fallback,g=s.mode,u=ac({mode:"visible",children:u.children},g),C=wo(C,g,a,null),C.flags|=2,u.return=s,C.return=s,u.sibling=C,s.child=u,Io(s,n.child,null,a),u=s.child,u.memoizedState=Qf(a),u.childLanes=Wf(n,b,a),s.memoizedState=Xf,s=ul(null,u));else if(Ds(s),Lh(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var z=b.dgst;b=z,u=Error(o(419)),u.stack="",u.digest=b,Wa({value:u,source:null,stack:null}),s=jf(n,s,a)}else if(Tt||Tr(n,s,a,!1),b=(a&n.childLanes)!==0,Tt||b){if(b=nt,b!==null&&(u=go(b,a),u!==0&&u!==N.retryLane))throw N.retryLane=u,To(n,u),cn(b,n,u),$f;Dh(C)||gc(),s=jf(n,s,a)}else Dh(C)?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,ot=Vn(C.nextSibling),qt=s,Oe=!0,Cs=null,zn=!1,n!==null&&fg(s,n),s=Zf(s,u.children),s.flags|=4096);return s}return g?(Ls(),C=u.fallback,g=s.mode,N=n.child,z=N.sibling,u=Bi(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,z!==null?C=Bi(z,C):(C=wo(C,g,a,null),C.flags|=2),C.return=s,u.return=s,u.sibling=C,s.child=u,ul(null,u),u=s.child,C=n.child.memoizedState,C===null?C=Qf(a):(g=C.cachePool,g!==null?(N=Et._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=vg(),C={baseLanes:C.baseLanes|a,cachePool:g}),u.memoizedState=C,u.childLanes=Wf(n,b,a),s.memoizedState=Xf,ul(n.child,u)):(Ds(s),a=n.child,n=a.sibling,a=Bi(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=a,s.memoizedState=null,a)}function Zf(n,s){return s=ac({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ac(n,s){return n=Sn(22,n,null,s),n.lanes=0,n}function jf(n,s,a){return Io(s,n.child,null,a),n=Zf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function My(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),pf(n.return,s,a)}function eh(n,s,a,u,g,y){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:y}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=a,b.tailMode=g,b.treeForkCount=y)}function Dy(n,s,a){var u=s.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var b=mt.current,C=(b&2)!==0;if(C?(b=b&1|2,s.flags|=128):b&=1,ae(mt,b),Ht(n,s,u,a),u=Oe?Qa:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&My(n,a,s);else if(n.tag===19)My(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(a=s.child,g=null;a!==null;)n=a.alternate,n!==null&&Xu(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=s.child,s.child=null):(g=a.sibling,a.sibling=null),eh(s,!1,g,a,y,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Xu(n)===null){s.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}eh(s,!0,a,null,y,u);break;case"together":eh(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Fi(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ps|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Tr(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(o(153));if(s.child!==null){for(n=s.child,a=Bi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Bi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function th(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&zu(n)))}function vA(n,s,a){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),Rs(s,Et,n.memoizedState.cache),Ao();break;case 27:case 5:it(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:Rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cf(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ds(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Iy(n,s,a):(Ds(s),n=Fi(n,s,a),n!==null?n.sibling:null);Ds(s);break;case 19:var g=(n.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Tr(n,s,a,!1),u=(a&s.childLanes)!==0),g){if(u)return Dy(n,s,a);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ae(mt,mt.current),u)break;return null;case 22:return s.lanes=0,Ay(n,s,a,s.pendingProps);case 24:Rs(s,Et,n.memoizedState.cache)}return Fi(n,s,a)}function Ly(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Tt=!0;else{if(!th(n,a)&&(s.flags&128)===0)return Tt=!1,vA(n,s,a);Tt=(n.flags&131072)!==0}else Tt=!1,Oe&&(s.flags&1048576)!==0&&dg(s,Qa,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Ro(s.elementType),s.type=n,typeof n=="function")rf(n)?(u=Do(n,u),s.tag=1,s=Ry(null,s,n,u,a)):(s.tag=0,s=Kf(null,s,n,u,a));else{if(n!=null){var g=n.$$typeof;if(g===ie){s.tag=11,s=by(null,s,n,u,a);break e}else if(g===te){s.tag=14,s=Ty(null,s,n,u,a);break e}}throw s=Ce(n)||n,Error(o(306,s,""))}}return s;case 0:return Kf(n,s,s.type,s.pendingProps,a);case 1:return u=s.type,g=Do(u,s.pendingProps),Ry(n,s,u,g,a);case 3:e:{if(xe(s,s.stateNode.containerInfo),n===null)throw Error(o(387));u=s.pendingProps;var y=s.memoizedState;g=y.element,bf(n,s),sl(s,u,null,a);var b=s.memoizedState;if(u=b.cache,Rs(s,Et,u),u!==y.cache&&mf(s,[Et],a,!0),il(),u=b.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Ny(n,s,u,a);break e}else if(u!==g){g=Bn(Error(o(424)),s),Wa(g),s=Ny(n,s,u,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ot=Vn(n.firstChild),qt=s,Oe=!0,Cs=null,zn=!0,a=Ag(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ao(),u===g){s=Fi(n,s,a);break e}Ht(n,s,u,a)}s=s.child}return s;case 26:return rc(n,s),n===null?(a=Fv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Oe||(a=s.type,n=s.pendingProps,u=wc(Ne.current).createElement(a),u[St]=s,u[Pt]=n,Ot(u,a,n),_e(u),s.stateNode=u):s.memoizedState=Fv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return it(s),n===null&&Oe&&(u=s.stateNode=zv(s.type,s.pendingProps,Ne.current),qt=s,zn=!0,g=ot,zs(s.type)?(kh=g,ot=Vn(u.firstChild)):ot=g),Ht(n,s,s.pendingProps.children,a),rc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Oe&&((g=u=ot)&&(u=KA(u,s.type,s.pendingProps,zn),u!==null?(s.stateNode=u,qt=s,ot=Vn(u.firstChild),zn=!1,g=!0):g=!1),g||xs(s)),it(s),g=s.type,y=s.pendingProps,b=n!==null?n.memoizedProps:null,u=y.children,Nh(g,y)?u=null:b!==null&&Nh(g,b)&&(s.flags|=32),s.memoizedState!==null&&(g=Rf(n,s,uA,null,null,a),Al._currentValue=g),rc(n,s),Ht(n,s,u,a),s.child;case 6:return n===null&&Oe&&((n=a=ot)&&(a=XA(a,s.pendingProps,zn),a!==null?(s.stateNode=a,qt=s,ot=null,n=!0):n=!1),n||xs(s)),null;case 13:return Iy(n,s,a);case 4:return xe(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Io(s,null,u,a):Ht(n,s,u,a),s.child;case 11:return by(n,s,s.type,s.pendingProps,a);case 7:return Ht(n,s,s.pendingProps,a),s.child;case 8:return Ht(n,s,s.pendingProps.children,a),s.child;case 12:return Ht(n,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,Rs(s,s.type,u.value),Ht(n,s,u.children,a),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Co(s),g=Bt(g),u=u(g),s.flags|=1,Ht(n,s,u,a),s.child;case 14:return Ty(n,s,s.type,s.pendingProps,a);case 15:return wy(n,s,s.type,s.pendingProps,a);case 19:return Dy(n,s,a);case 31:return yA(n,s,a);case 22:return Ay(n,s,a,s.pendingProps);case 24:return Co(s),u=Bt(Et),n===null?(g=vf(),g===null&&(g=nt,y=gf(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=a),g=y),s.memoizedState={parent:u,cache:g},Ef(s),Rs(s,Et,g)):((n.lanes&a)!==0&&(bf(n,s),sl(s,null,null,a),il()),g=n.memoizedState,y=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Rs(s,Et,u)):(u=y.cache,Rs(s,Et,u),u!==g.cache&&mf(s,[Et],a,!0))),Ht(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Yi(n){n.flags|=4}function nh(n,s,a,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(rv())n.flags|=8192;else throw No=Yu,Sf}else n.flags&=-16777217}function ky(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Xv(s))if(rv())n.flags|=8192;else throw No=Yu,Sf}function lc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ba():536870912,n.lanes|=s,kr|=s)}function cl(n,s){if(!Oe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function SA(n,s,a){var u=s.pendingProps;switch(cf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return a=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zi(Et),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(br(s)?Yi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ff())),rt(s),null;case 26:var g=s.type,y=s.memoizedState;return n===null?(Yi(s),y!==null?(rt(s),ky(s,y)):(rt(s),nh(s,g,null,u,a))):y?y!==n.memoizedState?(Yi(s),rt(s),ky(s,y)):(rt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Yi(s),rt(s),nh(s,g,n,u,a)),null;case 27:if(st(s),a=Ne.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Yi(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return rt(s),null}n=de.current,br(s)?hg(s):(n=zv(g,u,a),s.stateNode=n,Yi(s))}return rt(s),null;case 5:if(st(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Yi(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return rt(s),null}if(y=de.current,br(s))hg(s);else{var b=wc(Ne.current);switch(y){case 1:y=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=b.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}y[St]=s,y[Pt]=u;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)y.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=y;e:switch(Ot(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Yi(s)}}return rt(s),nh(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Yi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(o(166));if(n=Ne.current,br(s)){if(n=s.stateNode,a=s.memoizedProps,u=null,g=qt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[St]=s,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Iv(n.nodeValue,a)),n||xs(s,!0)}else n=wc(n).createTextNode(u),n[St]=s,s.stateNode=n}return rt(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(u=br(s),a!==null){if(n===null){if(!u)throw Error(o(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[St]=s}else Ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),n=!1}else a=ff(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(bn(s),s):(bn(s),null);if((s.flags&128)!==0)throw Error(o(558))}return rt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=br(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(o(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[St]=s}else Ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),g=!1}else g=ff(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(bn(s),s):(bn(s),null)}return bn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),lc(s,s.updateQueue),rt(s),null);case 4:return Pe(),n===null&&Ah(s.stateNode.containerInfo),rt(s),null;case 10:return zi(s.type),rt(s),null;case 19:if(X(mt),u=s.memoizedState,u===null)return rt(s),null;if(g=(s.flags&128)!==0,y=u.rendering,y===null)if(g)cl(u,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Xu(n),y!==null){for(s.flags|=128,cl(u,!1),n=y.updateQueue,s.updateQueue=n,lc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)lg(a,n),a=a.sibling;return ae(mt,mt.current&1|2),Oe&&Hi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&kt()>hc&&(s.flags|=128,g=!0,cl(u,!1),s.lanes=4194304)}else{if(!g)if(n=Xu(y),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,lc(s,n),cl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Oe)return rt(s),null}else 2*kt()-u.renderingStartTime>hc&&a!==536870912&&(s.flags|=128,g=!0,cl(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(n=u.last,n!==null?n.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=kt(),n.sibling=null,a=mt.current,ae(mt,g?a&1|2:a&1),Oe&&Hi(s,u.treeForkCount),n):(rt(s),null);case 22:case 23:return bn(s),_f(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),a=s.updateQueue,a!==null&&lc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),n!==null&&X(xo),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),zi(Et),rt(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function EA(n,s){switch(cf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return zi(Et),Pe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return st(s),null;case 31:if(s.memoizedState!==null){if(bn(s),s.alternate===null)throw Error(o(340));Ao()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(bn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Ao()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return X(mt),null;case 4:return Pe(),null;case 10:return zi(s.type),null;case 22:case 23:return bn(s),_f(),n!==null&&X(xo),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return zi(Et),null;case 25:return null;default:return null}}function Uy(n,s){switch(cf(s),s.tag){case 3:zi(Et),Pe();break;case 26:case 27:case 5:st(s);break;case 4:Pe();break;case 31:s.memoizedState!==null&&bn(s);break;case 13:bn(s);break;case 19:X(mt);break;case 10:zi(s.type);break;case 22:case 23:bn(s),_f(),n!==null&&X(xo);break;case 24:zi(Et)}}function dl(n,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&n)===n){u=void 0;var y=a.create,b=a.inst;u=y(),b.destroy=u}a=a.next}while(a!==g)}}catch(C){Xe(s,s.return,C)}}function ks(n,s,a){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&n)===n){var b=u.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,g=s;var N=a,z=C;try{z()}catch(K){Xe(g,N,K)}}}u=u.next}while(u!==y)}}catch(K){Xe(s,s.return,K)}}function Py(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Cg(s,a)}catch(u){Xe(n,n.return,u)}}}function qy(n,s,a){a.props=Do(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Xe(n,s,u)}}function fl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(g){Xe(n,s,g)}}function bi(n,s){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){Xe(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Xe(n,s,g)}else a.current=null}function By(n){var s=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){Xe(n,n.return,g)}}function ih(n,s,a){try{var u=n.stateNode;GA(u,n.type,a,s),u[Pt]=s}catch(g){Xe(n,n.return,g)}}function Hy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zs(n.type)||n.tag===4}function sh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Hy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function oh(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Pi));else if(u!==4&&(u===27&&zs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(oh(n,s,a),n=n.sibling;n!==null;)oh(n,s,a),n=n.sibling}function uc(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(u===27&&zs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(uc(n,s,a),n=n.sibling;n!==null;)uc(n,s,a),n=n.sibling}function Oy(n){var s=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Ot(s,u,a),s[St]=n,s[Pt]=a}catch(y){Xe(n,n.return,y)}}var Ji=!1,wt=!1,rh=!1,zy=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function bA(n,s){if(n=n.containerInfo,xh=Ic,n=jm(n),Zd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var b=0,C=-1,N=-1,z=0,K=0,j=n,V=null;t:for(;;){for(var Y;j!==a||g!==0&&j.nodeType!==3||(C=b+g),j!==y||u!==0&&j.nodeType!==3||(N=b+u),j.nodeType===3&&(b+=j.nodeValue.length),(Y=j.firstChild)!==null;)V=j,j=Y;for(;;){if(j===n)break t;if(V===a&&++z===g&&(C=b),V===y&&++K===u&&(N=b),(Y=j.nextSibling)!==null)break;j=V,V=j.parentNode}j=Y}a=C===-1||N===-1?null:{start:C,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rh={focusedElem:n,selectionRange:a},Ic=!1,Rt=s;Rt!==null;)if(s=Rt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Rt=n;else for(;Rt!==null;){switch(s=Rt,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)g=n[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=s,g=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var ye=Do(a.type,g);n=u.getSnapshotBeforeUpdate(ye,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){Xe(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Mh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Mh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=s.sibling,n!==null){n.return=s.return,Rt=n;break}Rt=s.return}}function Gy(n,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(n,a),u&4&&dl(5,a);break;case 1:if(Ki(n,a),u&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(b){Xe(a,a.return,b)}else{var g=Do(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Xe(a,a.return,b)}}u&64&&Py(a),u&512&&fl(a,a.return);break;case 3:if(Ki(n,a),u&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Cg(n,s)}catch(b){Xe(a,a.return,b)}}break;case 27:s===null&&u&4&&Oy(a);case 26:case 5:Ki(n,a),s===null&&u&4&&By(a),u&512&&fl(a,a.return);break;case 12:Ki(n,a);break;case 31:Ki(n,a),u&4&&Yy(n,a);break;case 13:Ki(n,a),u&4&&Jy(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=IA.bind(null,a),QA(n,a))));break;case 22:if(u=a.memoizedState!==null||Ji,!u){s=s!==null&&s.memoizedState!==null||wt,g=Ji;var y=wt;Ji=u,(wt=s)&&!y?Xi(n,a,(a.subtreeFlags&8772)!==0):Ki(n,a),Ji=g,wt=y}break;case 30:break;default:Ki(n,a)}}function Vy(n){var s=n.alternate;s!==null&&(n.alternate=null,Vy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&F(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,rn=!1;function $i(n,s,a){for(a=a.child;a!==null;)Fy(n,s,a),a=a.sibling}function Fy(n,s,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(bs,a)}catch{}switch(a.tag){case 26:wt||bi(a,s),$i(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||bi(a,s);var u=ut,g=rn;zs(a.type)&&(ut=a.stateNode,rn=!1),$i(n,s,a),bl(a.stateNode),ut=u,rn=g;break;case 5:wt||bi(a,s);case 6:if(u=ut,g=rn,ut=null,$i(n,s,a),ut=u,rn=g,ut!==null)if(rn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(y){Xe(a,s,y)}else try{ut.removeChild(a.stateNode)}catch(y){Xe(a,s,y)}break;case 18:ut!==null&&(rn?(n=ut,Pv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Gr(n)):Pv(ut,a.stateNode));break;case 4:u=ut,g=rn,ut=a.stateNode.containerInfo,rn=!0,$i(n,s,a),ut=u,rn=g;break;case 0:case 11:case 14:case 15:ks(2,a,s),wt||ks(4,a,s),$i(n,s,a);break;case 1:wt||(bi(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&qy(a,s,u)),$i(n,s,a);break;case 21:$i(n,s,a);break;case 22:wt=(u=wt)||a.memoizedState!==null,$i(n,s,a),wt=u;break;default:$i(n,s,a)}}function Yy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Gr(n)}catch(a){Xe(s,s.return,a)}}}function Jy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gr(n)}catch(a){Xe(s,s.return,a)}}function TA(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new zy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new zy),s;default:throw Error(o(435,n.tag))}}function cc(n,s){var a=TA(n);s.forEach(function(u){if(!a.has(u)){a.add(u);var g=MA.bind(null,n,u);u.then(g,g)}})}function an(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],y=n,b=s,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(zs(C.type)){ut=C.stateNode,rn=!1;break e}break;case 5:ut=C.stateNode,rn=!1;break e;case 3:case 4:ut=C.stateNode.containerInfo,rn=!0;break e}C=C.return}if(ut===null)throw Error(o(160));Fy(y,b,g),ut=null,rn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$y(s,n),s=s.sibling}var ti=null;function $y(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:an(s,n),ln(n),u&4&&(ks(3,n,n.return),dl(3,n),ks(5,n,n.return));break;case 1:an(s,n),ln(n),u&512&&(wt||a===null||bi(a,a.return)),u&64&&Ji&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=ti;if(an(s,n),ln(n),u&512&&(wt||a===null||bi(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[I]||y[St]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Ot(y,u,a),y[St]=n,_e(y),u=y;break e;case"link":var b=$v("link","href",g).get(u+(a.href||""));if(b){for(var C=0;C<b.length;C++)if(y=b[C],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(C,1);break t}}y=g.createElement(u),Ot(y,u,a),g.head.appendChild(y);break;case"meta":if(b=$v("meta","content",g).get(u+(a.content||""))){for(C=0;C<b.length;C++)if(y=b[C],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(C,1);break t}}y=g.createElement(u),Ot(y,u,a),g.head.appendChild(y);break;default:throw Error(o(468,u))}y[St]=n,_e(y),u=y}n.stateNode=u}else Kv(g,n.type,n.stateNode);else n.stateNode=Jv(g,u,n.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?Kv(g,n.type,n.stateNode):Jv(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&ih(n,n.memoizedProps,a.memoizedProps)}break;case 27:an(s,n),ln(n),u&512&&(wt||a===null||bi(a,a.return)),a!==null&&u&4&&ih(n,n.memoizedProps,a.memoizedProps);break;case 5:if(an(s,n),ln(n),u&512&&(wt||a===null||bi(a,a.return)),n.flags&32){g=n.stateNode;try{dr(g,"")}catch(ye){Xe(n,n.return,ye)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,ih(n,g,a!==null?a.memoizedProps:g)),u&1024&&(rh=!0);break;case 6:if(an(s,n),ln(n),u&4){if(n.stateNode===null)throw Error(o(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(ye){Xe(n,n.return,ye)}}break;case 3:if(Cc=null,g=ti,ti=Ac(s.containerInfo),an(s,n),ti=g,ln(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Gr(s.containerInfo)}catch(ye){Xe(n,n.return,ye)}rh&&(rh=!1,Ky(n));break;case 4:u=ti,ti=Ac(n.stateNode.containerInfo),an(s,n),ln(n),ti=u;break;case 12:an(s,n),ln(n);break;case 31:an(s,n),ln(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,cc(n,u)));break;case 13:an(s,n),ln(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=kt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,cc(n,u)));break;case 22:g=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=Ji,K=wt;if(Ji=z||g,wt=K||N,an(s,n),wt=K,Ji=z,ln(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(a===null||N||Ji||wt||Lo(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(y=N.stateNode,g)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=N.stateNode;var j=N.memoizedProps.style,V=j!=null&&j.hasOwnProperty("display")?j.display:null;C.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ye){Xe(N,N.return,ye)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(ye){Xe(N,N.return,ye)}}}else if(s.tag===18){if(a===null){N=s;try{var Y=N.stateNode;g?qv(Y,!0):qv(N.stateNode,!1)}catch(ye){Xe(N,N.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,cc(n,a))));break;case 19:an(s,n),ln(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,cc(n,u)));break;case 30:break;case 21:break;default:an(s,n),ln(n)}}function ln(n){var s=n.flags;if(s&2){try{for(var a,u=n.return;u!==null;){if(Hy(u)){a=u;break}u=u.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var g=a.stateNode,y=sh(n);uc(n,y,g);break;case 5:var b=a.stateNode;a.flags&32&&(dr(b,""),a.flags&=-33);var C=sh(n);uc(n,C,b);break;case 3:case 4:var N=a.stateNode.containerInfo,z=sh(n);oh(n,z,N);break;default:throw Error(o(161))}}catch(K){Xe(n,n.return,K)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Ky(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Ky(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ki(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Gy(n,s.alternate,s),s=s.sibling}function Lo(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ks(4,s,s.return),Lo(s);break;case 1:bi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&qy(s,s.return,a),Lo(s);break;case 27:bl(s.stateNode);case 26:case 5:bi(s,s.return),Lo(s);break;case 22:s.memoizedState===null&&Lo(s);break;case 30:Lo(s);break;default:Lo(s)}n=n.sibling}}function Xi(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,y=s,b=y.flags;switch(y.tag){case 0:case 11:case 15:Xi(g,y,a),dl(4,y);break;case 1:if(Xi(g,y,a),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(z){Xe(u,u.return,z)}if(u=y,g=u.updateQueue,g!==null){var C=u.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)_g(N[g],C)}catch(z){Xe(u,u.return,z)}}a&&b&64&&Py(y),fl(y,y.return);break;case 27:Oy(y);case 26:case 5:Xi(g,y,a),a&&u===null&&b&4&&By(y),fl(y,y.return);break;case 12:Xi(g,y,a);break;case 31:Xi(g,y,a),a&&b&4&&Yy(g,y);break;case 13:Xi(g,y,a),a&&b&4&&Jy(g,y);break;case 22:y.memoizedState===null&&Xi(g,y,a),fl(y,y.return);break;case 30:break;default:Xi(g,y,a)}s=s.sibling}}function ah(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Za(a))}function lh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Za(n))}function ni(n,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Xy(n,s,a,u),s=s.sibling}function Xy(n,s,a,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ni(n,s,a,u),g&2048&&dl(9,s);break;case 1:ni(n,s,a,u);break;case 3:ni(n,s,a,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Za(n)));break;case 12:if(g&2048){ni(n,s,a,u),n=s.stateNode;try{var y=s.memoizedProps,b=y.id,C=y.onPostCommit;typeof C=="function"&&C(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Xe(s,s.return,N)}}else ni(n,s,a,u);break;case 31:ni(n,s,a,u);break;case 13:ni(n,s,a,u);break;case 23:break;case 22:y=s.stateNode,b=s.alternate,s.memoizedState!==null?y._visibility&2?ni(n,s,a,u):hl(n,s):y._visibility&2?ni(n,s,a,u):(y._visibility|=2,Mr(n,s,a,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&ah(b,s);break;case 24:ni(n,s,a,u),g&2048&&lh(s.alternate,s);break;default:ni(n,s,a,u)}}function Mr(n,s,a,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,b=s,C=a,N=u,z=b.flags;switch(b.tag){case 0:case 11:case 15:Mr(y,b,C,N,g),dl(8,b);break;case 23:break;case 22:var K=b.stateNode;b.memoizedState!==null?K._visibility&2?Mr(y,b,C,N,g):hl(y,b):(K._visibility|=2,Mr(y,b,C,N,g)),g&&z&2048&&ah(b.alternate,b);break;case 24:Mr(y,b,C,N,g),g&&z&2048&&lh(b.alternate,b);break;default:Mr(y,b,C,N,g)}s=s.sibling}}function hl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,u=s,g=u.flags;switch(u.tag){case 22:hl(a,u),g&2048&&ah(u.alternate,u);break;case 24:hl(a,u),g&2048&&lh(u.alternate,u);break;default:hl(a,u)}s=s.sibling}}var pl=8192;function Dr(n,s,a){if(n.subtreeFlags&pl)for(n=n.child;n!==null;)Qy(n,s,a),n=n.sibling}function Qy(n,s,a){switch(n.tag){case 26:Dr(n,s,a),n.flags&pl&&n.memoizedState!==null&&l_(a,ti,n.memoizedState,n.memoizedProps);break;case 5:Dr(n,s,a);break;case 3:case 4:var u=ti;ti=Ac(n.stateNode.containerInfo),Dr(n,s,a),ti=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=pl,pl=16777216,Dr(n,s,a),pl=u):Dr(n,s,a));break;default:Dr(n,s,a)}}function Wy(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ml(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Rt=u,jy(u,n)}Wy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zy(n),n=n.sibling}function Zy(n){switch(n.tag){case 0:case 11:case 15:ml(n),n.flags&2048&&ks(9,n,n.return);break;case 3:ml(n);break;case 12:ml(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,dc(n)):ml(n);break;default:ml(n)}}function dc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Rt=u,jy(u,n)}Wy(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ks(8,s,s.return),dc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,dc(s));break;default:dc(s)}n=n.sibling}}function jy(n,s){for(;Rt!==null;){var a=Rt;switch(a.tag){case 0:case 11:case 15:ks(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Za(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Rt=u;else e:for(a=n;Rt!==null;){u=Rt;var g=u.sibling,y=u.return;if(Vy(u),u===a){Rt=null;break e}if(g!==null){g.return=y,Rt=g;break e}Rt=y}}}var wA={getCacheForType:function(n){var s=Bt(Et),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Bt(Et).controller.signal}},AA=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,ke=null,qe=0,Ke=0,Tn=null,Us=!1,Lr=!1,uh=!1,Qi=0,ht=0,Ps=0,ko=0,ch=0,wn=0,kr=0,gl=null,un=null,dh=!1,fc=0,ev=0,hc=1/0,pc=null,qs=null,_t=0,Bs=null,Ur=null,Wi=0,fh=0,hh=null,tv=null,yl=0,ph=null;function An(){return($e&2)!==0&&qe!==0?qe&-qe:R.T!==null?Eh():Ha()}function nv(){if(wn===0)if((qe&536870912)===0||Oe){var n=yn;yn<<=1,(yn&3932160)===0&&(yn=262144),wn=n}else wn=536870912;return n=En.current,n!==null&&(n.flags|=32),wn}function cn(n,s,a){(n===nt&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(Pr(n,0),Hs(n,qe,wn,!1)),vi(n,a),(($e&2)===0||n!==nt)&&(n===nt&&(($e&2)===0&&(ko|=a),ht===4&&Hs(n,qe,wn,!1)),Ti(n))}function iv(n,s,a){if(($e&6)!==0)throw Error(o(327));var u=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ws(n,s),g=u?xA(n,s):gh(n,s,!0),y=u;do{if(g===0){Lr&&!u&&Hs(n,s,0,!1);break}else{if(a=n.current.alternate,y&&!_A(a)){g=gh(n,s,!1),y=!1;continue}if(g===2){if(y=s,n.errorRecoveryDisabledLanes&y)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var C=n;g=gl;var N=C.current.memoizedState.isDehydrated;if(N&&(Pr(C,b).flags|=256),b=gh(C,b,!1),b!==2){if(uh&&!N){C.errorRecoveryDisabledLanes|=y,ko|=y,g=4;break e}y=un,un=g,y!==null&&(un===null?un=y:un.push.apply(un,y))}g=b}if(y=!1,g!==2)continue}}if(g===1){Pr(n,0),Hs(n,s,0,!0);break}e:{switch(u=n,y=g,y){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Hs(u,s,wn,!Us);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(g=fc+300-kt(),10<g)){if(Hs(u,s,wn,!Us),ho(u,0,!0)!==0)break e;Wi=s,u.timeoutHandle=kv(sv.bind(null,u,a,un,pc,dh,s,wn,ko,kr,Us,y,"Throttled",-0,0),g);break e}sv(u,a,un,pc,dh,s,wn,ko,kr,Us,y,null,-0,0)}}break}while(!0);Ti(n)}function sv(n,s,a,u,g,y,b,C,N,z,K,j,V,Y){if(n.timeoutHandle=-1,j=s.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},Qy(s,y,j);var ye=(y&62914560)===y?fc-kt():(y&4194048)===y?ev-kt():0;if(ye=u_(j,ye),ye!==null){Wi=y,n.cancelPendingCommit=ye(fv.bind(null,n,s,y,a,u,g,b,C,N,K,j,null,V,Y)),Hs(n,y,b,!z);return}}fv(n,s,y,a,u,g,b,C,N)}function _A(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],y=g.getSnapshot;g=g.value;try{if(!vn(y(),g))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(n,s,a,u){s&=~ch,s&=~ko,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var y=31-Ut(g),b=1<<y;u[y]=-1,g&=~b}a!==0&&po(n,a,s)}function mc(){return($e&6)===0?(vl(0),!1):!0}function mh(){if(ke!==null){if(Ke===0)var n=ke.return;else n=ke,Oi=_o=null,Mf(n),Cr=null,el=0,n=ke;for(;n!==null;)Uy(n.alternate,n),n=n.return;ke=null}}function Pr(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,YA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Wi=0,mh(),nt=n,ke=a=Bi(n.current,null),qe=s,Ke=0,Tn=null,Us=!1,Lr=ws(n,s),uh=!1,kr=wn=ch=ko=Ps=ht=0,un=gl=null,dh=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-Ut(u),y=1<<g;s|=n[g],u&=~y}return Qi=s,Pu(),a}function ov(n,s){De=null,R.H=ll,s===_r||s===Fu?(s=bg(),Ke=3):s===Sf?(s=bg(),Ke=4):Ke=s===$f?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Tn=s,ke===null&&(ht=1,sc(n,Bn(s,n.current)))}function rv(){var n=En.current;return n===null?!0:(qe&4194048)===qe?Gn===null:(qe&62914560)===qe||(qe&536870912)!==0?n===Gn:!1}function av(){var n=R.H;return R.H=ll,n===null?ll:n}function lv(){var n=R.A;return R.A=wA,n}function gc(){ht=4,Us||(qe&4194048)!==qe&&En.current!==null||(Lr=!0),(Ps&134217727)===0&&(ko&134217727)===0||nt===null||Hs(nt,qe,wn,!1)}function gh(n,s,a){var u=$e;$e|=2;var g=av(),y=lv();(nt!==n||qe!==s)&&(pc=null,Pr(n,s)),s=!1;var b=ht;e:do try{if(Ke!==0&&ke!==null){var C=ke,N=Tn;switch(Ke){case 8:mh(),b=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(s=!0);var z=Ke;if(Ke=0,Tn=null,qr(n,C,N,z),a&&Lr){b=0;break e}break;default:z=Ke,Ke=0,Tn=null,qr(n,C,N,z)}}CA(),b=ht;break}catch(K){ov(n,K)}while(!0);return s&&n.shellSuspendCounter++,Oi=_o=null,$e=u,R.H=g,R.A=y,ke===null&&(nt=null,qe=0,Pu()),b}function CA(){for(;ke!==null;)uv(ke)}function xA(n,s){var a=$e;$e|=2;var u=av(),g=lv();nt!==n||qe!==s?(pc=null,hc=kt()+500,Pr(n,s)):Lr=ws(n,s);e:do try{if(Ke!==0&&ke!==null){s=ke;var y=Tn;t:switch(Ke){case 1:Ke=0,Tn=null,qr(n,s,y,1);break;case 2:case 9:if(Sg(y)){Ke=0,Tn=null,cv(s);break}s=function(){Ke!==2&&Ke!==9||nt!==n||(Ke=7),Ti(n)},y.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Sg(y)?(Ke=0,Tn=null,cv(s)):(Ke=0,Tn=null,qr(n,s,y,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var C=ke;if(b?Xv(b):C.stateNode.complete){Ke=0,Tn=null;var N=C.sibling;if(N!==null)ke=N;else{var z=C.return;z!==null?(ke=z,yc(z)):ke=null}break t}}Ke=0,Tn=null,qr(n,s,y,5);break;case 6:Ke=0,Tn=null,qr(n,s,y,6);break;case 8:mh(),ht=6;break e;default:throw Error(o(462))}}RA();break}catch(K){ov(n,K)}while(!0);return Oi=_o=null,R.H=u,R.A=g,$e=a,ke!==null?0:(nt=null,qe=0,Pu(),ht)}function RA(){for(;ke!==null&&!yu();)uv(ke)}function uv(n){var s=Ly(n.alternate,n,Qi);n.memoizedProps=n.pendingProps,s===null?yc(n):ke=s}function cv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=xy(a,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=xy(a,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:Mf(s);default:Uy(a,s),s=ke=lg(s,Qi),s=Ly(a,s,Qi)}n.memoizedProps=n.pendingProps,s===null?yc(n):ke=s}function qr(n,s,a,u){Oi=_o=null,Mf(s),Cr=null,el=0;var g=s.return;try{if(gA(n,g,s,a,qe)){ht=1,sc(n,Bn(a,n.current)),ke=null;return}}catch(y){if(g!==null)throw ke=g,y;ht=1,sc(n,Bn(a,n.current)),ke=null;return}s.flags&32768?(Oe||u===1?n=!0:Lr||(qe&536870912)!==0?n=!1:(Us=n=!0,(u===2||u===9||u===3||u===6)&&(u=En.current,u!==null&&u.tag===13&&(u.flags|=16384))),dv(s,n)):yc(s)}function yc(n){var s=n;do{if((s.flags&32768)!==0){dv(s,Us);return}n=s.return;var a=SA(s.alternate,s,Qi);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=n}while(s!==null);ht===0&&(ht=5)}function dv(n,s){do{var a=EA(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);ht=6,ke=null}function fv(n,s,a,u,g,y,b,C,N){n.cancelPendingCommit=null;do vc();while(_t!==0);if(($e&6)!==0)throw Error(o(327));if(s!==null){if(s===n.current)throw Error(o(177));if(y=s.lanes|s.childLanes,y|=sf,or(n,a,y,b,C,N),n===nt&&(ke=nt=null,qe=0),Ur=s,Bs=n,Wi=a,fh=y,hh=g,tv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,DA(mi,function(){return yv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=R.T,R.T=null,g=$.p,$.p=2,b=$e,$e|=4;try{bA(n,s,a)}finally{$e=b,$.p=g,R.T=u}}_t=1,hv(),pv(),mv()}}function hv(){if(_t===1){_t=0;var n=Bs,s=Ur,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var u=$.p;$.p=2;var g=$e;$e|=4;try{$y(s,n);var y=Rh,b=jm(n.containerInfo),C=y.focusedElem,N=y.selectionRange;if(b!==C&&C&&C.ownerDocument&&Zm(C.ownerDocument.documentElement,C)){if(N!==null&&Zd(C)){var z=N.start,K=N.end;if(K===void 0&&(K=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min(K,C.value.length);else{var j=C.ownerDocument||document,V=j&&j.defaultView||window;if(V.getSelection){var Y=V.getSelection(),ye=C.textContent.length,Ae=Math.min(N.start,ye),et=N.end===void 0?Ae:Math.min(N.end,ye);!Y.extend&&Ae>et&&(b=et,et=Ae,Ae=b);var U=Wm(C,Ae),L=Wm(C,et);if(U&&L&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var O=j.createRange();O.setStart(U.node,U.offset),Y.removeAllRanges(),Ae>et?(Y.addRange(O),Y.extend(L.node,L.offset)):(O.setEnd(L.node,L.offset),Y.addRange(O))}}}}for(j=[],Y=C;Y=Y.parentNode;)Y.nodeType===1&&j.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<j.length;C++){var Q=j[C];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ic=!!xh,Rh=xh=null}finally{$e=g,$.p=u,R.T=a}}n.current=s,_t=2}}function pv(){if(_t===2){_t=0;var n=Bs,s=Ur,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var u=$.p;$.p=2;var g=$e;$e|=4;try{Gy(n,s.alternate,s)}finally{$e=g,$.p=u,R.T=a}}_t=3}}function mv(){if(_t===4||_t===3){_t=0,vu();var n=Bs,s=Ur,a=Wi,u=tv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_t=5:(_t=0,Ur=Bs=null,gv(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(qs=null),vo(a),s=s.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(bs,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=R.T,g=$.p,$.p=2,R.T=null;try{for(var y=n.onRecoverableError,b=0;b<u.length;b++){var C=u[b];y(C.value,{componentStack:C.stack})}}finally{R.T=s,$.p=g}}(Wi&3)!==0&&vc(),Ti(n),g=n.pendingLanes,(a&261930)!==0&&(g&42)!==0?n===ph?yl++:(yl=0,ph=n):yl=0,vl(0)}}function gv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Za(s)))}function vc(){return hv(),pv(),mv(),yv()}function yv(){if(_t!==5)return!1;var n=Bs,s=fh;fh=0;var a=vo(Wi),u=R.T,g=$.p;try{$.p=32>a?32:a,R.T=null,a=hh,hh=null;var y=Bs,b=Wi;if(_t=0,Ur=Bs=null,Wi=0,($e&6)!==0)throw Error(o(331));var C=$e;if($e|=4,Zy(y.current),Xy(y,y.current,b,a),$e=C,vl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(bs,y)}catch{}return!0}finally{$.p=g,R.T=u,gv(n,s)}}function vv(n,s,a){s=Bn(a,s),s=Jf(n.stateNode,s,2),n=Ms(n,s,2),n!==null&&(vi(n,2),Ti(n))}function Xe(n,s,a){if(n.tag===3)vv(n,n,a);else for(;s!==null;){if(s.tag===3){vv(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qs===null||!qs.has(u))){n=Bn(a,n),a=Sy(2),u=Ms(s,a,2),u!==null&&(Ey(a,u,s,n),vi(u,2),Ti(u));break}}s=s.return}}function yh(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new AA;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(a)||(uh=!0,g.add(a),n=NA.bind(null,n,s,a),s.then(n,n))}function NA(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(qe&a)===a&&(ht===4||ht===3&&(qe&62914560)===qe&&300>kt()-fc?($e&2)===0&&Pr(n,0):ch|=a,kr===qe&&(kr=0)),Ti(n)}function Sv(n,s){s===0&&(s=Ba()),n=To(n,s),n!==null&&(vi(n,s),Ti(n))}function IA(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Sv(n,a)}function MA(n,s){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(s),Sv(n,a)}function DA(n,s){return ir(n,s)}var Sc=null,Br=null,vh=!1,Ec=!1,Sh=!1,Os=0;function Ti(n){n!==Br&&n.next===null&&(Br===null?Sc=Br=n:Br=Br.next=n),Ec=!0,vh||(vh=!0,kA())}function vl(n,s){if(!Sh&&Ec){Sh=!0;do for(var a=!1,u=Sc;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var b=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-Ut(42|n)+1)-1,y&=g&~(b&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,wv(u,y))}else y=qe,y=ho(u,u===nt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ws(u,y)||(a=!0,wv(u,y));u=u.next}while(a);Sh=!1}}function LA(){Ev()}function Ev(){Ec=vh=!1;var n=0;Os!==0&&FA()&&(n=Os);for(var s=kt(),a=null,u=Sc;u!==null;){var g=u.next,y=bv(u,s);y===0?(u.next=null,a===null?Sc=g:a.next=g,g===null&&(Br=a)):(a=u,(n!==0||(y&3)!==0)&&(Ec=!0)),u=g}_t!==0&&_t!==5||vl(n),Os!==0&&(Os=0)}function bv(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var b=31-Ut(y),C=1<<b,N=g[b];N===-1?((C&a)===0||(C&u)!==0)&&(g[b]=wu(C,s)):N<=s&&(n.expiredLanes|=C),y&=~C}if(s=nt,a=qe,a=ho(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===s&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Li(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ws(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(u!==null&&Li(u),vo(a)){case 2:case 8:a=Pa;break;case 32:a=mi;break;case 268435456:a=sr;break;default:a=mi}return u=Tv.bind(null,n),a=ir(a,u),n.callbackPriority=s,n.callbackNode=a,s}return u!==null&&u!==null&&Li(u),n.callbackPriority=2,n.callbackNode=null,2}function Tv(n,s){if(_t!==0&&_t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(vc()&&n.callbackNode!==a)return null;var u=qe;return u=ho(n,n===nt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(iv(n,u,s),bv(n,kt()),n.callbackNode!=null&&n.callbackNode===a?Tv.bind(null,n):null)}function wv(n,s){if(vc())return null;iv(n,s,!0)}function kA(){JA(function(){($e&6)!==0?ir(Es,LA):Ev()})}function Eh(){if(Os===0){var n=wr;n===0&&(n=Ts,Ts<<=1,(Ts&261888)===0&&(Ts=256)),Os=n}return Os}function Av(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ru(""+n)}function _v(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function UA(n,s,a,u,g){if(s==="submit"&&a&&a.stateNode===g){var y=Av((g[Pt]||null).action),b=u.submitter;b&&(s=(s=b[Pt]||null)?Av(s.formAction):b.getAttribute("formAction"),s!==null&&(y=s,b=null));var C=new Du("action","action",null,u,g);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Os!==0){var N=b?_v(g,b):new FormData(g);Of(a,{pending:!0,data:N,method:g.method,action:y},null,N)}}else typeof y=="function"&&(C.preventDefault(),N=b?_v(g,b):new FormData(g),Of(a,{pending:!0,data:N,method:g.method,action:y},y,N))},currentTarget:g}]})}}for(var bh=0;bh<nf.length;bh++){var Th=nf[bh],PA=Th.toLowerCase(),qA=Th[0].toUpperCase()+Th.slice(1);ei(PA,"on"+qA)}ei(ng,"onAnimationEnd"),ei(ig,"onAnimationIteration"),ei(sg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(jw,"onTransitionRun"),ei(eA,"onTransitionStart"),ei(tA,"onTransitionCancel"),ei(og,"onTransitionEnd"),dt("onMouseEnter",["mouseout","mouseover"]),dt("onMouseLeave",["mouseout","mouseover"]),dt("onPointerEnter",["pointerout","pointerover"]),dt("onPointerLeave",["pointerout","pointerover"]),Wt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Cv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],g=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var b=u.length-1;0<=b;b--){var C=u[b],N=C.instance,z=C.currentTarget;if(C=C.listener,N!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=z;try{y(g)}catch(K){Uu(K)}g.currentTarget=null,y=N}else for(b=0;b<u.length;b++){if(C=u[b],N=C.instance,z=C.currentTarget,C=C.listener,N!==y&&g.isPropagationStopped())break e;y=C,g.currentTarget=z;try{y(g)}catch(K){Uu(K)}g.currentTarget=null,y=N}}}}function Ue(n,s){var a=s[ar];a===void 0&&(a=s[ar]=new Set);var u=n+"__bubble";a.has(u)||(xv(s,n,2,!1),a.add(u))}function wh(n,s,a){var u=0;s&&(u|=4),xv(a,n,u,s)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Ah(n){if(!n[bc]){n[bc]=!0,We.forEach(function(a){a!=="selectionchange"&&(BA.has(a)||wh(a,!1,n),wh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[bc]||(s[bc]=!0,wh("selectionchange",!1,s))}}function xv(n,s,a,u){switch(n0(s)){case 2:var g=f_;break;case 8:g=h_;break;default:g=Hh}a=g.bind(null,s,a,n),g=void 0,!Vd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,a,{capture:!0,passive:g}):n.addEventListener(s,a,!0):g!==void 0?n.addEventListener(s,a,{passive:g}):n.addEventListener(s,a,!1)}function _h(n,s,a,u,g){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var C=u.stateNode.containerInfo;if(C===g)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;C!==null;){if(b=se(C),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=y=b;continue e}C=C.parentNode}}u=u.return}Dm(function(){var z=y,K=zd(a),j=[];e:{var V=rg.get(n);if(V!==void 0){var Y=Du,ye=n;switch(n){case"keypress":if(Iu(a)===0)break e;case"keydown":case"keyup":Y=Mw;break;case"focusin":ye="focus",Y=$d;break;case"focusout":ye="blur",Y=$d;break;case"beforeblur":case"afterblur":Y=$d;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=kw;break;case ng:case ig:case sg:Y=Tw;break;case og:Y=Pw;break;case"scroll":case"scrollend":Y=yw;break;case"wheel":Y=Bw;break;case"copy":case"cut":case"paste":Y=Aw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=qm;break;case"toggle":case"beforetoggle":Y=Ow}var Ae=(s&4)!==0,et=!Ae&&(n==="scroll"||n==="scrollend"),U=Ae?V!==null?V+"Capture":null:V;Ae=[];for(var L=z,O;L!==null;){var Q=L;if(O=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||O===null||U===null||(Q=za(L,U),Q!=null&&Ae.push(El(L,Q,O))),et)break;L=L.return}0<Ae.length&&(V=new Y(V,ye,null,a,K),j.push({event:V,listeners:Ae}))}}if((s&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",V&&a!==Od&&(ye=a.relatedTarget||a.fromElement)&&(se(ye)||ye[ki]))break e;if((Y||V)&&(V=K.window===K?K:(V=K.ownerDocument)?V.defaultView||V.parentWindow:window,Y?(ye=a.relatedTarget||a.toElement,Y=z,ye=ye?se(ye):null,ye!==null&&(et=l(ye),Ae=ye.tag,ye!==et||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(Y=null,ye=z),Y!==ye)){if(Ae=Um,Q="onMouseLeave",U="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=qm,Q="onPointerLeave",U="onPointerEnter",L="pointer"),et=Y==null?V:le(Y),O=ye==null?V:le(ye),V=new Ae(Q,L+"leave",Y,a,K),V.target=et,V.relatedTarget=O,Q=null,se(K)===z&&(Ae=new Ae(U,L+"enter",ye,a,K),Ae.target=O,Ae.relatedTarget=et,Q=Ae),et=Q,Y&&ye)t:{for(Ae=HA,U=Y,L=ye,O=0,Q=U;Q;Q=Ae(Q))O++;Q=0;for(var Te=L;Te;Te=Ae(Te))Q++;for(;0<O-Q;)U=Ae(U),O--;for(;0<Q-O;)L=Ae(L),Q--;for(;O--;){if(U===L||L!==null&&U===L.alternate){Ae=U;break t}U=Ae(U),L=Ae(L)}Ae=null}else Ae=null;Y!==null&&Rv(j,V,Y,Ae,!1),ye!==null&&et!==null&&Rv(j,et,ye,Ae,!0)}}e:{if(V=z?le(z):window,Y=V.nodeName&&V.nodeName.toLowerCase(),Y==="select"||Y==="input"&&V.type==="file")var Fe=Ym;else if(Vm(V))if(Jm)Fe=Qw;else{Fe=Kw;var Ee=$w}else Y=V.nodeName,!Y||Y.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?z&&Hd(z.elementType)&&(Fe=Ym):Fe=Xw;if(Fe&&(Fe=Fe(n,z))){Fm(j,Fe,a,K);break e}Ee&&Ee(n,V,z),n==="focusout"&&z&&V.type==="number"&&z.memoizedProps.value!=null&&Bd(V,"number",V.value)}switch(Ee=z?le(z):window,n){case"focusin":(Vm(Ee)||Ee.contentEditable==="true")&&(mr=Ee,jd=z,Xa=null);break;case"focusout":Xa=jd=mr=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,eg(j,a,K);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":eg(j,a,K)}var Le;if(Xd)e:{switch(n){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else pr?zm(n,a)&&(Be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Bm&&a.locale!=="ko"&&(pr||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&pr&&(Le=Lm()):(As=K,Fd="value"in As?As.value:As.textContent,pr=!0)),Ee=Tc(z,Be),0<Ee.length&&(Be=new Pm(Be,n,null,a,K),j.push({event:Be,listeners:Ee}),Le?Be.data=Le:(Le=Gm(a),Le!==null&&(Be.data=Le)))),(Le=Gw?Vw(n,a):Fw(n,a))&&(Be=Tc(z,"onBeforeInput"),0<Be.length&&(Ee=new Pm("onBeforeInput","beforeinput",null,a,K),j.push({event:Ee,listeners:Be}),Ee.data=Le)),UA(j,n,z,a,K)}Cv(j,s)})}function El(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Tc(n,s){for(var a=s+"Capture",u=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=za(n,a),g!=null&&u.unshift(El(n,g,y)),g=za(n,s),g!=null&&u.push(El(n,g,y))),n.tag===3)return u;n=n.return}return[]}function HA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Rv(n,s,a,u,g){for(var y=s._reactName,b=[];a!==null&&a!==u;){var C=a,N=C.alternate,z=C.stateNode;if(C=C.tag,N!==null&&N===u)break;C!==5&&C!==26&&C!==27||z===null||(N=z,g?(z=za(a,y),z!=null&&b.unshift(El(a,z,N))):g||(z=za(a,y),z!=null&&b.push(El(a,z,N)))),a=a.return}b.length!==0&&n.push({event:s,listeners:b})}var OA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function Nv(n){return(typeof n=="string"?n:""+n).replace(OA,`
`).replace(zA,"")}function Iv(n,s){return s=Nv(s),Nv(n)===s}function je(n,s,a,u,g,y){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||dr(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&dr(n,""+u);break;case"className":Cu(n,"class",u);break;case"tabIndex":Cu(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cu(n,a,u);break;case"style":Im(n,u,y);break;case"data":if(s!=="object"){Cu(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ru(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(s!=="input"&&je(n,s,"name",g.name,g,null),je(n,s,"formEncType",g.formEncType,g,null),je(n,s,"formMethod",g.formMethod,g,null),je(n,s,"formTarget",g.formTarget,g,null)):(je(n,s,"encType",g.encType,g,null),je(n,s,"method",g.method,g,null),je(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ru(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Pi);break;case"onScroll":u!=null&&Ue("scroll",n);break;case"onScrollEnd":u!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Ru(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),_u(n,"popover",u);break;case"xlinkActuate":Ui(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ui(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ui(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ui(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ui(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ui(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ui(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ui(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ui(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":_u(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mw.get(a)||a,_u(n,a,u))}}function Ch(n,s,a,u,g,y){switch(a){case"style":Im(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof u=="string"?dr(n,u):(typeof u=="number"||typeof u=="bigint")&&dr(n,""+u);break;case"onScroll":u!=null&&Ue("scroll",n);break;case"onScrollEnd":u!=null&&Ue("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),s=a.slice(2,g?a.length-7:void 0),y=n[Pt]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(s,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,u,g);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):_u(n,a,u)}}}function Ot(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var u=!1,g=!1,y;for(y in a)if(a.hasOwnProperty(y)){var b=a[y];if(b!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:je(n,s,y,b,a,null)}}g&&je(n,s,"srcSet",a.srcSet,a,null),u&&je(n,s,"src",a.src,a,null);return;case"input":Ue("invalid",n);var C=y=b=g=null,N=null,z=null;for(u in a)if(a.hasOwnProperty(u)){var K=a[u];if(K!=null)switch(u){case"name":g=K;break;case"type":b=K;break;case"checked":N=K;break;case"defaultChecked":z=K;break;case"value":y=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,s));break;default:je(n,s,u,K,a,null)}}Cm(n,y,C,N,z,b,g,!1);return;case"select":Ue("invalid",n),u=b=y=null;for(g in a)if(a.hasOwnProperty(g)&&(C=a[g],C!=null))switch(g){case"value":y=C;break;case"defaultValue":b=C;break;case"multiple":u=C;default:je(n,s,g,C,a,null)}s=y,a=b,n.multiple=!!u,s!=null?cr(n,!!u,s,!1):a!=null&&cr(n,!!u,a,!0);return;case"textarea":Ue("invalid",n),y=g=u=null;for(b in a)if(a.hasOwnProperty(b)&&(C=a[b],C!=null))switch(b){case"value":u=C;break;case"defaultValue":g=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:je(n,s,b,C,a,null)}Rm(n,u,g,y);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:je(n,s,N,u,a,null)}return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(u=0;u<Sl.length;u++)Ue(Sl[u],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(u=a[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:je(n,s,z,u,a,null)}return;default:if(Hd(s)){for(K in a)a.hasOwnProperty(K)&&(u=a[K],u!==void 0&&Ch(n,s,K,u,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(u=a[C],u!=null&&je(n,s,C,u,a,null))}function GA(n,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,b=null,C=null,N=null,z=null,K=null;for(Y in a){var j=a[Y];if(a.hasOwnProperty(Y)&&j!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=j;default:u.hasOwnProperty(Y)||je(n,s,Y,null,u,j)}}for(var V in u){var Y=u[V];if(j=a[V],u.hasOwnProperty(V)&&(Y!=null||j!=null))switch(V){case"type":y=Y;break;case"name":g=Y;break;case"checked":z=Y;break;case"defaultChecked":K=Y;break;case"value":b=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,s));break;default:Y!==j&&je(n,s,V,Y,u,j)}}qd(n,b,C,N,z,K,y,g);return;case"select":Y=b=C=V=null;for(y in a)if(N=a[y],a.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":Y=N;default:u.hasOwnProperty(y)||je(n,s,y,null,u,N)}for(g in u)if(y=u[g],N=a[g],u.hasOwnProperty(g)&&(y!=null||N!=null))switch(g){case"value":V=y;break;case"defaultValue":C=y;break;case"multiple":b=y;default:y!==N&&je(n,s,g,y,u,N)}s=C,a=b,u=Y,V!=null?cr(n,!!a,V,!1):!!u!=!!a&&(s!=null?cr(n,!!a,s,!0):cr(n,!!a,a?[]:"",!1));return;case"textarea":Y=V=null;for(C in a)if(g=a[C],a.hasOwnProperty(C)&&g!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:je(n,s,C,null,u,g)}for(b in u)if(g=u[b],y=a[b],u.hasOwnProperty(b)&&(g!=null||y!=null))switch(b){case"value":V=g;break;case"defaultValue":Y=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==y&&je(n,s,b,g,u,y)}xm(n,V,Y);return;case"option":for(var ye in a)if(V=a[ye],a.hasOwnProperty(ye)&&V!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:je(n,s,ye,null,u,V)}for(N in u)if(V=u[N],Y=a[N],u.hasOwnProperty(N)&&V!==Y&&(V!=null||Y!=null))switch(N){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:je(n,s,N,V,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)V=a[Ae],a.hasOwnProperty(Ae)&&V!=null&&!u.hasOwnProperty(Ae)&&je(n,s,Ae,null,u,V);for(z in u)if(V=u[z],Y=a[z],u.hasOwnProperty(z)&&V!==Y&&(V!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,s));break;default:je(n,s,z,V,u,Y)}return;default:if(Hd(s)){for(var et in a)V=a[et],a.hasOwnProperty(et)&&V!==void 0&&!u.hasOwnProperty(et)&&Ch(n,s,et,void 0,u,V);for(K in u)V=u[K],Y=a[K],!u.hasOwnProperty(K)||V===Y||V===void 0&&Y===void 0||Ch(n,s,K,V,u,Y);return}}for(var U in a)V=a[U],a.hasOwnProperty(U)&&V!=null&&!u.hasOwnProperty(U)&&je(n,s,U,null,u,V);for(j in u)V=u[j],Y=a[j],!u.hasOwnProperty(j)||V===Y||V==null&&Y==null||je(n,s,j,V,u,Y)}function Mv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],y=g.transferSize,b=g.initiatorType,C=g.duration;if(y&&C&&Mv(b)){for(b=0,C=g.responseEnd,u+=1;u<a.length;u++){var N=a[u],z=N.startTime;if(z>C)break;var K=N.transferSize,j=N.initiatorType;K&&Mv(j)&&(N=N.responseEnd,b+=K*(N<C?1:(C-z)/(N-z)))}if(--u,s+=8*(y+b)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var xh=null,Rh=null;function wc(n){return n.nodeType===9?n:n.ownerDocument}function Dv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Nh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ih=null;function FA(){var n=window.event;return n&&n.type==="popstate"?n===Ih?!1:(Ih=n,!0):(Ih=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(n){return Uv.resolve(null).then(n).catch($A)}:kv;function $A(n){setTimeout(function(){throw n})}function zs(n){return n==="head"}function Pv(n,s){var a=s,u=0;do{var g=a.nextSibling;if(n.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(g),Gr(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")bl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,bl(a);for(var y=a.firstChild;y;){var b=y.nextSibling,C=y.nodeName;y[I]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=b}}else a==="body"&&bl(n.ownerDocument.body);a=g}while(a);Gr(s)}function qv(n,s){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function Mh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mh(a),F(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function KA(n,s,a,u){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[I])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Vn(n.nextSibling),n===null)break}return null}function XA(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Vn(n.nextSibling),n===null))return null;return n}function Bv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Vn(n.nextSibling),n===null))return null;return n}function Dh(n){return n.data==="$?"||n.data==="$~"}function Lh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function QA(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Vn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var kh=null;function Hv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Vn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function Ov(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function zv(n,s,a){switch(s=wc(a),n){case"html":if(n=s.documentElement,!n)throw Error(o(452));return n;case"head":if(n=s.head,!n)throw Error(o(453));return n;case"body":if(n=s.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function bl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);F(n)}var Fn=new Map,Gv=new Set;function Ac(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zi=$.d;$.d={f:WA,r:ZA,D:jA,C:e_,L:t_,m:n_,X:s_,S:i_,M:o_};function WA(){var n=Zi.f(),s=mc();return n||s}function ZA(n){var s=re(n);s!==null&&s.tag===5&&s.type==="form"?oy(s):Zi.r(n)}var Hr=typeof document>"u"?null:document;function Vv(n,s,a){var u=Hr;if(u&&typeof s=="string"&&s){var g=Pn(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Gv.has(g)||(Gv.add(g),n={rel:n,crossOrigin:a,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Ot(s,"link",n),_e(s),u.head.appendChild(s)))}}function jA(n){Zi.D(n),Vv("dns-prefetch",n,null)}function e_(n,s){Zi.C(n,s),Vv("preconnect",n,s)}function t_(n,s,a){Zi.L(n,s,a);var u=Hr;if(u&&n&&s){var g='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+Pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+Pn(a.imageSizes)+'"]')):g+='[href="'+Pn(n)+'"]';var y=g;switch(s){case"style":y=Or(n);break;case"script":y=zr(n)}Fn.has(y)||(n=S({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Fn.set(y,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(Tl(y))||s==="script"&&u.querySelector(wl(y))||(s=u.createElement("link"),Ot(s,"link",n),_e(s),u.head.appendChild(s)))}}function n_(n,s){Zi.m(n,s);var a=Hr;if(a&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Pn(u)+'"][href="'+Pn(n)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=zr(n)}if(!Fn.has(y)&&(n=S({rel:"modulepreload",href:n},s),Fn.set(y,n),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(y)))return}u=a.createElement("link"),Ot(u,"link",n),_e(u),a.head.appendChild(u)}}}function i_(n,s,a){Zi.S(n,s,a);var u=Hr;if(u&&n){var g=Me(u).hoistableStyles,y=Or(n);s=s||"default";var b=g.get(y);if(!b){var C={loading:0,preload:null};if(b=u.querySelector(Tl(y)))C.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Fn.get(y))&&Uh(n,a);var N=b=u.createElement("link");_e(N),Ot(N,"link",n),N._p=new Promise(function(z,K){N.onload=z,N.onerror=K}),N.addEventListener("load",function(){C.loading|=1}),N.addEventListener("error",function(){C.loading|=2}),C.loading|=4,_c(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:C},g.set(y,b)}}}function s_(n,s){Zi.X(n,s);var a=Hr;if(a&&n){var u=Me(a).hoistableScripts,g=zr(n),y=u.get(g);y||(y=a.querySelector(wl(g)),y||(n=S({src:n,async:!0},s),(s=Fn.get(g))&&Ph(n,s),y=a.createElement("script"),_e(y),Ot(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function o_(n,s){Zi.M(n,s);var a=Hr;if(a&&n){var u=Me(a).hoistableScripts,g=zr(n),y=u.get(g);y||(y=a.querySelector(wl(g)),y||(n=S({src:n,async:!0,type:"module"},s),(s=Fn.get(g))&&Ph(n,s),y=a.createElement("script"),_e(y),Ot(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function Fv(n,s,a,u){var g=(g=Ne.current)?Ac(g):null;if(!g)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Or(a.href),a=Me(g).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Or(a.href);var y=Me(g).hoistableStyles,b=y.get(n);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,b),(y=g.querySelector(Tl(n)))&&!y._p&&(b.instance=y,b.state.loading=5),Fn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(n,a),y||r_(g,n,a,b.state))),s&&u===null)throw Error(o(528,""));return b}if(s&&u!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zr(a),a=Me(g).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function Or(n){return'href="'+Pn(n)+'"'}function Tl(n){return'link[rel="stylesheet"]['+n+"]"}function Yv(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function r_(n,s,a,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ot(s,"link",a),_e(s),n.head.appendChild(s))}function zr(n){return'[src="'+Pn(n)+'"]'}function wl(n){return"script[async]"+n}function Jv(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Pn(a.href)+'"]');if(u)return s.instance=u,_e(u),u;var g=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),_e(u),Ot(u,"style",g),_c(u,a.precedence,n),s.instance=u;case"stylesheet":g=Or(a.href);var y=n.querySelector(Tl(g));if(y)return s.state.loading|=4,s.instance=y,_e(y),y;u=Yv(a),(g=Fn.get(g))&&Uh(u,g),y=(n.ownerDocument||n).createElement("link"),_e(y);var b=y;return b._p=new Promise(function(C,N){b.onload=C,b.onerror=N}),Ot(y,"link",u),s.state.loading|=4,_c(y,a.precedence,n),s.instance=y;case"script":return y=zr(a.src),(g=n.querySelector(wl(y)))?(s.instance=g,_e(g),g):(u=a,(g=Fn.get(y))&&(u=S({},a),Ph(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),_e(g),Ot(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,_c(u,a.precedence,n));return s.instance}function _c(n,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,b=0;b<u.length;b++){var C=u[b];if(C.dataset.precedence===s)y=C;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Uh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Ph(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Cc=null;function $v(n,s,a){if(Cc===null){var u=new Map,g=Cc=new Map;g.set(a,u)}else g=Cc,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var y=a[g];if(!(y[I]||y[St]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(s)||"";b=n+b;var C=u.get(b);C?C.push(y):u.set(b,[y])}}return u}function Kv(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function a_(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Xv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function l_(n,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Or(u.href),y=s.querySelector(Tl(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=xc.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=y,_e(y);return}y=s.ownerDocument||s,u=Yv(u),(g=Fn.get(g))&&Uh(u,g),y=y.createElement("link"),_e(y);var b=y;b._p=new Promise(function(C,N){b.onload=C,b.onerror=N}),Ot(y,"link",u),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=xc.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var qh=0;function u_(n,s){return n.stylesheets&&n.count===0&&Nc(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&Nc(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&qh===0&&(qh=62500*VA());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Nc(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>qh?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Rc=null;function Nc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Rc=new Map,s.forEach(c_,n),Rc=null,xc.call(n))}function c_(n,s){if(!(s.state.loading&4)){var a=Rc.get(n);if(a)var u=a.get(null);else{a=new Map,Rc.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var b=g[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),u=b)}u&&a.set(null,u)}g=s.instance,b=g.getAttribute("data-precedence"),y=a.get(b)||u,y===u&&a.set(null,g),a.set(b,g),this.count++,u=xc.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var Al={$$typeof:H,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function d_(n,s,a,u,g,y,b,C,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Qv(n,s,a,u,g,y,b,C,N,z,K,j){return n=new d_(n,s,a,b,N,z,K,j,C),s=1,y===!0&&(s|=24),y=Sn(3,null,null,s),n.current=y,y.stateNode=n,s=gf(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:s},Ef(y),n}function Wv(n){return n?(n=vr,n):vr}function Zv(n,s,a,u,g,y){g=Wv(g),u.context===null?u.context=g:u.pendingContext=g,u=Is(s),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=Ms(n,u,s),a!==null&&(cn(a,n,s),nl(a,n,s))}function jv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Bh(n,s){jv(n,s),(n=n.alternate)&&jv(n,s)}function e0(n){if(n.tag===13||n.tag===31){var s=To(n,67108864);s!==null&&cn(s,n,67108864),Bh(n,67108864)}}function t0(n){if(n.tag===13||n.tag===31){var s=An();s=yo(s);var a=To(n,s);a!==null&&cn(a,n,s),Bh(n,s)}}var Ic=!0;function f_(n,s,a,u){var g=R.T;R.T=null;var y=$.p;try{$.p=2,Hh(n,s,a,u)}finally{$.p=y,R.T=g}}function h_(n,s,a,u){var g=R.T;R.T=null;var y=$.p;try{$.p=8,Hh(n,s,a,u)}finally{$.p=y,R.T=g}}function Hh(n,s,a,u){if(Ic){var g=Oh(u);if(g===null)_h(n,s,u,Mc,a),i0(n,u);else if(m_(g,n,s,a,u))u.stopPropagation();else if(i0(n,u),s&4&&-1<p_.indexOf(n)){for(;g!==null;){var y=re(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=gi(y.pendingLanes);if(b!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var N=1<<31-Ut(b);C.entanglements[1]|=N,b&=~N}Ti(y),($e&6)===0&&(hc=kt()+500,vl(0))}}break;case 31:case 13:C=To(y,2),C!==null&&cn(C,y,2),mc(),Bh(y,2)}if(y=Oh(u),y===null&&_h(n,s,u,Mc,a),y===g)break;g=y}g!==null&&u.stopPropagation()}else _h(n,s,u,null,a)}}function Oh(n){return n=zd(n),zh(n)}var Mc=null;function zh(n){if(Mc=null,n=se(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=f(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Mc=n,null}function n0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case Es:return 2;case Pa:return 8;case mi:case Ln:return 32;case sr:return 268435456;default:return 32}default:return 32}}var Gh=!1,Gs=null,Vs=null,Fs=null,_l=new Map,Cl=new Map,Ys=[],p_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(n,s){switch(n){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":_l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(s.pointerId)}}function xl(n,s,a,u,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},s!==null&&(s=re(s),s!==null&&e0(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function m_(n,s,a,u,g){switch(s){case"focusin":return Gs=xl(Gs,n,s,a,u,g),!0;case"dragenter":return Vs=xl(Vs,n,s,a,u,g),!0;case"mouseover":return Fs=xl(Fs,n,s,a,u,g),!0;case"pointerover":var y=g.pointerId;return _l.set(y,xl(_l.get(y)||null,n,s,a,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Cl.set(y,xl(Cl.get(y)||null,n,s,a,u,g)),!0}return!1}function s0(n){var s=se(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,rr(n.priority,function(){t0(a)});return}}else if(s===31){if(s=f(a),s!==null){n.blockedOn=s,rr(n.priority,function(){t0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Dc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Oh(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Od=u,a.target.dispatchEvent(u),Od=null}else return s=re(a),s!==null&&e0(s),n.blockedOn=a,!1;s.shift()}return!0}function o0(n,s,a){Dc(n)&&a.delete(s)}function g_(){Gh=!1,Gs!==null&&Dc(Gs)&&(Gs=null),Vs!==null&&Dc(Vs)&&(Vs=null),Fs!==null&&Dc(Fs)&&(Fs=null),_l.forEach(o0),Cl.forEach(o0)}function Lc(n,s){n.blockedOn===s&&(n.blockedOn=null,Gh||(Gh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,g_)))}var kc=null;function r0(n){kc!==n&&(kc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kc===n&&(kc=null);for(var s=0;s<n.length;s+=3){var a=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(zh(u||a)===null)continue;break}var y=re(a);y!==null&&(n.splice(s,3),s-=3,Of(y,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function Gr(n){function s(N){return Lc(N,n)}Gs!==null&&Lc(Gs,n),Vs!==null&&Lc(Vs,n),Fs!==null&&Lc(Fs,n),_l.forEach(s),Cl.forEach(s);for(var a=0;a<Ys.length;a++){var u=Ys[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)s0(a),a.blockedOn===null&&Ys.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],y=a[u+1],b=g[Pt]||null;if(typeof y=="function")b||r0(a);else if(b){var C=null;if(y&&y.hasAttribute("formAction")){if(g=y,b=y[Pt]||null)C=b.formAction;else if(zh(g)!==null)continue}else C=b.action;typeof C=="function"?a[u+1]=C:(a.splice(u,3),u-=3),r0(a)}}}function a0(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Vh(n){this._internalRoot=n}Uc.prototype.render=Vh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,u=An();Zv(a,u,n,s,null,null)},Uc.prototype.unmount=Vh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Zv(n.current,2,null,n,null,null),mc(),s[ki]=null}};function Uc(n){this._internalRoot=n}Uc.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ha();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ys.length&&s!==0&&s<Ys[a].priority;a++);Ys.splice(a,0,n),a===0&&s0(n)}};var l0=e.version;if(l0!=="19.2.3")throw Error(o(527,l0,"19.2.3"));$.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var y_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{bs=Pc.inject(y_),Ft=Pc}catch{}}return Nl.createRoot=function(n,s){if(!r(n))throw Error(o(299));var a=!1,u="",g=my,y=gy,b=yy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Qv(n,1,!1,null,null,a,u,null,g,y,b,a0),n[ki]=s.current,Ah(n),new Vh(s)},Nl.hydrateRoot=function(n,s,a){if(!r(n))throw Error(o(299));var u=!1,g="",y=my,b=gy,C=yy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),s=Qv(n,1,!0,s,a??null,u,g,N,y,b,C,a0),s.context=Wv(null),a=s.current,u=An(),u=yo(u),g=Is(u),g.callback=null,Ms(a,g,u),a=u,s.current.lanes=a,vi(s,a),Ti(s),n[ki]=s.current,Ah(n),new Uc(s)},Nl.version="19.2.3",Nl}var S0;function I_(){if(S0)return $h.exports;S0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$h.exports=N_(),$h.exports}var M_=I_();const D_=$p(M_);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E0="popstate";function L_(t={}){function e(o,r){let{pathname:l,search:c,hash:f}=o.location;return ap("",{pathname:l,search:c,hash:f},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function i(o,r){return typeof r=="string"?r:$l(r)}return U_(e,i,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k_(){return Math.random().toString(36).substring(2,10)}function b0(t,e){return{usr:t.state,key:t.key,idx:e}}function ap(t,e,i=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:i,key:e&&e.key||o||k_()}}function $l({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ra(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function U_(t,e,i,o={}){let{window:r=document.defaultView,v5Compat:l=!1}=o,c=r.history,f="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function S(){f="POP";let D=v(),k=D==null?null:D-m;m=D,p&&p({action:f,location:_.location,delta:k})}function E(D,k){f="PUSH";let J=ap(_.location,D,k);m=v()+1;let H=b0(J,m),ie=_.createHref(J);try{c.pushState(H,"",ie)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign(ie)}l&&p&&p({action:f,location:_.location,delta:1})}function A(D,k){f="REPLACE";let J=ap(_.location,D,k);m=v();let H=b0(J,m),ie=_.createHref(J);c.replaceState(H,"",ie),l&&p&&p({action:f,location:_.location,delta:0})}function x(D){return P_(D)}let _={get action(){return f},get location(){return t(r,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(E0,S),p=D,()=>{r.removeEventListener(E0,S),p=null}},createHref(D){return e(r,D)},createURL:x,encodeLocation(D){let k=x(D);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:A,go(D){return c.go(D)}};return _}function P_(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ct(i,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:$l(t);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function PE(t,e,i="/"){return q_(t,e,i,!1)}function q_(t,e,i,o){let r=typeof e=="string"?Ra(e):e,l=hs(r.pathname||"/",i);if(l==null)return null;let c=qE(t);B_(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=X_(l);f=$_(c[p],m,o)}return f}function qE(t,e=[],i=[],o="",r=!1){let l=(c,f,p=r,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(o)&&p)return;ct(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length)}let S=fs([o,v.relativePath]),E=i.concat(v);c.children&&c.children.length>0&&(ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),qE(c.children,e,E,S,p)),!(c.path==null&&!c.index)&&e.push({path:S,score:Y_(S,c.index),routesMeta:E})};return t.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,f);else for(let m of BE(c.path))l(c,f,!0,m)}),e}function BE(t){let e=t.split("/");if(e.length===0)return[];let[i,...o]=e,r=i.endsWith("?"),l=i.replace(/\?$/,"");if(o.length===0)return r?[l,""]:[l];let c=BE(o.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),r&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function B_(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:J_(e.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var H_=/^:[\w-]+$/,O_=3,z_=2,G_=1,V_=10,F_=-2,T0=t=>t==="*";function Y_(t,e){let i=t.split("/"),o=i.length;return i.some(T0)&&(o+=F_),e&&(o+=z_),i.filter(r=>!T0(r)).reduce((r,l)=>r+(H_.test(l)?O_:l===""?G_:V_),o)}function J_(t,e){return t.length===e.length&&t.slice(0,-1).every((o,r)=>o===e[r])?t[t.length-1]-e[e.length-1]:0}function $_(t,e,i=!1){let{routesMeta:o}=t,r={},l="/",c=[];for(let f=0;f<o.length;++f){let p=o[f],m=f===o.length-1,v=l==="/"?e:e.slice(l.length)||"/",S=sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),E=p.route;if(!S&&m&&i&&!o[o.length-1].route.index&&(S=sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(r,S.params),c.push({params:r,pathname:fs([l,S.pathname]),pathnameBase:j_(fs([l,S.pathnameBase])),route:E}),S.pathnameBase!=="/"&&(l=fs([l,S.pathnameBase]))}return c}function sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,o]=K_(t.path,t.caseSensitive,t.end),r=e.match(i);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),f=r.slice(1);return{params:o.reduce((m,{paramName:v,isOptional:S},E)=>{if(v==="*"){let x=f[E]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const A=f[E];return S&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function K_(t,e=!1,i=!0){Kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),o]}function X_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,o=t.charAt(i);return o&&o!=="/"?null:t.slice(i)||"/"}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q_=t=>HE.test(t);function W_(t,e="/"){let{pathname:i,search:o="",hash:r=""}=typeof t=="string"?Ra(t):t,l;if(i)if(Q_(i))l=i;else{if(i.includes("//")){let c=i;i=i.replace(/\/\/+/g,"/"),Kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${i}`)}i.startsWith("/")?l=w0(i.substring(1),"/"):l=w0(i,e)}else l=e;return{pathname:l,search:eC(o),hash:tC(r)}}function w0(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?i.length>1&&i.pop():r!=="."&&i.push(r)}),i.length>1?i.join("/"):"/"}function Wh(t,e,i,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z_(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function OE(t){let e=Z_(t);return e.map((i,o)=>o===e.length-1?i.pathname:i.pathnameBase)}function zE(t,e,i,o=!1){let r;typeof t=="string"?r=Ra(t):(r={...t},ct(!r.pathname||!r.pathname.includes("?"),Wh("?","pathname","search",r)),ct(!r.pathname||!r.pathname.includes("#"),Wh("#","pathname","hash",r)),ct(!r.search||!r.search.includes("#"),Wh("#","search","hash",r)));let l=t===""||r.pathname==="",c=l?"/":r.pathname,f;if(c==null)f=i;else{let S=e.length-1;if(!o&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),S-=1;r.pathname=E.join("/")}f=S>=0?e[S]:"/"}let p=W_(r,f),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var fs=t=>t.join("/").replace(/\/\/+/g,"/"),j_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,nC=class{constructor(t,e,i,o=!1){this.status=t,this.statusText=e||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function iC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function sC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function VE(t,e){let i=t;if(typeof i!="string"||!HE.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let o=i,r=!1;if(GE)try{let l=new URL(window.location.href),c=i.startsWith("//")?new URL(l.protocol+i):new URL(i),f=hs(c.pathname,e);c.origin===l.origin&&f!=null?i=f+c.search+c.hash:r=!0}catch{Kn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:r,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FE=["POST","PUT","PATCH","DELETE"];new Set(FE);var oC=["GET",...FE];new Set(oC);var Na=B.createContext(null);Na.displayName="DataRouter";var wd=B.createContext(null);wd.displayName="DataRouterState";var rC=B.createContext(!1),YE=B.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var aC=B.createContext(new Map);aC.displayName="Fetchers";var lC=B.createContext(null);lC.displayName="Await";var Qn=B.createContext(null);Qn.displayName="Navigation";var hu=B.createContext(null);hu.displayName="Location";var Di=B.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var Xp=B.createContext(null);Xp.displayName="RouteError";var JE="REACT_ROUTER_ERROR",uC="REDIRECT",cC="ROUTE_ERROR_RESPONSE";function dC(t){if(t.startsWith(`${JE}:${uC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fC(t){if(t.startsWith(`${JE}:${cC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nC(e.status,e.statusText,e.data)}catch{}}function hC(t,{relative:e}={}){ct(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=B.useContext(Qn),{hash:r,pathname:l,search:c}=mu(t,{relative:e}),f=l;return i!=="/"&&(f=l==="/"?i:fs([i,l])),o.createHref({pathname:f,search:c,hash:r})}function pu(){return B.useContext(hu)!=null}function gs(){return ct(pu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(hu).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(t){B.useContext(Qn).static||B.useLayoutEffect(t)}function Qp(){let{isDataRoute:t}=B.useContext(Di);return t?xC():pC()}function pC(){ct(pu(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(Na),{basename:e,navigator:i}=B.useContext(Qn),{matches:o}=B.useContext(Di),{pathname:r}=gs(),l=JSON.stringify(OE(o)),c=B.useRef(!1);return KE(()=>{c.current=!0}),B.useCallback((p,m={})=>{if(Kn(c.current,$E),!c.current)return;if(typeof p=="number"){i.go(p);return}let v=zE(p,JSON.parse(l),r,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fs([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,l,r,t])}B.createContext(null);function mC(){let{matches:t}=B.useContext(Di),e=t[t.length-1];return e?e.params:{}}function mu(t,{relative:e}={}){let{matches:i}=B.useContext(Di),{pathname:o}=gs(),r=JSON.stringify(OE(i));return B.useMemo(()=>zE(t,JSON.parse(r),o,e==="path"),[t,r,o,e])}function gC(t,e){return XE(t,e)}function XE(t,e,i,o,r){var J;ct(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(Qn),{matches:c}=B.useContext(Di),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",S=f&&f.route;{let H=S&&S.path||"";WE(m,!S||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let E=gs(),A;if(e){let H=typeof e=="string"?Ra(e):e;ct(v==="/"||((J=H.pathname)==null?void 0:J.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=E;let x=A.pathname||"/",_=x;if(v!=="/"){let H=v.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=PE(t,{pathname:_});Kn(S||D!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Kn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=bC(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:fs([v,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:fs([v,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,i,o,r);return e&&k?B.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},k):k}function yC(){let t=CC(),e=iC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),i?B.createElement("pre",{style:r},i):null,c)}var vC=B.createElement(yC,null),QE=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const i=fC(t.digest);i&&(t=i)}let e=t!==void 0?B.createElement(Di.Provider,{value:this.props.routeContext},B.createElement(Xp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?B.createElement(SC,{error:t},e):e}};QE.contextType=rC;var Zh=new WeakMap;function SC({children:t,error:e}){let{basename:i}=B.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let o=dC(e.digest);if(o){let r=Zh.get(e);if(r)throw r;let l=VE(o.location,i);if(GE&&!Zh.get(e))if(l.isExternal||o.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:o.replace}));throw Zh.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function EC({routeContext:t,match:e,children:i}){let o=B.useContext(Na);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Di.Provider,{value:t},i)}function bC(t,e=[],i=null,o=null,r=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let l=t,c=i==null?void 0:i.errors;if(c!=null){let v=l.findIndex(S=>S.route.id&&(c==null?void 0:c[S.route.id])!==void 0);ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(i)for(let v=0;v<l.length;v++){let S=l[v];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(p=v),S.route.id){let{loaderData:E,errors:A}=i,x=S.route.loader&&!E.hasOwnProperty(S.route.id)&&(!A||A[S.route.id]===void 0);if(S.route.lazy||x){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=i&&o?(v,S)=>{var E,A;o(v,{location:i.location,params:((A=(E=i.matches)==null?void 0:E[0])==null?void 0:A.params)??{},unstable_pattern:sC(i.matches),errorInfo:S})}:void 0;return l.reduceRight((v,S,E)=>{let A,x=!1,_=null,D=null;i&&(A=c&&S.route.id?c[S.route.id]:void 0,_=S.route.errorElement||vC,f&&(p<0&&E===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,D=null):p===E&&(x=!0,D=S.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,E+1)),J=()=>{let H;return A?H=_:x?H=D:S.route.Component?H=B.createElement(S.route.Component,null):S.route.element?H=S.route.element:H=v,B.createElement(EC,{match:S,routeContext:{outlet:v,matches:k,isDataRoute:i!=null},children:H})};return i&&(S.route.ErrorBoundary||S.route.errorElement||E===0)?B.createElement(QE,{location:i.location,revalidation:i.revalidation,component:_,error:A,children:J(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:m}):J()},null)}function Wp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(t){let e=B.useContext(Na);return ct(e,Wp(t)),e}function wC(t){let e=B.useContext(wd);return ct(e,Wp(t)),e}function AC(t){let e=B.useContext(Di);return ct(e,Wp(t)),e}function Zp(t){let e=AC(t),i=e.matches[e.matches.length-1];return ct(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function _C(){return Zp("useRouteId")}function CC(){var o;let t=B.useContext(Xp),e=wC("useRouteError"),i=Zp("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[i]}function xC(){let{router:t}=TC("useNavigate"),e=Zp("useNavigate"),i=B.useRef(!1);return KE(()=>{i.current=!0}),B.useCallback(async(r,l={})=>{Kn(i.current,$E),i.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...l}))},[t,e])}var A0={};function WE(t,e,i){!e&&!A0[t]&&(A0[t]=!0,Kn(!1,i))}B.memo(RC);function RC({routes:t,future:e,state:i,onError:o}){return XE(t,void 0,i,o,e)}function Ll(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NC({basename:t="/",children:e=null,location:i,navigationType:o="POP",navigator:r,static:l=!1,unstable_useTransitions:c}){ct(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:f,navigator:r,static:l,unstable_useTransitions:c,future:{}}),[f,r,l,c]);typeof i=="string"&&(i=Ra(i));let{pathname:m="/",search:v="",hash:S="",state:E=null,key:A="default"}=i,x=B.useMemo(()=>{let _=hs(m,f);return _==null?null:{location:{pathname:_,search:v,hash:S,state:E,key:A},navigationType:o}},[f,m,v,S,E,A,o]);return Kn(x!=null,`<Router basename="${f}"> is not able to match the URL "${m}${v}${S}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:B.createElement(Qn.Provider,{value:p},B.createElement(hu.Provider,{children:e,value:x}))}function IC({children:t,location:e}){return gC(lp(t),e)}function lp(t,e=[]){let i=[];return B.Children.forEach(t,(o,r)=>{if(!B.isValidElement(o))return;let l=[...e,r];if(o.type===B.Fragment){i.push.apply(i,lp(o.props.children,l));return}ct(o.type===Ll,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!o.props.index||!o.props.children,"An index route cannot have child routes.");let c={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=lp(o.props.children,l)),i.push(c)}),i}var Kc="get",Xc="application/x-www-form-urlencoded";function Ad(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function MC(t){return Ad(t)&&t.tagName.toLowerCase()==="button"}function DC(t){return Ad(t)&&t.tagName.toLowerCase()==="form"}function LC(t){return Ad(t)&&t.tagName.toLowerCase()==="input"}function kC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UC(t,e){return t.button===0&&(!e||e==="_self")&&!kC(t)}function up(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,i)=>{let o=t[i];return e.concat(Array.isArray(o)?o.map(r=>[i,r]):[[i,o]])},[]))}function PC(t,e){let i=up(t);return e&&e.forEach((o,r)=>{i.has(r)||e.getAll(r).forEach(l=>{i.append(r,l)})}),i}var Bc=null;function qC(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var BC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jh(t){return t!=null&&!BC.has(t)?(Kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):t}function HC(t,e){let i,o,r,l,c;if(DC(t)){let f=t.getAttribute("action");o=f?hs(f,e):null,i=t.getAttribute("method")||Kc,r=jh(t.getAttribute("enctype"))||Xc,l=new FormData(t)}else if(MC(t)||LC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(o=p?hs(p,e):null,i=t.getAttribute("formmethod")||f.getAttribute("method")||Kc,r=jh(t.getAttribute("formenctype"))||jh(f.getAttribute("enctype"))||Xc,l=new FormData(f,t),!qC()){let{name:m,type:v,value:S}=t;if(v==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,S)}}else{if(Ad(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Kc,o=null,r=Xc,c=t}return l&&r==="text/plain"&&(c=l,l=void 0),{action:o,method:i.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OC(t,e,i,o){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${o}`:r.pathname=`${r.pathname}.${o}`:r.pathname==="/"?r.pathname=`_root.${o}`:e&&hs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${o}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${o}`,r}async function zC(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VC(t,e,i){let o=await Promise.all(t.map(async r=>{let l=e.routes[r.route.id];if(l){let c=await zC(l,i);return c.links?c.links():[]}return[]}));return $C(o.flat(1).filter(GC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function _0(t,e,i,o,r,l){let c=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,f=(p,m)=>{var v;return i[m].pathname!==p.pathname||((v=i[m].route.path)==null?void 0:v.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{var S;let v=o.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function FC(t,e,{includeHydrateFallback:i}={}){return YC(t.map(o=>{let r=e.routes[o.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),i&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function YC(t){return[...new Set(t)]}function JC(t){let e={},i=Object.keys(t).sort();for(let o of i)e[o]=t[o];return e}function $C(t,e){let i=new Set;return new Set(e),t.reduce((o,r)=>{let l=JSON.stringify(JC(r));return i.has(l)||(i.add(l),o.push({key:l,link:r})),o},[])}function ZE(){let t=B.useContext(Na);return jp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function KC(){let t=B.useContext(wd);return jp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var em=B.createContext(void 0);em.displayName="FrameworkContext";function jE(){let t=B.useContext(em);return jp(t,"You must render this element inside a <HydratedRouter> element"),t}function XC(t,e){let i=B.useContext(em),[o,r]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:S}=e,E=B.useRef(null);B.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=k=>{k.forEach(J=>{c(J.isIntersecting)})},D=new IntersectionObserver(_,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[t]),B.useEffect(()=>{if(o){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[o]);let A=()=>{r(!0)},x=()=>{r(!1),c(!1)};return i?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Il(f,A),onBlur:Il(p,x),onMouseEnter:Il(m,A),onMouseLeave:Il(v,x),onTouchStart:Il(S,A)}]:[!1,E,{}]}function Il(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function QC({page:t,...e}){let{router:i}=ZE(),o=B.useMemo(()=>PE(i.routes,t,i.basename),[i.routes,t,i.basename]);return o?B.createElement(ZC,{page:t,matches:o,...e}):null}function WC(t){let{manifest:e,routeModules:i}=jE(),[o,r]=B.useState([]);return B.useEffect(()=>{let l=!1;return VC(t,e,i).then(c=>{l||r(c)}),()=>{l=!0}},[t,e,i]),o}function ZC({page:t,matches:e,...i}){let o=gs(),{future:r,manifest:l,routeModules:c}=jE(),{basename:f}=ZE(),{loaderData:p,matches:m}=KC(),v=B.useMemo(()=>_0(t,e,m,l,o,"data"),[t,e,m,l,o]),S=B.useMemo(()=>_0(t,e,m,l,o,"assets"),[t,e,m,l,o]),E=B.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let _=new Set,D=!1;if(e.forEach(J=>{var ie;let H=l.routes[J.route.id];!H||!H.hasLoader||(!v.some(Z=>Z.route.id===J.route.id)&&J.route.id in p&&((ie=c[J.route.id])!=null&&ie.shouldRevalidate)||H.hasClientLoader?D=!0:_.add(J.route.id))}),_.size===0)return[];let k=OC(t,f,r.unstable_trailingSlashAwareDataRequests,"data");return D&&_.size>0&&k.searchParams.set("_routes",e.filter(J=>_.has(J.route.id)).map(J=>J.route.id).join(",")),[k.pathname+k.search]},[f,r.unstable_trailingSlashAwareDataRequests,p,o,l,v,e,t,c]),A=B.useMemo(()=>FC(S,l),[S,l]),x=WC(S);return B.createElement(B.Fragment,null,E.map(_=>B.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...i})),A.map(_=>B.createElement("link",{key:_,rel:"modulepreload",href:_,...i})),x.map(({key:_,link:D})=>B.createElement("link",{key:_,nonce:i.nonce,...D})))}function jC(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var ex=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ex&&(window.__reactRouterVersion="7.12.0")}catch{}function tx({basename:t,children:e,unstable_useTransitions:i,window:o}){let r=B.useRef();r.current==null&&(r.current=L_({window:o,v5Compat:!0}));let l=r.current,[c,f]=B.useState({action:l.action,location:l.location}),p=B.useCallback(m=>{i===!1?f(m):B.startTransition(()=>f(m))},[i]);return B.useLayoutEffect(()=>l.listen(p),[l,p]),B.createElement(NC,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:i})}var eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fl=B.forwardRef(function({onClick:e,discover:i="render",prefetch:o="none",relative:r,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:v,viewTransition:S,unstable_defaultShouldRevalidate:E,...A},x){let{basename:_,unstable_useTransitions:D}=B.useContext(Qn),k=typeof m=="string"&&eb.test(m),J=VE(m,_);m=J.to;let H=hC(m,{relative:r}),[ie,Z,ee]=XC(o,A),te=ox(m,{replace:c,state:f,target:p,preventScrollReset:v,relative:r,viewTransition:S,unstable_defaultShouldRevalidate:E,unstable_useTransitions:D});function Se(P){e&&e(P),P.defaultPrevented||te(P)}let W=B.createElement("a",{...A,...ee,href:J.absoluteURL||H,onClick:J.isExternal||l?e:Se,ref:jC(x,Z),target:p,"data-discover":!k&&i==="render"?"true":void 0});return ie&&!k?B.createElement(B.Fragment,null,W,B.createElement(QC,{page:H})):W});Fl.displayName="Link";var nx=B.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:o="",end:r=!1,style:l,to:c,viewTransition:f,children:p,...m},v){let S=mu(c,{relative:m.relative}),E=gs(),A=B.useContext(wd),{navigator:x,basename:_}=B.useContext(Qn),D=A!=null&&dx(S)&&f===!0,k=x.encodeLocation?x.encodeLocation(S).pathname:S.pathname,J=E.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(J=J.toLowerCase(),H=H?H.toLowerCase():null,k=k.toLowerCase()),H&&_&&(H=hs(H,_)||H);const ie=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let Z=J===k||!r&&J.startsWith(k)&&J.charAt(ie)==="/",ee=H!=null&&(H===k||!r&&H.startsWith(k)&&H.charAt(k.length)==="/"),te={isActive:Z,isPending:ee,isTransitioning:D},Se=Z?e:void 0,W;typeof o=="function"?W=o(te):W=[o,Z?"active":null,ee?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(te):l;return B.createElement(Fl,{...m,"aria-current":Se,className:W,ref:v,style:P,to:c,viewTransition:f},typeof p=="function"?p(te):p)});nx.displayName="NavLink";var ix=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:o,replace:r,state:l,method:c=Kc,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:S,unstable_defaultShouldRevalidate:E,...A},x)=>{let{unstable_useTransitions:_}=B.useContext(Qn),D=ux(),k=cx(f,{relative:m}),J=c.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&eb.test(f),ie=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ee=Z.nativeEvent.submitter,te=(ee==null?void 0:ee.getAttribute("formmethod"))||c,Se=()=>D(ee||Z.currentTarget,{fetcherKey:e,method:te,navigate:i,replace:r,state:l,relative:m,preventScrollReset:v,viewTransition:S,unstable_defaultShouldRevalidate:E});_&&i!==!1?B.startTransition(()=>Se()):Se()};return B.createElement("form",{ref:x,method:J,action:k,onSubmit:o?p:ie,...A,"data-discover":!H&&t==="render"?"true":void 0})});ix.displayName="Form";function sx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tb(t){let e=B.useContext(Na);return ct(e,sx(t)),e}function ox(t,{target:e,replace:i,state:o,preventScrollReset:r,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let m=Qp(),v=gs(),S=mu(t,{relative:l});return B.useCallback(E=>{if(UC(E,e)){E.preventDefault();let A=i!==void 0?i:$l(v)===$l(S),x=()=>m(t,{replace:A,state:o,preventScrollReset:r,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});p?B.startTransition(()=>x()):x()}},[v,m,S,i,o,e,t,r,l,c,f,p])}function rx(t){Kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=B.useRef(up(t)),i=B.useRef(!1),o=gs(),r=B.useMemo(()=>PC(o.search,i.current?null:e.current),[o.search]),l=Qp(),c=B.useCallback((f,p)=>{const m=up(typeof f=="function"?f(new URLSearchParams(r)):f);i.current=!0,l("?"+m,p)},[l,r]);return[r,c]}var ax=0,lx=()=>`__${String(++ax)}__`;function ux(){let{router:t}=tb("useSubmit"),{basename:e}=B.useContext(Qn),i=_C(),o=t.fetch,r=t.navigate;return B.useCallback(async(l,c={})=>{let{action:f,method:p,encType:m,formData:v,body:S}=HC(l,e);if(c.navigate===!1){let E=c.fetcherKey||lx();await o(E,i,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:S,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await r(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:S,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[o,r,e,i])}function cx(t,{relative:e}={}){let{basename:i}=B.useContext(Qn),o=B.useContext(Di);ct(o,"useFormAction must be used inside a RouteContext");let[r]=o.matches.slice(-1),l={...mu(t||".",{relative:e})},c=gs();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(S=>S).forEach(S=>f.append("index",S));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:fs([i,l.pathname])),$l(l)}function dx(t,{relative:e}={}){let i=B.useContext(YE);ct(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=tb("useViewTransitionState"),r=mu(t,{relative:e});if(!i.isTransitioning)return!1;let l=hs(i.currentLocation.pathname,o)||i.currentLocation.pathname,c=hs(i.nextLocation.pathname,o)||i.nextLocation.pathname;return sd(r.pathname,c)!=null||sd(r.pathname,l)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,o)=>o?o.toUpperCase():i.toLowerCase()),C0=t=>{const e=hx(t);return e.charAt(0).toUpperCase()+e.slice(1)},nb=(...t)=>t.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim(),px=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:r="",children:l,iconNode:c,...f},p)=>B.createElement("svg",{ref:p,...mx,width:e,height:e,stroke:t,strokeWidth:o?Number(i)*24/Number(e):i,className:nb("lucide",r),...!l&&!px(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,v])=>B.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(t,e)=>{const i=B.forwardRef(({className:o,...r},l)=>B.createElement(gx,{ref:l,iconNode:e,className:nb(`lucide-${fx(C0(t))}`,`lucide-${t}`,o),...r}));return i.displayName=C0(t),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vx=at("arrow-right",yx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Ex=at("bookmark",Sx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],ro=at("brain-circuit",bx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ib=at("calendar",Tx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ax=at("chevron-down",wx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Cx=at("chevron-up",_x);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rx=at("circle-alert",xx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ix=at("clock",Nx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],x0=at("command",Mx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Lx=at("external-link",Dx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sb=at("file-text",kx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Px=at("image",Ux);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Bx=at("lightbulb",qx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Hc=at("loader-circle",Hx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],R0=at("newspaper",Ox);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gx=at("send",zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Fx=at("share-2",Vx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ob=at("tag",Yx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],$x=at("tags",Jx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xx=at("trending-up",Kx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wx=at("triangle-alert",Qx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],jx=at("volume-2",Zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],tR=at("volume-x",eR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_d=at("x",nR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],N0=at("zap",iR),sR=({lastUpdated:t,onRefresh:e,loading:i,onShowDemo:o})=>{const r=gs(),l=r.pathname==="/"||!r.pathname.startsWith("/summaries")&&r.pathname!=="/",c=r.pathname.startsWith("/summaries");return w.jsx("header",{className:"border-b-4 border-black py-6 mb-8 bg-paper sticky top-0 z-50",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs(Fl,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[w.jsx("div",{className:"bg-black text-white p-2",children:w.jsx(R0,{size:28})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-serif font-black tracking-tighter leading-none",children:"ZEITGEIST AI"}),w.jsx("p",{className:"text-xs font-mono uppercase tracking-widest text-gray-500 mt-1",children:"The Autonomous Observer"})]})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"text-right hidden sm:block",children:[w.jsx("div",{className:"text-xs font-mono text-gray-400 uppercase",children:"Last Global Scan"}),w.jsx("div",{className:"font-bold text-sm",children:t?new Date(t).toLocaleString():"Never"})]}),w.jsxs("button",{onClick:o,className:"px-4 py-2 bg-black text-white text-xs font-mono uppercase tracking-widest hover:bg-accent transition-colors flex items-center gap-2",children:[w.jsx(N0,{size:14,className:"fill-current"}),"Watch Demo"]})]}),w.jsx("button",{onClick:e,disabled:i,className:`sm:hidden p-2 rounded-full hover:bg-gray-200 transition-colors ${i?"animate-spin":""}`,children:w.jsx(N0,{size:20})})]}),w.jsxs("nav",{className:"flex gap-6 border-t border-gray-300 pt-3",children:[w.jsxs(Fl,{to:"/",className:`flex items-center gap-2 text-sm font-mono uppercase tracking-wider transition-colors pb-1 ${l?"text-black border-b-2 border-black font-bold":"text-gray-500 hover:text-black"}`,children:[w.jsx(R0,{size:16}),"Articles"]}),w.jsxs(Fl,{to:"/summaries",className:`flex items-center gap-2 text-sm font-mono uppercase tracking-wider transition-colors pb-1 ${c?"text-accent border-b-2 border-accent font-bold":"text-gray-500 hover:text-accent"}`,children:[w.jsx(ro,{size:16}),"Philosophical Syntheses"]})]})]})})},rb=({src:t,alt:e,className:i,placeholderClassName:o})=>{const[r,l]=B.useState(!0),c=B.useRef(null);return B.useEffect(()=>{const f=new Image;f.src=t,f.onload=()=>{l(!1)}},[t]),w.jsxs("div",{className:`relative ${i}`,children:[r&&w.jsx("div",{ref:c,className:`absolute inset-0 bg-gray-200 animate-pulse ${o}`}),w.jsx("img",{src:t,alt:e,className:`transition-opacity duration-500 ${r?"opacity-0":"opacity-100"} ${i}`})]})},oR=({article:t,onClick:e,onHoverPreview:i,featured:o=!1})=>{const r=B.useRef(null),l=()=>{r.current&&clearTimeout(r.current),r.current=window.setTimeout(()=>{i==null||i(t)},300)},c=()=>{r.current&&(clearTimeout(r.current),r.current=null),i==null||i(null)},f=t.summary.split(".")[0]+"..."||t.summary.substring(0,100)+"...";return w.jsxs("div",{onClick:()=>e(t),className:`group cursor-pointer border-2 border-transparent hover:border-black transition-all duration-300 p-4 bg-white shadow-sm hover:shadow-lg flex flex-col ${o?"md:col-span-2 md:flex-row gap-6":"h-full"}`,children:[w.jsxs("div",{className:`${o?"md:w-1/2":"w-full"} mb-4 md:mb-0 overflow-hidden relative aspect-video bg-gray-100`,children:[t.imageUrl&&w.jsx(rb,{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500 grayscale group-hover:grayscale-0"}),w.jsx("div",{className:"absolute top-2 left-2 bg-black text-white text-xs font-bold px-2 py-1 font-mono uppercase",children:"Analysis"})]}),w.jsxs("div",{className:`flex flex-col ${o?"md:w-1/2 justify-center":"flex-1"}`,children:[w.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-2 mb-2 font-mono",children:[w.jsx(Ix,{size:12}),w.jsx("span",{children:new Date(t.timestamp).toLocaleDateString()}),w.jsx("span",{className:"text-gray-300",children:"|"}),w.jsx("span",{className:"uppercase tracking-wider text-accent font-bold",children:t.sourceTopic})]}),w.jsx("h2",{className:`${o?"text-4xl":"text-xl"} font-serif font-bold mb-3 leading-tight group-hover:text-accent transition-colors`,children:t.title}),w.jsx("p",{className:"text-gray-600 font-sans leading-relaxed mb-4 line-clamp-2",children:f}),w.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-gray-100",children:[w.jsx("div",{className:"flex gap-2",children:t.tags.slice(0,2).map(p=>w.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400 bg-gray-50 px-2 py-1 rounded-sm",children:[w.jsx(ob,{size:10})," ",p]},p))}),w.jsxs("span",{className:"flex items-center gap-1 text-sm font-bold border-b-2 border-black pb-0.5 group-hover:border-accent group-hover:text-accent transition-all",onMouseEnter:l,onMouseLeave:c,children:["Read Full Brief ",w.jsx(vx,{size:14})]})]})]})]})},I0=({article:t,onClose:e,isPreview:i=!1})=>{const o=async()=>{const r=t.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),l=`${window.location.origin}/${r}`;if(navigator.share)try{await navigator.share({title:t.title,text:t.summary,url:l})}catch(c){console.log("Share cancelled or failed",c)}else try{await navigator.clipboard.writeText(l),alert("Link copied to clipboard!")}catch(c){console.error("Failed to copy link",c)}};return i?w.jsx("div",{className:"fixed inset-0 z-90 flex items-end justify-center pointer-events-none",children:w.jsxs("div",{className:"bg-white w-full max-w-2xl shadow-2xl border-2 border-black p-8 m-8 animate-[slideUp_0.2s_ease-out]",onMouseEnter:()=>{},onMouseLeave:()=>{},children:[w.jsx("div",{className:"text-xs font-mono uppercase tracking-widest text-gray-400 mb-6",children:"Preview // Hover to read"}),w.jsx("h2",{className:"text-2xl font-serif font-bold mb-4 text-ink",children:t.title}),w.jsxs("p",{className:"text-gray-600 italic mb-6 leading-relaxed",children:['"',t.summary,'"']}),t.sections[0]&&w.jsxs("div",{className:"text-gray-700 mb-6",children:[w.jsx("h3",{className:"font-bold uppercase text-sm mb-2",children:t.sections[0].heading}),w.jsx("p",{className:"leading-relaxed line-clamp-4",children:t.sections[0].content})]}),w.jsx("div",{className:"text-center",children:w.jsx("span",{className:"text-sm font-bold text-accent",children:"Click to read full analysis "})})]})}):w.jsxs("div",{className:"fixed inset-0 z-100 flex items-center justify-center p-4 sm:p-6",children:[w.jsx("div",{className:"absolute inset-0 bg-paper/95 backdrop-blur-sm",onClick:e}),w.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto relative shadow-2xl border-2 border-black flex flex-col animate-[fadeIn_0.3s_ease-out]",children:[w.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 p-4 flex justify-between items-center z-10",children:[w.jsx("div",{className:"text-xs font-mono uppercase tracking-widest text-gray-500",children:"Generated by Journalist AI-001"}),w.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:w.jsx(_d,{size:24})})]}),w.jsxs("article",{className:"p-8 sm:p-12 md:p-16",children:[w.jsxs("header",{className:"mb-12 text-center max-w-2xl mx-auto",children:[w.jsx("div",{className:"inline-block bg-accent text-white px-3 py-1 text-xs font-bold uppercase tracking-widest mb-6",children:"Critical Analysis"}),w.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold mb-4 text-ink leading-tight",children:t.title}),w.jsxs("p",{className:"text-gray-600 italic text-lg",children:['"',t.summary,'"']})]}),t.imageUrl&&w.jsxs("figure",{className:"mb-12",children:[w.jsx(rb,{src:t.imageUrl,alt:t.title,className:"w-full h-96 object-cover rounded-lg shadow-lg",placeholderClassName:"rounded-lg"}),w.jsx("figcaption",{className:"text-center text-xs text-gray-500 mt-2",children:"AI-generated imagery based on the article's topic."})]}),w.jsx("div",{className:"max-w-2xl mx-auto",children:t.sections.map((r,l)=>w.jsxs("section",{className:"mb-8",children:[w.jsx("h2",{className:"text-2xl font-bold font-serif text-ink mb-4 border-b-2 border-gray-100 pb-2",children:r.heading}),w.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap",children:r.content})]},l))})]}),w.jsx("footer",{className:"sticky bottom-0 bg-white border-t border-gray-100 p-4 z-10",children:w.jsxs("div",{className:"max-w-2xl mx-auto flex justify-between items-center",children:[w.jsx("div",{className:"flex items-center gap-2",children:t.tags.map((r,l)=>w.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 text-xs font-mono rounded",children:["#",r]},l))}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:w.jsx(Fx,{size:20})}),w.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:w.jsx(Ex,{size:20})})]})]})})]})]})};class M0{constructor(){this.name="Mock"}async research(){return console.log(" Mock Provider: Generating research data"),[{topic:"Global Climate Summit Reaches Historic Agreement",context:"World leaders at the International Climate Summit have agreed to accelerate renewable energy adoption, with commitments to reduce carbon emissions by 50% by 2030. The agreement includes unprecedented funding for developing nations."},{topic:"Breakthrough in Quantum Computing Technology",context:"Scientists have achieved a major milestone in quantum computing, demonstrating a stable 1000-qubit processor that maintains coherence for extended periods. This advancement could revolutionize fields from cryptography to drug discovery."},{topic:"Economic Tensions Rise in Global Trade Relations",context:"Major economic powers are navigating complex trade negotiations as tariffs and supply chain disruptions continue to impact global markets. New frameworks for digital commerce and technology transfers are being debated."}]}async writeArticle(e){return console.log(` Mock Provider: Writing article for "${e.topic}"`),{id:`article-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,title:e.topic,summary:`This is a comprehensive analysis of ${e.topic.toLowerCase()}. ${e.context.substring(0,150)}...`,sections:[{heading:"Overview",content:`The recent developments regarding ${e.topic.toLowerCase()} represent a significant moment in current affairs. ${e.context}`},{heading:"Key Implications",content:"This event has far-reaching implications across multiple sectors including economics, technology, and international relations. Experts predict substantial changes in the coming months."},{heading:"Analysis",content:"When examining the broader context, it becomes clear that this development is part of a larger trend. Historical precedents suggest that similar situations have led to transformative outcomes."},{heading:"Future Outlook",content:"Looking ahead, stakeholders will need to adapt to this evolving landscape. The long-term effects will depend on how various parties respond to these emerging challenges and opportunities."}],tags:["Global Affairs","Analysis","Current Events"],timestamp:Date.now(),sourceTopic:e.topic,imageUrl:`https://picsum.photos/800/600?random=${Math.floor(Math.random()*1e3)}`}}async generateText(e){return console.log(` Mock Provider: Generating text for prompt "${e}"`),e.includes("Tags:")?"Technology, AI, Future":e.includes("Title:")?"A Mock Title":e.includes("Description:")?"A mock meta description for an article.":"This is a mock generated text response."}async synthesizePhilosophy(e){console.log(` Mock Provider: Synthesizing philosophy from ${e.length} articles`);const i=e.map(o=>o.timestamp).sort((o,r)=>o-r);return{id:`summary-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,title:"The Paradox of Progress: A Meta-Analysis of Our Zeitgeist",content:`Examining these ${e.length} narratives reveals a profound tension at the heart of contemporary civilization. We stand at a crossroads where technological advancement accelerates while social cohesion fragments. The articles collectively paint a picture of humanity grappling with the consequences of its own success - innovations that promise liberation while creating new forms of dependency, global cooperation emerging from crises of conflict, and the eternal struggle between immediate needs and long-term survival. This is not merely a collection of events, but a mirror reflecting humanity's evolutionary growing pains.`,articleIds:e.map(o=>o.id),timestamp:Date.now(),dateRange:{start:i[0],end:i[i.length-1]},tags:["Philosophy","Meta-Analysis","Zeitgeist","Human Evolution"],synthesis:{themes:["The acceleration of technological change versus institutional adaptation","Individual autonomy in an interconnected global system","Short-term survival versus long-term existential planning"],paradoxes:["We create tools for connection that deepen isolation","Knowledge expands exponentially while wisdom remains scarce","Global cooperation emerges from nationalist competition"],futureImplications:["Will humanity develop the wisdom to match its technological power?","Can democratic systems adapt fast enough to govern AI-driven societies?","How do we balance individual freedom with collective survival?","What new forms of meaning emerge as material needs are met?"]}}}}var rR={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aR,lR;function uR(){return{geminiUrl:aR,vertexUrl:lR}}function cR(t,e,i,o){var r,l;if(!(t!=null&&t.baseUrl)){const c=uR();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:i:(l=c.geminiUrl)!==null&&l!==void 0?l:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ys{}function pe(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(t,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(i))t[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(i))for(let m=0;m<p.length;m++){const v=p[m];h(v,e.slice(l+1),i[m])}else for(const m of p)h(m,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];h(p[0],e.slice(l+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[o]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return i;const r=e[o];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(f=>d(f,e.slice(o+1),i)):i}else return i}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return i;throw o}}function dR(t,e){for(const[i,o]of Object.entries(e)){const r=i.split("."),l=o.split("."),c=new Set;let f=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){f=p;break}if(f!==-1&&l.length>f)for(let p=f;p<l.length;p++){const m=l[p];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&c.add(m)}cp(t,r,l,0,c)}}function cp(t,e,i,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const p of f[c])cp(p,e,i,o+1,r)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(m=>!m.startsWith("_")&&!r.has(m)),p={};for(const m of f)p[m]=c[m];for(const[m,v]of Object.entries(p)){const S=[];for(const E of i.slice(o))E==="*"?S.push(m):S.push(E);h(c,S,v)}for(const m of f)delete c[m]}}else{const c=t;l in c&&cp(c[l],e,i,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tm(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fR(t){const e={},i=d(t,["operationName"]);i!=null&&h(e,["operationName"],i);const o=d(t,["resourceName"]);return o!=null&&h(e,["_url","resourceName"],o),e}function hR(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],mR(c)),e}function pR(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],gR(c)),e}function mR(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>yR(c))),h(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&h(e,["raiMediaFilteredCount"],o);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function gR(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>vR(c))),h(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&h(e,["raiMediaFilteredCount"],o);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function yR(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],AR(i)),e}function vR(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],_R(i)),e}function SR(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function ER(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function bR(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],TR(c)),e}function TR(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&h(e,["parent"],o);const r=d(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function ab(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],wR(c)),e}function wR(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&h(e,["parent"],o);const r=d(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function AR(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const o=d(t,["encodedVideo"]);o!=null&&h(e,["videoBytes"],tm(o));const r=d(t,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function _R(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&h(e,["videoBytes"],tm(o));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var D0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(D0||(D0={}));var L0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(L0||(L0={}));var k0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(k0||(k0={}));var Ve;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ve||(Ve={}));var U0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(U0||(U0={}));var P0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(P0||(P0={}));var q0;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(q0||(q0={}));var B0;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(B0||(B0={}));var H0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(H0||(H0={}));var O0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(O0||(O0={}));var z0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(z0||(z0={}));var G0;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(G0||(G0={}));var V0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(V0||(V0={}));var F0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(F0||(F0={}));var Y0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Y0||(Y0={}));var J0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(J0||(J0={}));var $0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($0||($0={}));var K0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(K0||(K0={}));var X0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(X0||(X0={}));var Q0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Q0||(Q0={}));var W0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(W0||(W0={}));var od;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(od||(od={}));var Z0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Z0||(Z0={}));var j0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(j0||(j0={}));var eS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eS||(eS={}));var dp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(dp||(dp={}));var tS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(tS||(tS={}));var nS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(nS||(nS={}));var fp;(function(t){t.COLLECTION="COLLECTION"})(fp||(fp={}));var iS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(iS||(iS={}));var sS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sS||(sS={}));var oS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(oS||(oS={}));var rS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(rS||(rS={}));var aS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(aS||(aS={}));var lS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lS||(lS={}));var uS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uS||(uS={}));var cS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cS||(cS={}));var dS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dS||(dS={}));var fS;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(fS||(fS={}));var hS;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(hS||(hS={}));var pS;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(pS||(pS={}));var mS;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(mS||(mS={}));var gS;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(gS||(gS={}));var yS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(yS||(yS={}));var vS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(vS||(vS={}));var SS;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(SS||(SS={}));var ES;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ES||(ES={}));var bS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bS||(bS={}));var TS;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(TS||(TS={}));var wS;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(wS||(wS={}));var AS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(AS||(AS={}));var _S;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_S||(_S={}));var CS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(CS||(CS={}));var xS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xS||(xS={}));var RS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(RS||(RS={}));var NS;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(NS||(NS={}));var Xr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xr||(Xr={}));class hp{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ml{get text(){var e,i,o,r,l,c,f,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const S=[];for(const E of(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[A,x]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(x!==null||x!==void 0)&&S.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,i,o,r,l,c,f,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const S of(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[E,A]of Object.entries(S))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,o,r,l,c,f,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,o,r,l,c,f,p,m;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,o,r,l,c,f,p,m;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(p=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class IS{}class MS{}class CR{}class xR{}class RR{}class NR{}class DS{}class LS{}class kS{}class IR{}class rd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new rd;let r;const l=e;return i?r=pR(l):r=hR(l),Object.assign(o,r),o}}class US{}class PS{}class qS{}class BS{}class MR{}class DR{}class LR{}class nm{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new nm,l=bR(e);return Object.assign(o,l),o}}class kR{}class UR{}class PR{}class HS{}class qR{get text(){var e,i,o;let r="",l=!1;const c=[];for(const f of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[p,m]of Object.entries(f))p!=="text"&&p!=="thought"&&m!==null&&c.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,r+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,i,o;let r="";const l=[];for(const c of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[f,p]of Object.entries(c))f!=="inlineData"&&p!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class BR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class im{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new im,l=ab(e);return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Je(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function lb(t,e){const i=Je(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function ub(t){return Array.isArray(t)?t.map(e=>ad(e)):[ad(t)]}function ad(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function cb(t){const e=ad(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function db(t){const e=ad(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function OS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fb(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>OS(e)):[OS(t)]}function pp(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function GS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qt(t){if(t==null)throw new Error("ContentUnion is required");return pp(t)?t:{role:"user",parts:fb(t)}}function sm(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=Qt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const i=Qt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Qt(i)):[Qt(e)]}function Jn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zS(t)||GS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qt(t)]}const e=[],i=[],o=pp(t[0]);for(const r of t){const l=pp(r);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if(zS(r)||GS(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return o||e.push({role:"user",parts:fb(i)}),e}function HR(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(Ve).includes(i[0].toUpperCase())?i[0].toUpperCase():Ve.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(Ve).includes(o.toUpperCase())?o.toUpperCase():Ve.TYPE_UNSPECIFIED})}}function jr(t){const e={},i=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&HR(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ve).includes(f.toUpperCase())?f.toUpperCase():Ve.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=jr(f);else if(o.includes(c)){const p=[];for(const m of f){if(m.type=="null"){e.nullable=!0;continue}p.push(jr(m))}e[c]=p}else if(r.includes(c)){const p={};for(const[m,v]of Object.entries(f))p[m]=jr(v);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=f}return e}function om(t){return jr(t)}function rm(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function am(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ia(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=jr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=jr(e.response));return t}function Ma(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function OR(t,e,i,o=1){const r=!e.startsWith(`${i}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:r?`${i}/${e}`:e}function vs(t,e){if(typeof e!="string")throw new Error("name must be a string");return OR(t,e,"cachedContents")}function hb(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function uo(t){return tm(t)}function zR(t){return t!=null&&typeof t=="object"&&"name"in t}function GR(t){return t!=null&&typeof t=="object"&&"video"in t}function VR(t){return t!=null&&typeof t=="object"&&"uri"in t}function pb(t){var e;let i;if(zR(t)&&(i=t.name),!(VR(t)&&(i=t.uri,i===void 0))&&!(GR(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function mb(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function gb(t){for(const e of["models","tunedModels","publisherModels"])if(FR(t,e))return t[e];return[]}function FR(t,e){return t!==null&&typeof t=="object"&&e in t}function YR(t,e={}){const i=t,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function JR(t,e={}){const i=[],o=new Set;for(const r of t){const l=r.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const c=YR(r,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function yb(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function $R(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function vb(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let l=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const p=c.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Da(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Sb(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KR(t){const e={},i=d(t,["responsesFile"]);i!=null&&h(e,["fileName"],i);const o=d(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>RN(c))),h(e,["inlinedResponses"],l)}const r=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["inlinedEmbedContentResponses"],l)}return e}function XR(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&h(e,["format"],i);const o=d(t,["gcsDestination","outputUriPrefix"]);o!=null&&h(e,["gcsUri"],o);const r=d(t,["bigqueryDestination","outputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function QR(t){const e={},i=d(t,["format"]);i!=null&&h(e,["predictionsFormat"],i);const o=d(t,["gcsUri"]);o!=null&&h(e,["gcsDestination","outputUriPrefix"],o);const r=d(t,["bigqueryUri"]);if(r!=null&&h(e,["bigqueryDestination","outputUri"],r),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Qc(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["metadata","displayName"]);o!=null&&h(e,["displayName"],o);const r=d(t,["metadata","state"]);r!=null&&h(e,["state"],Sb(r));const l=d(t,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&h(e,["updateTime"],f);const p=d(t,["metadata","model"]);p!=null&&h(e,["model"],p);const m=d(t,["metadata","output"]);return m!=null&&h(e,["dest"],KR(vb(m))),e}function mp(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["displayName"]);o!=null&&h(e,["displayName"],o);const r=d(t,["state"]);r!=null&&h(e,["state"],Sb(r));const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["createTime"]);c!=null&&h(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(e,["startTime"],f);const p=d(t,["endTime"]);p!=null&&h(e,["endTime"],p);const m=d(t,["updateTime"]);m!=null&&h(e,["updateTime"],m);const v=d(t,["model"]);v!=null&&h(e,["model"],v);const S=d(t,["inputConfig"]);S!=null&&h(e,["src"],WR(S));const E=d(t,["outputConfig"]);E!=null&&h(e,["dest"],XR(vb(E)));const A=d(t,["completionStats"]);return A!=null&&h(e,["completionStats"],A),e}function WR(t){const e={},i=d(t,["instancesFormat"]);i!=null&&h(e,["format"],i);const o=d(t,["gcsSource","uris"]);o!=null&&h(e,["gcsUri"],o);const r=d(t,["bigquerySource","inputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function ZR(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=d(e,["fileName"]);o!=null&&h(i,["fileName"],o);const r=d(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>xN(t,c))),h(i,["requests","requests"],l)}return i}function jR(t){const e={},i=d(t,["format"]);i!=null&&h(e,["instancesFormat"],i);const o=d(t,["gcsUri"]);o!=null&&h(e,["gcsSource","uris"],o);const r=d(t,["bigqueryUri"]);if(r!=null&&h(e,["bigquerySource","inputUri"],r),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eN(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function tN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],Da(t,o)),i}function nN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],Da(t,o)),i}function iN(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const o=d(t,["citationMetadata"]);o!=null&&h(e,["citationMetadata"],sN(o));const r=d(t,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=d(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&h(e,["index"],p);const m=d(t,["logprobsResult"]);m!=null&&h(e,["logprobsResult"],m);const v=d(t,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),h(e,["safetyRatings"],E)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function sN(t){const e={},i=d(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),h(e,["citations"],o)}return e}function Eb(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>UN(l))),h(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&h(e,["role"],o),e}function oN(t,e){const i={},o=d(t,["displayName"]);if(e!==void 0&&o!=null&&h(e,["batch","displayName"],o),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function rN(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const r=d(t,["dest"]);return e!==void 0&&r!=null&&h(e,["outputConfig"],QR($R(r))),i}function VS(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["src"]);r!=null&&h(i,["batch","inputConfig"],ZR(t,yb(t,r)));const l=d(e,["config"]);return l!=null&&oN(l,i),i}function aN(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["model"],Je(t,o));const r=d(e,["src"]);r!=null&&h(i,["inputConfig"],jR(yb(t,r)));const l=d(e,["config"]);return l!=null&&rN(l,i),i}function lN(t,e){const i={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&h(e,["batch","displayName"],o),i}function uN(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["src"]);r!=null&&h(i,["batch","inputConfig"],gN(t,r));const l=d(e,["config"]);return l!=null&&lN(l,i),i}function cN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],Da(t,o)),i}function dN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],Da(t,o)),i}function fN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&h(e,["name"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function hN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&h(e,["name"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function pN(t,e){const i={},o=d(e,["contents"]);if(o!=null){let l=sm(t,o);Array.isArray(l)&&(l=l.map(c=>c)),h(i,["requests[]","request","content"],l)}const r=d(e,["config"]);return r!=null&&(h(i,["_self"],mN(r,i)),dR(i,{"requests[].*":"requests[].request.*"})),i}function mN(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&h(e,["requests[]","taskType"],o);const r=d(t,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function gN(t,e){const i={},o=d(e,["fileName"]);o!=null&&h(i,["file_name"],o);const r=d(e,["inlinedRequests"]);return r!=null&&h(i,["requests"],pN(t,r)),i}function yN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function vN(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const o=d(t,["args"]);o!=null&&h(e,["args"],o);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SN(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&h(e,["allowedFunctionNames"],i);const o=d(t,["mode"]);if(o!=null&&h(e,["mode"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function EN(t,e,i){const o={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&h(i,["systemInstruction"],Eb(Qt(r)));const l=d(e,["temperature"]);l!=null&&h(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(o,["topP"],c);const f=d(e,["topK"]);f!=null&&h(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&h(o,["candidateCount"],p);const m=d(e,["maxOutputTokens"]);m!=null&&h(o,["maxOutputTokens"],m);const v=d(e,["stopSequences"]);v!=null&&h(o,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&h(o,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&h(o,["logprobs"],E);const A=d(e,["presencePenalty"]);A!=null&&h(o,["presencePenalty"],A);const x=d(e,["frequencyPenalty"]);x!=null&&h(o,["frequencyPenalty"],x);const _=d(e,["seed"]);_!=null&&h(o,["seed"],_);const D=d(e,["responseMimeType"]);D!=null&&h(o,["responseMimeType"],D);const k=d(e,["responseSchema"]);k!=null&&h(o,["responseSchema"],om(k));const J=d(e,["responseJsonSchema"]);if(J!=null&&h(o,["responseJsonSchema"],J),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=d(e,["safetySettings"]);if(i!==void 0&&H!=null){let ve=H;Array.isArray(ve)&&(ve=ve.map(Ce=>PN(Ce))),h(i,["safetySettings"],ve)}const ie=d(e,["tools"]);if(i!==void 0&&ie!=null){let ve=Ma(ie);Array.isArray(ve)&&(ve=ve.map(Ce=>BN(Ia(Ce)))),h(i,["tools"],ve)}const Z=d(e,["toolConfig"]);if(i!==void 0&&Z!=null&&h(i,["toolConfig"],qN(Z)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=d(e,["cachedContent"]);i!==void 0&&ee!=null&&h(i,["cachedContent"],vs(t,ee));const te=d(e,["responseModalities"]);te!=null&&h(o,["responseModalities"],te);const Se=d(e,["mediaResolution"]);Se!=null&&h(o,["mediaResolution"],Se);const W=d(e,["speechConfig"]);if(W!=null&&h(o,["speechConfig"],rm(W)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=d(e,["thinkingConfig"]);P!=null&&h(o,["thinkingConfig"],P);const he=d(e,["imageConfig"]);he!=null&&h(o,["imageConfig"],CN(he));const fe=d(e,["enableEnhancedCivicAnswers"]);if(fe!=null&&h(o,["enableEnhancedCivicAnswers"],fe),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function bN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>iN(m))),h(e,["candidates"],p)}const r=d(t,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=d(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function TN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],Da(t,o)),i}function wN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],Da(t,o)),i}function AN(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function _N(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function CN(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const o=d(t,["imageSize"]);if(o!=null&&h(e,["imageSize"],o),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xN(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["request","model"],Je(t,o));const r=d(e,["contents"]);if(r!=null){let f=Jn(r);Array.isArray(f)&&(f=f.map(p=>Eb(p))),h(i,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&h(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&h(i,["request","generationConfig"],EN(t,c,d(i,["request"],{}))),i}function RN(t){const e={},i=d(t,["response"]);i!=null&&h(e,["response"],bN(i));const o=d(t,["error"]);return o!=null&&h(e,["error"],o),e}function NN(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);if(e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function IN(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const l=d(t,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),i}function MN(t){const e={},i=d(t,["config"]);return i!=null&&NN(i,e),e}function DN(t){const e={},i=d(t,["config"]);return i!=null&&IN(i,e),e}function LN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Qc(c))),h(e,["batchJobs"],l)}return e}function kN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>mp(c))),h(e,["batchJobs"],l)}return e}function UN(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],yN(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],vN(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],eN(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const E=d(t,["videoMetadata"]);return E!=null&&h(e,["videoMetadata"],E),e}function PN(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&h(e,["threshold"],o),e}function qN(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&h(e,["retrievalConfig"],i);const o=d(t,["functionCallingConfig"]);return o!=null&&h(e,["functionCallingConfig"],SN(o)),e}function BN(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&h(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],AN(c));const f=d(t,["googleSearch"]);f!=null&&h(e,["googleSearch"],_N(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ps;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ps||(ps={}));class er{constructor(e,i,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,r)}init(e,i,o){var r,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HN extends ys{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new er(ps.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=VS(this.apiClient,e),o=i._url,r=pe("{model}:batchGenerateContent",o),f=i.batch.inputConfig.requests,p=f.requests,m=[];for(const v of p){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=E,S.request=A}m.push(S)}return f.requests=m,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${r}`;else if(c)o.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=aN(this.apiClient,e);return f=pe("batchPredictionJobs",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>mp(v))}else{const m=VS(this.apiClient,e);return f=pe("{model}:batchGenerateContent",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Qc(v))}}async createEmbeddingsInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=uN(this.apiClient,e);return l=pe("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>Qc(p))}}async get(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=wN(this.apiClient,e);return f=pe("batchPredictionJobs/{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>mp(v))}else{const m=TN(this.apiClient,e);return f=pe("batches/{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Qc(v))}}async cancel(e){var i,o,r,l;let c="",f={};if(this.apiClient.isVertexAI()){const p=nN(this.apiClient,e);c=pe("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=tN(this.apiClient,e);c=pe("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=DN(e);return f=pe("batchPredictionJobs",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=kN(v),E=new HS;return Object.assign(E,S),E})}else{const m=MN(e);return f=pe("batches",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=LN(v),E=new HS;return Object.assign(E,S),E})}}async delete(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=dN(this.apiClient,e);return f=pe("batchPredictionJobs/{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>hN(v))}else{const m=cN(this.apiClient,e);return f=pe("batches/{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>fN(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ON(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function FS(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>u1(l))),h(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&h(e,["role"],o),e}function zN(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&h(e,["ttl"],o);const r=d(t,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let v=Jn(c);Array.isArray(v)&&(v=v.map(S=>FS(S))),h(e,["contents"],v)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],FS(Qt(f)));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(S=>d1(S))),h(e,["tools"],v)}const m=d(t,["toolConfig"]);if(e!==void 0&&m!=null&&h(e,["toolConfig"],c1(m)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function GN(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&h(e,["ttl"],o);const r=d(t,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let S=Jn(c);Array.isArray(S)&&(S=S.map(E=>E)),h(e,["contents"],S)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Qt(f));const p=d(t,["tools"]);if(e!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>f1(E))),h(e,["tools"],S)}const m=d(t,["toolConfig"]);e!==void 0&&m!=null&&h(e,["toolConfig"],m);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&h(e,["encryption_spec","kmsKeyName"],v),i}function VN(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["model"],lb(t,o));const r=d(e,["config"]);return r!=null&&zN(r,i),i}function FN(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["model"],lb(t,o));const r=d(e,["config"]);return r!=null&&GN(r,i),i}function YN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],vs(t,o)),i}function JN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],vs(t,o)),i}function $N(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function KN(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function XN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function QN(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const o=d(t,["args"]);o!=null&&h(e,["args"],o);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WN(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&h(e,["allowedFunctionNames"],i);const o=d(t,["mode"]);if(o!=null&&h(e,["mode"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ZN(t){const e={},i=d(t,["description"]);i!=null&&h(e,["description"],i);const o=d(t,["name"]);o!=null&&h(e,["name"],o);const r=d(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&h(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function jN(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],vs(t,o)),i}function e1(t,e){const i={},o=d(e,["name"]);return o!=null&&h(i,["_url","name"],vs(t,o)),i}function t1(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function n1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function i1(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function s1(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function o1(t){const e={},i=d(t,["config"]);return i!=null&&i1(i,e),e}function r1(t){const e={},i=d(t,["config"]);return i!=null&&s1(i,e),e}function a1(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function l1(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function u1(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],XN(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],QN(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],ON(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const E=d(t,["videoMetadata"]);return E!=null&&h(e,["videoMetadata"],E),e}function c1(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&h(e,["retrievalConfig"],i);const o=d(t,["functionCallingConfig"]);return o!=null&&h(e,["functionCallingConfig"],WN(o)),e}function d1(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&h(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],t1(c));const f=d(t,["googleSearch"]);f!=null&&h(e,["googleSearch"],n1(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}function f1(t){const e={},i=d(t,["retrieval"]);i!=null&&h(e,["retrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&h(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&h(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>ZN(E))),h(e,["functionDeclarations"],S)}const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const m=d(t,["googleSearchRetrieval"]);m!=null&&h(e,["googleSearchRetrieval"],m);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function h1(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&h(e,["ttl"],o);const r=d(t,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),i}function p1(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&h(e,["ttl"],o);const r=d(t,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),i}function m1(t,e){const i={},o=d(e,["name"]);o!=null&&h(i,["_url","name"],vs(t,o));const r=d(e,["config"]);return r!=null&&h1(r,i),i}function g1(t,e){const i={},o=d(e,["name"]);o!=null&&h(i,["_url","name"],vs(t,o));const r=d(e,["config"]);return r!=null&&p1(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y1 extends ys{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new er(ps.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=FN(this.apiClient,e);return f=pe("cachedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=VN(this.apiClient,e);return f=pe("cachedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=e1(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=jN(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=JN(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=KN(v),E=new qS;return Object.assign(E,S),E})}else{const m=YN(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=$N(v),E=new qS;return Object.assign(E,S),E})}}async update(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=g1(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const m=m1(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=r1(e);return f=pe("cachedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=l1(v),E=new BS;return Object.assign(E,S),E})}else{const m=o1(e);return f=pe("cachedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=a1(v),E=new BS;return Object.assign(E,S),E})}}}function ld(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}function YS(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(t){return this instanceof Re?(this.v=t,this):new Re(t)}function di(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(A){return function(x){return Promise.resolve(x).then(A,S)}}function f(A,x){o[A]&&(r[A]=function(_){return new Promise(function(D,k){l.push([A,_,D,k])>1||p(A,_)})},x&&(r[A]=x(r[A])))}function p(A,x){try{m(o[A](x))}catch(_){E(l[0][3],_)}}function m(A){A.value instanceof Re?Promise.resolve(A.value.v).then(v,S):E(l[0][2],A)}function v(A){p("next",A)}function S(A){p("throw",A)}function E(A,x){A(x),l.shift(),l.length&&p(l[0][0],l[0][1])}}function fi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof YS=="function"?YS(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(l){i[l]=t[l]&&function(c){return new Promise(function(f,p){c=t[l](c),r(f,p,c.done,c.value)})}}function r(l,c,f,p){Promise.resolve(p).then(function(m){l({value:m,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v1(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:bb(i)}function bb(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function S1(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function JS(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let o=0;for(;o<i;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let l=!0;for(;o<i&&t[o].role==="model";)r.push(t[o]),l&&!bb(t[o])&&(l=!1),o++;l?e.push(...r):e.pop()}return e}class E1{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new b1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class b1{constructor(e,i,o,r={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),S1(l)}async sendMessage(e){var i;await this.sendPromise;const o=Qt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,f;const p=await r,m=(c=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=p.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(f=v.slice(S))!==null&&f!==void 0?f:[]);const A=m?[m]:[];this.recordHistory(o,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var i;await this.sendPromise;const o=Qt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,o)}getHistory(e=!1){const i=e?JS(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return di(this,arguments,function*(){var r,l,c,f,p,m;const v=[];try{for(var S=!0,E=fi(e),A;A=yield Re(E.next()),r=A.done,!r;S=!0){f=A.value,S=!1;const x=f;if(v1(x)){const _=(m=(p=x.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content;_!==void 0&&v.push(_)}yield yield Re(x)}}catch(x){l={error:x}}finally{try{!S&&!r&&(c=E.return)&&(yield Re(c.call(E)))}finally{if(l)throw l.error}}this.recordHistory(i,v)})}recordHistory(e,i,o){let r=[];i.length>0&&i.every(l=>l.role!==void 0)?r=i:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...JS(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T1(t){const e={},i=d(t,["file"]);return i!=null&&h(e,["file"],i),e}function w1(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function A1(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],pb(i)),e}function _1(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function C1(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],pb(i)),e}function x1(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function R1(t){const e={},i=d(t,["config"]);return i!=null&&x1(i,e),e}function N1(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I1 extends ys{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new er(ps.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=R1(e);return l=pe("files",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const m=N1(p),v=new kR;return Object.assign(v,m),v})}}async createInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=T1(e);return l=pe("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const m=w1(p),v=new UR;return Object.assign(v,m),v})}}async get(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=C1(e);return l=pe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=A1(e);return l=pe("files/{file}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const m=_1(p),v=new PR;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wc(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function M1(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>$1(l))),h(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&h(e,["role"],o),e}function D1(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function L1(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const o=d(t,["args"]);o!=null&&h(e,["args"],o);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function k1(t){const e={},i=d(t,["description"]);i!=null&&h(e,["description"],i);const o=d(t,["name"]);o!=null&&h(e,["name"],o);const r=d(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&h(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function U1(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const o=d(t,["responseJsonSchema"]);o!=null&&h(e,["responseJsonSchema"],o);const r=d(t,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=d(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&h(e,["logprobs"],p);const m=d(t,["maxOutputTokens"]);m!=null&&h(e,["maxOutputTokens"],m);const v=d(t,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const E=d(t,["responseLogprobs"]);E!=null&&h(e,["responseLogprobs"],E);const A=d(t,["responseMimeType"]);A!=null&&h(e,["responseMimeType"],A);const x=d(t,["responseModalities"]);x!=null&&h(e,["responseModalities"],x);const _=d(t,["responseSchema"]);_!=null&&h(e,["responseSchema"],_);const D=d(t,["routingConfig"]);D!=null&&h(e,["routingConfig"],D);const k=d(t,["seed"]);k!=null&&h(e,["seed"],k);const J=d(t,["speechConfig"]);J!=null&&h(e,["speechConfig"],J);const H=d(t,["stopSequences"]);H!=null&&h(e,["stopSequences"],H);const ie=d(t,["temperature"]);ie!=null&&h(e,["temperature"],ie);const Z=d(t,["thinkingConfig"]);Z!=null&&h(e,["thinkingConfig"],Z);const ee=d(t,["topK"]);ee!=null&&h(e,["topK"],ee);const te=d(t,["topP"]);if(te!=null&&h(e,["topP"],te),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function P1(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function q1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function B1(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig"],o);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","mediaResolution"],m);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],am(S));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","thinkingConfig"],E);const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],A);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&h(e,["setup","systemInstruction"],M1(Qt(x)));const _=d(t,["tools"]);if(e!==void 0&&_!=null){let ee=Ma(_);Array.isArray(ee)&&(ee=ee.map(te=>X1(Ia(te)))),h(e,["setup","tools"],ee)}const D=d(t,["sessionResumption"]);e!==void 0&&D!=null&&h(e,["setup","sessionResumption"],K1(D));const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&h(e,["setup","inputAudioTranscription"],k);const J=d(t,["outputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","outputAudioTranscription"],J);const H=d(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&h(e,["setup","realtimeInputConfig"],H);const ie=d(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&h(e,["setup","contextWindowCompression"],ie);const Z=d(t,["proactivity"]);if(e!==void 0&&Z!=null&&h(e,["setup","proactivity"],Z),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function H1(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig"],U1(o));const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","mediaResolution"],m);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],am(S));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","thinkingConfig"],E);const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],A);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&h(e,["setup","systemInstruction"],Qt(x));const _=d(t,["tools"]);if(e!==void 0&&_!=null){let te=Ma(_);Array.isArray(te)&&(te=te.map(Se=>Q1(Ia(Se)))),h(e,["setup","tools"],te)}const D=d(t,["sessionResumption"]);e!==void 0&&D!=null&&h(e,["setup","sessionResumption"],D);const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&h(e,["setup","inputAudioTranscription"],k);const J=d(t,["outputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","outputAudioTranscription"],J);const H=d(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&h(e,["setup","realtimeInputConfig"],H);const ie=d(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&h(e,["setup","contextWindowCompression"],ie);const Z=d(t,["proactivity"]);e!==void 0&&Z!=null&&h(e,["setup","proactivity"],Z);const ee=d(t,["explicitVadSignal"]);return e!==void 0&&ee!=null&&h(e,["setup","explicitVadSignal"],ee),i}function O1(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["setup","model"],Je(t,o));const r=d(e,["config"]);return r!=null&&h(i,["config"],B1(r,i)),i}function z1(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["setup","model"],Je(t,o));const r=d(e,["config"]);return r!=null&&h(i,["config"],H1(r,i)),i}function G1(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],i),e}function V1(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),h(e,["weightedPrompts"],o)}return e}function F1(t){const e={},i=d(t,["media"]);if(i!=null){let m=ub(i);Array.isArray(m)&&(m=m.map(v=>Wc(v))),h(e,["mediaChunks"],m)}const o=d(t,["audio"]);o!=null&&h(e,["audio"],Wc(db(o)));const r=d(t,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=d(t,["video"]);l!=null&&h(e,["video"],Wc(cb(l)));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&h(e,["activityEnd"],p),e}function Y1(t){const e={},i=d(t,["media"]);if(i!=null){let m=ub(i);Array.isArray(m)&&(m=m.map(v=>v)),h(e,["mediaChunks"],m)}const o=d(t,["audio"]);o!=null&&h(e,["audio"],db(o));const r=d(t,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=d(t,["video"]);l!=null&&h(e,["video"],cb(l));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const p=d(t,["activityEnd"]);return p!=null&&h(e,["activityEnd"],p),e}function J1(t){const e={},i=d(t,["setupComplete"]);i!=null&&h(e,["setupComplete"],i);const o=d(t,["serverContent"]);o!=null&&h(e,["serverContent"],o);const r=d(t,["toolCall"]);r!=null&&h(e,["toolCall"],r);const l=d(t,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],W1(c));const f=d(t,["goAway"]);f!=null&&h(e,["goAway"],f);const p=d(t,["sessionResumptionUpdate"]);p!=null&&h(e,["sessionResumptionUpdate"],p);const m=d(t,["voiceActivityDetectionSignal"]);m!=null&&h(e,["voiceActivityDetectionSignal"],m);const v=d(t,["voiceActivity"]);return v!=null&&h(e,["voiceActivity"],Z1(v)),e}function $1(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],D1(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],L1(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],Wc(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const E=d(t,["videoMetadata"]);return E!=null&&h(e,["videoMetadata"],E),e}function K1(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function X1(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&h(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],P1(c));const f=d(t,["googleSearch"]);f!=null&&h(e,["googleSearch"],q1(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}function Q1(t){const e={},i=d(t,["retrieval"]);i!=null&&h(e,["retrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&h(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&h(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>k1(E))),h(e,["functionDeclarations"],S)}const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const m=d(t,["googleSearchRetrieval"]);m!=null&&h(e,["googleSearchRetrieval"],m);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function W1(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&h(e,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&h(e,["cachedContentTokenCount"],o);const r=d(t,["candidatesTokenCount"]);r!=null&&h(e,["responseTokenCount"],r);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&h(e,["totalTokenCount"],f);const p=d(t,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(x=>x)),h(e,["promptTokensDetails"],A)}const m=d(t,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(x=>x)),h(e,["cacheTokensDetails"],A)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(x=>x)),h(e,["responseTokensDetails"],A)}const S=d(t,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(x=>x)),h(e,["toolUsePromptTokensDetails"],A)}const E=d(t,["trafficType"]);return E!=null&&h(e,["trafficType"],E),e}function Z1(t){const e={},i=d(t,["type"]);return i!=null&&h(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j1(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function eI(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const o=d(t,["citationMetadata"]);o!=null&&h(e,["citationMetadata"],tI(o));const r=d(t,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=d(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const p=d(t,["index"]);p!=null&&h(e,["index"],p);const m=d(t,["logprobsResult"]);m!=null&&h(e,["logprobsResult"],m);const v=d(t,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),h(e,["safetyRatings"],E)}const S=d(t,["urlContextMetadata"]);return S!=null&&h(e,["urlContextMetadata"],S),e}function tI(t){const e={},i=d(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),h(e,["citations"],o)}return e}function nI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["contents"]);if(r!=null){let l=Jn(r);Array.isArray(l)&&(l=l.map(c=>c)),h(i,["contents"],l)}return i}function iI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["tokensInfo"],r)}return e}function sI(t){const e={},i=d(t,["values"]);i!=null&&h(e,["values"],i);const o=d(t,["statistics"]);return o!=null&&h(e,["statistics"],oI(o)),e}function oI(t){const e={},i=d(t,["truncated"]);i!=null&&h(e,["truncated"],i);const o=d(t,["token_count"]);return o!=null&&h(e,["tokenCount"],o),e}function Cd(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>pM(l))),h(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&h(e,["role"],o),e}function rI(t){const e={},i=d(t,["controlType"]);i!=null&&h(e,["controlType"],i);const o=d(t,["enableControlImageComputation"]);return o!=null&&h(e,["computeControl"],o),e}function aI(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lI(t,e){const i={},o=d(t,["systemInstruction"]);e!==void 0&&o!=null&&h(e,["systemInstruction"],Qt(o));const r=d(t,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>_b(f))),h(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],jI(l)),i}function uI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["contents"]);if(r!=null){let c=Jn(r);Array.isArray(c)&&(c=c.map(f=>Cd(f))),h(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&aI(l),i}function cI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["contents"]);if(r!=null){let c=Jn(r);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&lI(l,i),i}function dI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["totalTokens"]);o!=null&&h(e,["totalTokens"],o);const r=d(t,["cachedContentTokenCount"]);return r!=null&&h(e,["cachedContentTokenCount"],r),e}function fI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["totalTokens"]);return o!=null&&h(e,["totalTokens"],o),e}function hI(t,e){const i={},o=d(e,["model"]);return o!=null&&h(i,["_url","name"],Je(t,o)),i}function pI(t,e){const i={},o=d(e,["model"]);return o!=null&&h(i,["_url","name"],Je(t,o)),i}function mI(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function gI(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function yI(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const r=d(t,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&h(e,["parameters","seed"],p);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&h(e,["parameters","safetySetting"],m);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const E=d(t,["includeRaiReason"]);e!==void 0&&E!=null&&h(e,["parameters","includeRaiReason"],E);const A=d(t,["language"]);e!==void 0&&A!=null&&h(e,["parameters","language"],A);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","mimeType"],x);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","compressionQuality"],_);const D=d(t,["addWatermark"]);e!==void 0&&D!=null&&h(e,["parameters","addWatermark"],D);const k=d(t,["labels"]);e!==void 0&&k!=null&&h(e,["labels"],k);const J=d(t,["editMode"]);e!==void 0&&J!=null&&h(e,["parameters","editMode"],J);const H=d(t,["baseSteps"]);return e!==void 0&&H!=null&&h(e,["parameters","editConfig","baseSteps"],H),i}function vI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>EM(p))),h(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&yI(c,i),i}function SI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>xd(l))),h(e,["generatedImages"],r)}return e}function EI(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&h(e,["requests[]","taskType"],o);const r=d(t,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function bI(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&h(e,["instances[]","task_type"],o);const r=d(t,["title"]);e!==void 0&&r!=null&&h(e,["instances[]","title"],r);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&h(e,["parameters","autoTruncate"],f),i}function TI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["contents"]);if(r!=null){let f=sm(t,r);Array.isArray(f)&&(f=f.map(p=>p)),h(i,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&EI(l,i);const c=d(e,["model"]);return c!==void 0&&h(i,["requests[]","model"],Je(t,c)),i}function wI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["contents"]);if(r!=null){let c=sm(t,r);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&bI(l,i),i}function AI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["embeddings"],l)}const r=d(t,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function _I(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>sI(c))),h(e,["embeddings"],l)}const r=d(t,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function CI(t){const e={},i=d(t,["endpoint"]);i!=null&&h(e,["name"],i);const o=d(t,["deployedModelId"]);return o!=null&&h(e,["deployedModelId"],o),e}function xI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function RI(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const o=d(t,["args"]);o!=null&&h(e,["args"],o);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NI(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&h(e,["allowedFunctionNames"],i);const o=d(t,["mode"]);if(o!=null&&h(e,["mode"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function II(t){const e={},i=d(t,["description"]);i!=null&&h(e,["description"],i);const o=d(t,["name"]);o!=null&&h(e,["name"],o);const r=d(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);if(f!=null&&h(e,["responseJsonSchema"],f),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function MI(t,e,i){const o={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&h(i,["systemInstruction"],Cd(Qt(r)));const l=d(e,["temperature"]);l!=null&&h(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(o,["topP"],c);const f=d(e,["topK"]);f!=null&&h(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&h(o,["candidateCount"],p);const m=d(e,["maxOutputTokens"]);m!=null&&h(o,["maxOutputTokens"],m);const v=d(e,["stopSequences"]);v!=null&&h(o,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&h(o,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&h(o,["logprobs"],E);const A=d(e,["presencePenalty"]);A!=null&&h(o,["presencePenalty"],A);const x=d(e,["frequencyPenalty"]);x!=null&&h(o,["frequencyPenalty"],x);const _=d(e,["seed"]);_!=null&&h(o,["seed"],_);const D=d(e,["responseMimeType"]);D!=null&&h(o,["responseMimeType"],D);const k=d(e,["responseSchema"]);k!=null&&h(o,["responseSchema"],om(k));const J=d(e,["responseJsonSchema"]);if(J!=null&&h(o,["responseJsonSchema"],J),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=d(e,["safetySettings"]);if(i!==void 0&&H!=null){let ve=H;Array.isArray(ve)&&(ve=ve.map(Ce=>bM(Ce))),h(i,["safetySettings"],ve)}const ie=d(e,["tools"]);if(i!==void 0&&ie!=null){let ve=Ma(ie);Array.isArray(ve)&&(ve=ve.map(Ce=>RM(Ia(Ce)))),h(i,["tools"],ve)}const Z=d(e,["toolConfig"]);if(i!==void 0&&Z!=null&&h(i,["toolConfig"],xM(Z)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=d(e,["cachedContent"]);i!==void 0&&ee!=null&&h(i,["cachedContent"],vs(t,ee));const te=d(e,["responseModalities"]);te!=null&&h(o,["responseModalities"],te);const Se=d(e,["mediaResolution"]);Se!=null&&h(o,["mediaResolution"],Se);const W=d(e,["speechConfig"]);if(W!=null&&h(o,["speechConfig"],rm(W)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=d(e,["thinkingConfig"]);P!=null&&h(o,["thinkingConfig"],P);const he=d(e,["imageConfig"]);he!=null&&h(o,["imageConfig"],sM(he));const fe=d(e,["enableEnhancedCivicAnswers"]);if(fe!=null&&h(o,["enableEnhancedCivicAnswers"],fe),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function DI(t,e,i){const o={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&h(i,["systemInstruction"],Qt(r));const l=d(e,["temperature"]);l!=null&&h(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(o,["topP"],c);const f=d(e,["topK"]);f!=null&&h(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&h(o,["candidateCount"],p);const m=d(e,["maxOutputTokens"]);m!=null&&h(o,["maxOutputTokens"],m);const v=d(e,["stopSequences"]);v!=null&&h(o,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&h(o,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&h(o,["logprobs"],E);const A=d(e,["presencePenalty"]);A!=null&&h(o,["presencePenalty"],A);const x=d(e,["frequencyPenalty"]);x!=null&&h(o,["frequencyPenalty"],x);const _=d(e,["seed"]);_!=null&&h(o,["seed"],_);const D=d(e,["responseMimeType"]);D!=null&&h(o,["responseMimeType"],D);const k=d(e,["responseSchema"]);k!=null&&h(o,["responseSchema"],om(k));const J=d(e,["responseJsonSchema"]);J!=null&&h(o,["responseJsonSchema"],J);const H=d(e,["routingConfig"]);H!=null&&h(o,["routingConfig"],H);const ie=d(e,["modelSelectionConfig"]);ie!=null&&h(o,["modelConfig"],ie);const Z=d(e,["safetySettings"]);if(i!==void 0&&Z!=null){let $=Z;Array.isArray($)&&($=$.map(ue=>ue)),h(i,["safetySettings"],$)}const ee=d(e,["tools"]);if(i!==void 0&&ee!=null){let $=Ma(ee);Array.isArray($)&&($=$.map(ue=>_b(Ia(ue)))),h(i,["tools"],$)}const te=d(e,["toolConfig"]);i!==void 0&&te!=null&&h(i,["toolConfig"],te);const Se=d(e,["labels"]);i!==void 0&&Se!=null&&h(i,["labels"],Se);const W=d(e,["cachedContent"]);i!==void 0&&W!=null&&h(i,["cachedContent"],vs(t,W));const P=d(e,["responseModalities"]);P!=null&&h(o,["responseModalities"],P);const he=d(e,["mediaResolution"]);he!=null&&h(o,["mediaResolution"],he);const fe=d(e,["speechConfig"]);fe!=null&&h(o,["speechConfig"],rm(fe));const ve=d(e,["audioTimestamp"]);ve!=null&&h(o,["audioTimestamp"],ve);const Ce=d(e,["thinkingConfig"]);Ce!=null&&h(o,["thinkingConfig"],Ce);const q=d(e,["imageConfig"]);if(q!=null&&h(o,["imageConfig"],oM(q)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const R=d(e,["modelArmorConfig"]);return i!==void 0&&R!=null&&h(i,["modelArmorConfig"],R),o}function $S(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["contents"]);if(r!=null){let c=Jn(r);Array.isArray(c)&&(c=c.map(f=>Cd(f))),h(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(i,["generationConfig"],MI(t,l,i)),i}function KS(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["contents"]);if(r!=null){let c=Jn(r);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(i,["generationConfig"],DI(t,l,i)),i}function XS(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(m=>eI(m))),h(e,["candidates"],p)}const r=d(t,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=d(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function QS(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(v=>v)),h(e,["candidates"],m)}const r=d(t,["createTime"]);r!=null&&h(e,["createTime"],r);const l=d(t,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&h(e,["responseId"],f);const p=d(t,["usageMetadata"]);return p!=null&&h(e,["usageMetadata"],p),e}function LI(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const r=d(t,["aspectRatio"]);e!==void 0&&r!=null&&h(e,["parameters","aspectRatio"],r);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&h(e,["parameters","includeSafetyAttributes"],p);const m=d(t,["includeRaiReason"]);e!==void 0&&m!=null&&h(e,["parameters","includeRaiReason"],m);const v=d(t,["language"]);e!==void 0&&v!=null&&h(e,["parameters","language"],v);const S=d(t,["outputMimeType"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","mimeType"],S);const E=d(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&h(e,["parameters","outputOptions","compressionQuality"],E),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=d(t,["imageSize"]);if(e!==void 0&&A!=null&&h(e,["parameters","sampleImageSize"],A),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function kI(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const r=d(t,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const p=d(t,["seed"]);e!==void 0&&p!=null&&h(e,["parameters","seed"],p);const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&h(e,["parameters","safetySetting"],m);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&h(e,["parameters","includeSafetyAttributes"],S);const E=d(t,["includeRaiReason"]);e!==void 0&&E!=null&&h(e,["parameters","includeRaiReason"],E);const A=d(t,["language"]);e!==void 0&&A!=null&&h(e,["parameters","language"],A);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","mimeType"],x);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","compressionQuality"],_);const D=d(t,["addWatermark"]);e!==void 0&&D!=null&&h(e,["parameters","addWatermark"],D);const k=d(t,["labels"]);e!==void 0&&k!=null&&h(e,["labels"],k);const J=d(t,["imageSize"]);e!==void 0&&J!=null&&h(e,["parameters","sampleImageSize"],J);const H=d(t,["enhancePrompt"]);return e!==void 0&&H!=null&&h(e,["parameters","enhancePrompt"],H),i}function UI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const l=d(e,["config"]);return l!=null&&LI(l,i),i}function PI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const l=d(e,["config"]);return l!=null&&kI(l,i),i}function qI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>XI(c))),h(e,["generatedImages"],l)}const r=d(t,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],wb(r)),e}function BI(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>xd(c))),h(e,["generatedImages"],l)}const r=d(t,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],Ab(r)),e}function HI(t,e){const i={},o=d(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=d(t,["durationSeconds"]);if(e!==void 0&&r!=null&&h(e,["parameters","durationSeconds"],r),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&h(e,["parameters","negativePrompt"],p);const m=d(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&h(e,["parameters","enhancePrompt"],m),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&h(e,["instances[0]","lastFrame"],Rd(v));const S=d(t,["referenceImages"]);if(e!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>zM(A))),h(e,["instances[0]","referenceImages"],E)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function OI(t,e){const i={},o=d(t,["numberOfVideos"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const l=d(t,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&h(e,["parameters","aspectRatio"],p);const m=d(t,["resolution"]);e!==void 0&&m!=null&&h(e,["parameters","resolution"],m);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const S=d(t,["pubsubTopic"]);e!==void 0&&S!=null&&h(e,["parameters","pubsubTopic"],S);const E=d(t,["negativePrompt"]);e!==void 0&&E!=null&&h(e,["parameters","negativePrompt"],E);const A=d(t,["enhancePrompt"]);e!==void 0&&A!=null&&h(e,["parameters","enhancePrompt"],A);const x=d(t,["generateAudio"]);e!==void 0&&x!=null&&h(e,["parameters","generateAudio"],x);const _=d(t,["lastFrame"]);e!==void 0&&_!=null&&h(e,["instances[0]","lastFrame"],pi(_));const D=d(t,["referenceImages"]);if(e!==void 0&&D!=null){let H=D;Array.isArray(H)&&(H=H.map(ie=>GM(ie))),h(e,["instances[0]","referenceImages"],H)}const k=d(t,["mask"]);e!==void 0&&k!=null&&h(e,["instances[0]","mask"],OM(k));const J=d(t,["compressionQuality"]);return e!==void 0&&J!=null&&h(e,["parameters","compressionQuality"],J),i}function zI(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],YI(c)),e}function GI(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],JI(c)),e}function VI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const l=d(e,["image"]);l!=null&&h(i,["instances[0]","image"],Rd(l));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],Cb(c));const f=d(e,["source"]);f!=null&&$I(f,i);const p=d(e,["config"]);return p!=null&&HI(p,i),i}function FI(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["prompt"]);r!=null&&h(i,["instances[0]","prompt"],r);const l=d(e,["image"]);l!=null&&h(i,["instances[0]","image"],pi(l));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],xb(c));const f=d(e,["source"]);f!=null&&KI(f,i);const p=d(e,["config"]);return p!=null&&OI(p,i),i}function YI(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>WI(c))),h(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&h(e,["raiMediaFilteredCount"],o);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function JI(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>ZI(c))),h(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&h(e,["raiMediaFilteredCount"],o);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function $I(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&h(e,["instances[0]","prompt"],o);const r=d(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],Rd(r));const l=d(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],Cb(l)),i}function KI(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&h(e,["instances[0]","prompt"],o);const r=d(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],pi(r));const l=d(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],xb(l)),i}function XI(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],rM(i));const o=d(t,["raiFilteredReason"]);o!=null&&h(e,["raiFilteredReason"],o);const r=d(t,["_self"]);return r!=null&&h(e,["safetyAttributes"],wb(r)),e}function xd(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],Tb(i));const o=d(t,["raiFilteredReason"]);o!=null&&h(e,["raiFilteredReason"],o);const r=d(t,["_self"]);r!=null&&h(e,["safetyAttributes"],Ab(r));const l=d(t,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function QI(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["mask"],Tb(i));const o=d(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["labels"],r)}return e}function WI(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],BM(i)),e}function ZI(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],HM(i)),e}function jI(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const o=d(t,["responseJsonSchema"]);o!=null&&h(e,["responseJsonSchema"],o);const r=d(t,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=d(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const p=d(t,["logprobs"]);p!=null&&h(e,["logprobs"],p);const m=d(t,["maxOutputTokens"]);m!=null&&h(e,["maxOutputTokens"],m);const v=d(t,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const S=d(t,["presencePenalty"]);S!=null&&h(e,["presencePenalty"],S);const E=d(t,["responseLogprobs"]);E!=null&&h(e,["responseLogprobs"],E);const A=d(t,["responseMimeType"]);A!=null&&h(e,["responseMimeType"],A);const x=d(t,["responseModalities"]);x!=null&&h(e,["responseModalities"],x);const _=d(t,["responseSchema"]);_!=null&&h(e,["responseSchema"],_);const D=d(t,["routingConfig"]);D!=null&&h(e,["routingConfig"],D);const k=d(t,["seed"]);k!=null&&h(e,["seed"],k);const J=d(t,["speechConfig"]);J!=null&&h(e,["speechConfig"],J);const H=d(t,["stopSequences"]);H!=null&&h(e,["stopSequences"],H);const ie=d(t,["temperature"]);ie!=null&&h(e,["temperature"],ie);const Z=d(t,["thinkingConfig"]);Z!=null&&h(e,["thinkingConfig"],Z);const ee=d(t,["topK"]);ee!=null&&h(e,["topK"],ee);const te=d(t,["topP"]);if(te!=null&&h(e,["topP"],te),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function eM(t,e){const i={},o=d(e,["model"]);return o!=null&&h(i,["_url","name"],Je(t,o)),i}function tM(t,e){const i={},o=d(e,["model"]);return o!=null&&h(i,["_url","name"],Je(t,o)),i}function nM(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function iM(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function sM(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const o=d(t,["imageSize"]);if(o!=null&&h(e,["imageSize"],o),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function oM(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const o=d(t,["imageSize"]);o!=null&&h(e,["imageSize"],o);const r=d(t,["personGeneration"]);r!=null&&h(e,["personGeneration"],r);const l=d(t,["outputMimeType"]);l!=null&&h(e,["imageOutputOptions","mimeType"],l);const c=d(t,["outputCompressionQuality"]);return c!=null&&h(e,["imageOutputOptions","compressionQuality"],c),e}function rM(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],uo(i));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function Tb(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&h(e,["imageBytes"],uo(o));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Rd(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],uo(i));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function pi(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const o=d(t,["imageBytes"]);o!=null&&h(e,["bytesBase64Encoded"],uo(o));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function aM(t,e,i){const o={},r=d(e,["pageSize"]);i!==void 0&&r!=null&&h(i,["_query","pageSize"],r);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&h(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],mb(t,f)),o}function lM(t,e,i){const o={},r=d(e,["pageSize"]);i!==void 0&&r!=null&&h(i,["_query","pageSize"],r);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&h(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],mb(t,f)),o}function uM(t,e){const i={},o=d(e,["config"]);return o!=null&&aM(t,o,i),i}function cM(t,e){const i={},o=d(e,["config"]);return o!=null&&lM(t,o,i),i}function dM(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["_self"]);if(r!=null){let l=gb(r);Array.isArray(l)&&(l=l.map(c=>gp(c))),h(e,["models"],l)}return e}function fM(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["_self"]);if(r!=null){let l=gb(r);Array.isArray(l)&&(l=l.map(c=>yp(c))),h(e,["models"],l)}return e}function hM(t){const e={},i=d(t,["maskMode"]);i!=null&&h(e,["maskMode"],i);const o=d(t,["segmentationClasses"]);o!=null&&h(e,["maskClasses"],o);const r=d(t,["maskDilation"]);return r!=null&&h(e,["dilation"],r),e}function gp(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["displayName"]);o!=null&&h(e,["displayName"],o);const r=d(t,["description"]);r!=null&&h(e,["description"],r);const l=d(t,["version"]);l!=null&&h(e,["version"],l);const c=d(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],NM(c));const f=d(t,["inputTokenLimit"]);f!=null&&h(e,["inputTokenLimit"],f);const p=d(t,["outputTokenLimit"]);p!=null&&h(e,["outputTokenLimit"],p);const m=d(t,["supportedGenerationMethods"]);m!=null&&h(e,["supportedActions"],m);const v=d(t,["temperature"]);v!=null&&h(e,["temperature"],v);const S=d(t,["maxTemperature"]);S!=null&&h(e,["maxTemperature"],S);const E=d(t,["topP"]);E!=null&&h(e,["topP"],E);const A=d(t,["topK"]);A!=null&&h(e,["topK"],A);const x=d(t,["thinking"]);return x!=null&&h(e,["thinking"],x),e}function yp(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["displayName"]);o!=null&&h(e,["displayName"],o);const r=d(t,["description"]);r!=null&&h(e,["description"],r);const l=d(t,["versionId"]);l!=null&&h(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>CI(E))),h(e,["endpoints"],S)}const f=d(t,["labels"]);f!=null&&h(e,["labels"],f);const p=d(t,["_self"]);p!=null&&h(e,["tunedModelInfo"],IM(p));const m=d(t,["defaultCheckpointId"]);m!=null&&h(e,["defaultCheckpointId"],m);const v=d(t,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),h(e,["checkpoints"],S)}return e}function pM(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],xI(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],RI(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],j1(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const E=d(t,["videoMetadata"]);return E!=null&&h(e,["videoMetadata"],E),e}function mM(t){const e={},i=d(t,["productImage"]);return i!=null&&h(e,["image"],pi(i)),e}function gM(t,e){const i={},o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const r=d(t,["baseSteps"]);e!==void 0&&r!=null&&h(e,["parameters","baseSteps"],r);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&h(e,["parameters","personGeneration"],p);const m=d(t,["addWatermark"]);e!==void 0&&m!=null&&h(e,["parameters","addWatermark"],m);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&h(e,["parameters","outputOptions","mimeType"],v);const S=d(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&h(e,["parameters","enhancePrompt"],E);const A=d(t,["labels"]);return e!==void 0&&A!=null&&h(e,["labels"],A),i}function yM(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["source"]);r!=null&&SM(r,i);const l=d(e,["config"]);return l!=null&&gM(l,i),i}function vM(t){const e={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>xd(r))),h(e,["generatedImages"],o)}return e}function SM(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&h(e,["instances[0]","prompt"],o);const r=d(t,["personImage"]);e!==void 0&&r!=null&&h(e,["instances[0]","personImage","image"],pi(r));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>mM(f))),h(e,["instances[0]","productImages"],c)}return i}function EM(t){const e={},i=d(t,["referenceImage"]);i!=null&&h(e,["referenceImage"],pi(i));const o=d(t,["referenceId"]);o!=null&&h(e,["referenceId"],o);const r=d(t,["referenceType"]);r!=null&&h(e,["referenceType"],r);const l=d(t,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],hM(l));const c=d(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],rI(c));const f=d(t,["styleImageConfig"]);f!=null&&h(e,["styleImageConfig"],f);const p=d(t,["subjectImageConfig"]);return p!=null&&h(e,["subjectImageConfig"],p),e}function wb(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&h(e,["scores"],o);const r=d(t,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function Ab(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const o=d(t,["safetyAttributes","scores"]);o!=null&&h(e,["scores"],o);const r=d(t,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function bM(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&h(e,["threshold"],o),e}function TM(t){const e={},i=d(t,["image"]);return i!=null&&h(e,["image"],pi(i)),e}function wM(t,e){const i={},o=d(t,["mode"]);e!==void 0&&o!=null&&h(e,["parameters","mode"],o);const r=d(t,["maxPredictions"]);e!==void 0&&r!=null&&h(e,["parameters","maxPredictions"],r);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&h(e,["parameters","binaryColorThreshold"],f);const p=d(t,["labels"]);return e!==void 0&&p!=null&&h(e,["labels"],p),i}function AM(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["source"]);r!=null&&CM(r,i);const l=d(e,["config"]);return l!=null&&wM(l,i),i}function _M(t){const e={},i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>QI(r))),h(e,["generatedMasks"],o)}return e}function CM(t,e){const i={},o=d(t,["prompt"]);e!==void 0&&o!=null&&h(e,["instances[0]","prompt"],o);const r=d(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],pi(r));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],TM(l)),i}function xM(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&h(e,["retrievalConfig"],i);const o=d(t,["functionCallingConfig"]);return o!=null&&h(e,["functionCallingConfig"],NI(o)),e}function RM(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&h(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],nM(c));const f=d(t,["googleSearch"]);f!=null&&h(e,["googleSearch"],iM(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}function _b(t){const e={},i=d(t,["retrieval"]);i!=null&&h(e,["retrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&h(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&h(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&h(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(E=>II(E))),h(e,["functionDeclarations"],S)}const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],f);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const m=d(t,["googleSearchRetrieval"]);m!=null&&h(e,["googleSearchRetrieval"],m);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function NM(t){const e={},i=d(t,["baseModel"]);i!=null&&h(e,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&h(e,["createTime"],o);const r=d(t,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function IM(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(e,["baseModel"],i);const o=d(t,["createTime"]);o!=null&&h(e,["createTime"],o);const r=d(t,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function MM(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const r=d(t,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),i}function DM(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const r=d(t,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),i}function LM(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","name"],Je(t,o));const r=d(e,["config"]);return r!=null&&MM(r,i),i}function kM(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["config"]);return r!=null&&DM(r,i),i}function UM(t,e){const i={},o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const r=d(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&h(e,["parameters","safetySetting"],r);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&h(e,["parameters","outputOptions","compressionQuality"],p);const m=d(t,["enhanceInputImage"]);e!==void 0&&m!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=d(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const E=d(t,["numberOfImages"]);e!==void 0&&E!=null&&h(e,["parameters","sampleCount"],E);const A=d(t,["mode"]);return e!==void 0&&A!=null&&h(e,["parameters","mode"],A),i}function PM(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["_url","model"],Je(t,o));const r=d(e,["image"]);r!=null&&h(i,["instances[0]","image"],pi(r));const l=d(e,["upscaleFactor"]);l!=null&&h(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&UM(c,i),i}function qM(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>xd(l))),h(e,["generatedImages"],r)}return e}function BM(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const o=d(t,["encodedVideo"]);o!=null&&h(e,["videoBytes"],uo(o));const r=d(t,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function HM(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&h(e,["videoBytes"],uo(o));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function OM(t){const e={},i=d(t,["image"]);i!=null&&h(e,["_self"],pi(i));const o=d(t,["maskMode"]);return o!=null&&h(e,["maskMode"],o),e}function zM(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],Rd(i));const o=d(t,["referenceType"]);return o!=null&&h(e,["referenceType"],o),e}function GM(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],pi(i));const o=d(t,["referenceType"]);return o!=null&&h(e,["referenceType"],o),e}function Cb(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const o=d(t,["videoBytes"]);o!=null&&h(e,["encodedVideo"],uo(o));const r=d(t,["mimeType"]);return r!=null&&h(e,["encoding"],r),e}function xb(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["gcsUri"],i);const o=d(t,["videoBytes"]);o!=null&&h(e,["bytesBase64Encoded"],uo(o));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VM(t,e){const i={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&h(e,["displayName"],o),i}function FM(t){const e={},i=d(t,["config"]);return i!=null&&VM(i,e),e}function YM(t,e){const i={},o=d(t,["force"]);return e!==void 0&&o!=null&&h(e,["_query","force"],o),i}function JM(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const o=d(t,["config"]);return o!=null&&YM(o,e),e}function $M(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function KM(t,e){const i={},o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["customMetadata"],l)}const r=d(t,["chunkingConfig"]);return e!==void 0&&r!=null&&h(e,["chunkingConfig"],r),i}function XM(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const o=d(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=d(t,["done"]);r!=null&&h(e,["done"],r);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],WM(c)),e}function QM(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const o=d(t,["fileName"]);o!=null&&h(e,["fileName"],o);const r=d(t,["config"]);return r!=null&&KM(r,e),e}function WM(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&h(e,["parent"],o);const r=d(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function ZM(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function jM(t){const e={},i=d(t,["config"]);return i!=null&&ZM(i,e),e}function eD(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["fileSearchStores"],l)}return e}function Rb(t,e){const i={},o=d(t,["mimeType"]);e!==void 0&&o!=null&&h(e,["mimeType"],o);const r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),h(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),i}function tD(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const o=d(t,["config"]);return o!=null&&Rb(o,e),e}function nD(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iD="Content-Type",sD="X-Server-Timeout",oD="User-Agent",vp="x-goog-api-client",rD="1.38.0",aD=`google-genai-sdk/${rD}`,lD="v1beta1",uD="v1beta";class cD{constructor(e){var i,o,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const l={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const f=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!f?(l.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?l.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:lD}else{if(!this.clientOptions.apiKey)throw new Kl({message:"API key must be set when using the Gemini API.",status:403});l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:uD,l.baseUrl="https://generativelanguage.googleapis.com/"}l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const r=[this.getRequestUrlInternal(i)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===fp.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,i),r=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))r.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,r.toString(),e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(i))typeof l=="object"?o[r]=Object.assign(Object.assign({},o[r]),l):l!==void 0&&(o[r]=l);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,i),r=this.constructUrl(e.path,i,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,r.toString(),e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,r){if(i&&i.timeout||r){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>l.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&dD(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async r=>(await WS(r),new hp(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async r=>(await WS(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return di(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield Re(r.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=l.decode(v,{stream:!0});try{const x=JSON.parse(S);if("error"in x){const _=JSON.parse(JSON.stringify(x.error)),D=_.status,k=_.code,J=`got status: ${D}. ${JSON.stringify(x)}`;if(k>=400&&k<600)throw new Kl({message:J,status:k})}}catch(x){if(x.name==="ApiError")throw x}c+=S;let E=-1,A=0;for(;;){E=-1,A=0;for(const D of p){const k=c.indexOf(D);k!==-1&&(E===-1||k<E)&&(E=k,A=D.length)}if(E===-1)break;const x=c.substring(0,E);c=c.substring(E+A);const _=x.trim();if(_.startsWith(f)){const D=_.substring(f.length).trim();try{const k=new Response(D,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Re(new hp(k))}catch(k){throw new Error(`exception parsing stream chunk ${D}. ${k}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=aD+" "+this.clientOptions.userAgentExtra;return e[oD]=i,e[vp]=i,e[iD]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))o.append(r,l);e.timeout&&e.timeout>0&&o.append(sD,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);r.sizeBytes=String(c.size);const f=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=f;const p={file:r},m=this.getFileName(e),v=pe("upload/v1beta/files",p._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,p,i==null?void 0:i.httpOptions);return l.upload(e,S,this)}async uploadFileToFileSearchStore(e,i,o){var r;const l=this.clientOptions.uploader,c=await l.stat(i),f=String(c.size),p=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),S={};o!=null&&Rb(o,S);const E=await this.fetchUploadUrl(m,f,p,v,S,o==null?void 0:o.httpOptions);return l.uploadToFileSearchStore(i,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,r,l,c){var f;let p={};c?p=c:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(f=m==null?void 0:m.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function WS(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw i>=400&&i<600?new Kl({message:r,status:i}):new Error(r)}}function dD(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,c){const f=Object.assign({},l);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const m=c[p],v=f[p];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?f[p]=o(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),f[p]=m)}return f}const r=o(i,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fD="mcp_used/unknown";let hD=!1;function Nb(t){for(const e of t)if(pD(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hD}function Ib(t){var e;const i=(e=t[vp])!==null&&e!==void 0?e:"";t[vp]=(i+` ${fD}`).trimStart()}function pD(t){return t!==null&&typeof t=="object"&&t instanceof lm}function mD(t){return di(this,arguments,function*(i,o=100){let r,l=0;for(;l<o;){const c=yield Re(i.listTools({cursor:r}));for(const f of c.tools)yield yield Re(f),l++;if(!c.nextCursor)break;r=c.nextCursor}})}class lm{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new lm(e,i)}async initialize(){var e,i,o,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var f=!0,p=(i=void 0,fi(mD(v))),m;m=await p.next(),e=m.done,!e;f=!0){r=m.value,f=!1;const S=r;c.push(S);const E=S.name;if(l[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);l[E]=v}}catch(S){i={error:S}}finally{try{!f&&!e&&(o=p.return)&&await o.call(p)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),JR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:o.name,arguments:o.args},void 0,l);i.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gD(t,e,i){const o=new BR;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(o,r),e(o)}class yD{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=ED(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let m=()=>{};const v=new Promise(H=>{m=H}),S=e.callbacks,E=function(){m({})},A=this.apiClient,x={onopen:E,onmessage:H=>{gD(A,S.onmessage,H)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(H){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(H){}},_=this.webSocketFactory.create(p,SD(c),x);_.connect(),await v;const J={setup:{model:Je(this.apiClient,e.model)}};return _.send(JSON.stringify(J)),new vD(_,this.apiClient)}}class vD{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=V1(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=G1(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Xr.PLAY)}pause(){this.sendPlaybackControl(Xr.PAUSE)}stop(){this.sendPlaybackControl(Xr.STOP)}resetContext(){this.sendPlaybackControl(Xr.RESET_CONTEXT)}close(){this.conn.close()}}function SD(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function ED(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TD(t,e,i){const o=new qR;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const l=JSON.parse(r);if(t.isVertexAI()){const c=J1(l);Object.assign(o,c)}else Object.assign(o,l);e(o)}class wD{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new yD(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,r,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&Nb(e.config.tools)&&Ib(S);const E=xD(S);if(this.apiClient.isVertexAI()){const W=this.apiClient.getProject(),P=this.apiClient.getLocation(),he=this.apiClient.getApiKey(),fe=!!W&&!!P||!!he;this.apiClient.getCustomBaseUrl()&&!fe?v=p:(v=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const W=this.apiClient.getApiKey();let P="BidiGenerateContent",he="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",he="access_token"),v=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${P}?${he}=${W}`}let A=()=>{};const x=new Promise(W=>{A=W}),_=e.callbacks,D=function(){var W;(W=_==null?void 0:_.onopen)===null||W===void 0||W.call(_),A({})},k=this.apiClient,J={onopen:D,onmessage:W=>{TD(k,_.onmessage,W)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(W){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(W){}},H=this.webSocketFactory.create(v,CD(E),J);H.connect(),await x;let ie=Je(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ie.startsWith("publishers/")){const W=this.apiClient.getProject(),P=this.apiClient.getLocation();W&&P&&(ie=`projects/${W}/locations/${P}/`+ie)}let Z={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[od.AUDIO]}:e.config.responseModalities=[od.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],te=[];for(const W of ee)if(this.isCallableTool(W)){const P=W;te.push(await P.tool())}else te.push(W);te.length>0&&(e.config.tools=te);const Se={model:ie,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=z1(this.apiClient,Se):Z=O1(this.apiClient,Se),delete Z.config,H.send(JSON.stringify(Z)),new _D(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const AD={turnComplete:!0};class _D{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=Jn(i.turns),e.isVertexAI()||(o=o.map(r=>Cd(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(bD)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},AD),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Y1(e)}:i={realtimeInput:F1(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function CD(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function xD(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZS=10;function jS(t){var e,i,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(ea(c)){r=!0;break}if(!r)return!0;const l=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function ea(t){return"callTool"in t&&typeof t.callTool=="function"}function RD(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>ea(r)))!==null&&o!==void 0?o:!1}function eE(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(ea(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(r)}),i}function tE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ND extends ys{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,r,l,c,f;const p=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!RD(i)||jS(i.config))return await this.generateContentInternal(p);const m=eE(i);if(m.length>0){const _=m.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let v,S;const E=Jn(p.contents),A=(l=(r=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:ZS;let x=0;for(;x<A&&(v=await this.generateContentInternal(p),!(!v.functionCalls||v.functionCalls.length===0));){const _=v.candidates[0].content,D=[];for(const k of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(ea(k)){const H=await k.callTool(v.functionCalls);D.push(...H)}x++,S={role:"user",parts:D},p.contents=Jn(p.contents),p.contents.push(_),p.contents.push(S),tE(p.config)&&(E.push(_),E.push(S))}return tE(p.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async i=>{var o,r,l,c,f;if(this.maybeMoveToResponseJsonSchem(i),jS(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const p=eE(i);if(p.length>0){const S=p.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(l=(r=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(f=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var r;let l;const c=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:c.push(p);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},f}),this.list=async i=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new er(ps.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var o,r,l,c,f,p;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((p=(f=i.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,r;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async p=>ea(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&Nb(e.config.tools)){const p=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Ib(m),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return f}async initAfcToolsMap(e){var i,o,r;const l=new Map;for(const c of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(ea(c)){const f=c,p=await f.tool();for(const m of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,f)}}return l}async processAfcStream(e){var i,o,r;const l=(r=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:ZS;let c=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(m,v,S){return di(this,arguments,function*(){for(var E,A,x,_,D,k;f<l;){c&&(f++,c=!1);const Z=yield Re(m.processParamsMaybeAddMcpUsage(S)),ee=yield Re(m.generateContentStreamInternal(Z)),te=[],Se=[];try{for(var J=!0,H=(A=void 0,fi(ee)),ie;ie=yield Re(H.next()),E=ie.done,!E;J=!0){_=ie.value,J=!1;const W=_;if(yield yield Re(W),W.candidates&&(!((D=W.candidates[0])===null||D===void 0)&&D.content)){Se.push(W.candidates[0].content);for(const P of(k=W.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(f<l&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(P.functionCall.name)){const he=yield Re(v.get(P.functionCall.name).callTool([P.functionCall]));te.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(W){A={error:W}}finally{try{!J&&!E&&(x=H.return)&&(yield Re(x.call(H)))}finally{if(A)throw A.error}}if(te.length>0){c=!0;const W=new Ml;W.candidates=[{content:{role:"user",parts:te}}],yield yield Re(W);const P=[];P.push(...Se),P.push({role:"user",parts:te});const he=Jn(S.contents).concat(P);S.contents=he}else break}})})(this,p,e)}async generateContentInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=KS(this.apiClient,e);return f=pe("{model}:generateContent",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=QS(v),E=new Ml;return Object.assign(E,S),E})}else{const m=$S(this.apiClient,e);return f=pe("{model}:generateContent",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=XS(v),E=new Ml;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=KS(this.apiClient,e);return f=pe("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(S){return di(this,arguments,function*(){var E,A,x,_;try{for(var D=!0,k=fi(S),J;J=yield Re(k.next()),E=J.done,!E;D=!0){_=J.value,D=!1;const H=_,ie=QS(yield Re(H.json()));ie.sdkHttpResponse={headers:H.headers};const Z=new Ml;Object.assign(Z,ie),yield yield Re(Z)}}catch(H){A={error:H}}finally{try{!D&&!E&&(x=k.return)&&(yield Re(x.call(k)))}finally{if(A)throw A.error}}})})}else{const m=$S(this.apiClient,e);return f=pe("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(S){return di(this,arguments,function*(){var E,A,x,_;try{for(var D=!0,k=fi(S),J;J=yield Re(k.next()),E=J.done,!E;D=!0){_=J.value,D=!1;const H=_,ie=XS(yield Re(H.json()));ie.sdkHttpResponse={headers:H.headers};const Z=new Ml;Object.assign(Z,ie),yield yield Re(Z)}}catch(H){A={error:H}}finally{try{!D&&!E&&(x=k.return)&&(yield Re(x.call(k)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=wI(this.apiClient,e);return f=pe("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=_I(v),E=new IS;return Object.assign(E,S),E})}else{const m=TI(this.apiClient,e);return f=pe("{model}:batchEmbedContents",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=AI(v),E=new IS;return Object.assign(E,S),E})}}async generateImagesInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=PI(this.apiClient,e);return f=pe("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=BI(v),E=new MS;return Object.assign(E,S),E})}else{const m=UI(this.apiClient,e);return f=pe("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=qI(v),E=new MS;return Object.assign(E,S),E})}}async editImageInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const f=vI(this.apiClient,e);return l=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const m=SI(p),v=new CR;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const f=PM(this.apiClient,e);return l=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const m=qM(p),v=new xR;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const f=yM(this.apiClient,e);return l=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const m=vM(p),v=new RR;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const f=AM(this.apiClient,e);return l=pe("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const m=_M(p),v=new NR;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=tM(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>yp(v))}else{const m=eM(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>gp(v))}}async listInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=cM(this.apiClient,e);return f=pe("{models_url}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=fM(v),E=new DS;return Object.assign(E,S),E})}else{const m=uM(this.apiClient,e);return f=pe("{models_url}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=dM(v),E=new DS;return Object.assign(E,S),E})}}async update(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=kM(this.apiClient,e);return f=pe("{model}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>yp(v))}else{const m=LM(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>gp(v))}}async delete(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=pI(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=gI(v),E=new LS;return Object.assign(E,S),E})}else{const m=hI(this.apiClient,e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=mI(v),E=new LS;return Object.assign(E,S),E})}}async countTokens(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=cI(this.apiClient,e);return f=pe("{model}:countTokens",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=fI(v),E=new kS;return Object.assign(E,S),E})}else{const m=uI(this.apiClient,e);return f=pe("{model}:countTokens",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=dI(v),E=new kS;return Object.assign(E,S),E})}}async computeTokens(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const f=nI(this.apiClient,e);return l=pe("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>{const m=iI(p),v=new IR;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=FI(this.apiClient,e);return f=pe("{model}:predictLongRunning",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>{const S=GI(v),E=new rd;return Object.assign(E,S),E})}else{const m=VI(this.apiClient,e);return f=pe("{model}:predictLongRunning",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const S=zI(v),E=new rd;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ID extends ys{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=ER(e);return f=pe("{operationName}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c}else{const m=SR(e);return f=pe("{operationName}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const f=fR(e);return l=pe("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MD(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function DD(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>zD(l))),h(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&h(e,["role"],o),e}function LD(t,e,i){const o={},r=d(e,["expireTime"]);i!==void 0&&r!=null&&h(i,["expireTime"],r);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&h(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&h(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&h(i,["bidiGenerateContentSetup"],OD(t,f));const p=d(e,["lockAdditionalFields"]);return i!==void 0&&p!=null&&h(i,["fieldMask"],p),o}function kD(t,e){const i={},o=d(e,["config"]);return o!=null&&h(i,["config"],LD(t,o,i)),i}function UD(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function PD(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const o=d(t,["args"]);o!=null&&h(e,["args"],o);const r=d(t,["name"]);if(r!=null&&h(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qD(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function BD(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function HD(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig"],o);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const p=d(t,["maxOutputTokens"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","maxOutputTokens"],p);const m=d(t,["mediaResolution"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","mediaResolution"],m);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","speechConfig"],am(S));const E=d(t,["thinkingConfig"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","thinkingConfig"],E);const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],A);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&h(e,["setup","systemInstruction"],DD(Qt(x)));const _=d(t,["tools"]);if(e!==void 0&&_!=null){let ee=Ma(_);Array.isArray(ee)&&(ee=ee.map(te=>VD(Ia(te)))),h(e,["setup","tools"],ee)}const D=d(t,["sessionResumption"]);e!==void 0&&D!=null&&h(e,["setup","sessionResumption"],GD(D));const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&h(e,["setup","inputAudioTranscription"],k);const J=d(t,["outputAudioTranscription"]);e!==void 0&&J!=null&&h(e,["setup","outputAudioTranscription"],J);const H=d(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&h(e,["setup","realtimeInputConfig"],H);const ie=d(t,["contextWindowCompression"]);e!==void 0&&ie!=null&&h(e,["setup","contextWindowCompression"],ie);const Z=d(t,["proactivity"]);if(e!==void 0&&Z!=null&&h(e,["setup","proactivity"],Z),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function OD(t,e){const i={},o=d(e,["model"]);o!=null&&h(i,["setup","model"],Je(t,o));const r=d(e,["config"]);return r!=null&&h(i,["config"],HD(r,i)),i}function zD(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],UD(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],PD(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const p=d(t,["inlineData"]);p!=null&&h(e,["inlineData"],MD(p));const m=d(t,["text"]);m!=null&&h(e,["text"],m);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&h(e,["thoughtSignature"],S);const E=d(t,["videoMetadata"]);return E!=null&&h(e,["videoMetadata"],E),e}function GD(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function VD(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&h(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&h(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&h(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),h(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&h(e,["googleMaps"],qD(c));const f=d(t,["googleSearch"]);f!=null&&h(e,["googleSearch"],BD(f));const p=d(t,["googleSearchRetrieval"]);p!=null&&h(e,["googleSearchRetrieval"],p);const m=d(t,["urlContext"]);return m!=null&&h(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FD(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(l=>`${i}.${l}`);e.push(...r)}else e.push(i)}return e.join(",")}function YD(t,e){let i=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(i){const l=FD(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];r.length>0&&(f=r.map(m=>c.includes(m)?`generationConfig.${m}`:m));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class JD extends ys{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=kD(this.apiClient,e);l=pe("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const p=YD(f,e.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $D(t,e){const i={},o=d(t,["force"]);return e!==void 0&&o!=null&&h(e,["_query","force"],o),i}function KD(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const o=d(t,["config"]);return o!=null&&$D(o,e),e}function XD(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function QD(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),i}function WD(t){const e={},i=d(t,["parent"]);i!=null&&h(e,["_url","parent"],i);const o=d(t,["config"]);return o!=null&&QD(o,e),e}function ZD(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=d(t,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jD extends ys{constructor(e){super(),this.apiClient=e,this.list=async i=>new er(ps.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XD(e);return l=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var i,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KD(e);r=pe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=WD(e);return l=pe("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const m=ZD(p),v=new MR;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e2 extends ys{constructor(e,i=new jD(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new er(ps.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=FM(e);return l=pe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=$M(e);return l=pe("{name}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var i,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JM(e);r=pe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jM(e);return l=pe("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const m=eD(p),v=new DR;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=tD(e);return l=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const m=nD(p),v=new LR;return Object.assign(v,m),v})}}async importFile(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=QM(e);return l=pe("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const m=XM(p),v=new nm;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Mb=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Mb=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};const t2=()=>Mb();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sp(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ep=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn extends Error{}class nn extends Xn{constructor(e,i,o,r){super(`${nn.makeMessage(e,i,o)}`),this.status=e,this.headers=r,this.error=i}static makeMessage(e,i,o){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,i,o,r){if(!e||!r)return new Nd({message:o,cause:Ep(i)});const l=i;return e===400?new Lb(e,l,o,r):e===401?new kb(e,l,o,r):e===403?new Ub(e,l,o,r):e===404?new Pb(e,l,o,r):e===409?new qb(e,l,o,r):e===422?new Bb(e,l,o,r):e===429?new Hb(e,l,o,r):e>=500?new Ob(e,l,o,r):new nn(e,l,o,r)}}class bp extends nn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nd extends nn{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Db extends Nd{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Lb extends nn{}class kb extends nn{}class Ub extends nn{}class Pb extends nn{}class qb extends nn{}class Bb extends nn{}class Hb extends nn{}class Ob extends nn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n2=/^[a-z][a-z0-9+.-]*:/i,i2=t=>n2.test(t);let Tp=t=>(Tp=Array.isArray,Tp(t));const s2=Tp;let o2=s2;const nE=o2;function r2(t){if(!t)return!0;for(const e in t)return!1;return!0}function a2(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const l2=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Xn(`${t} must be an integer`);if(e<0)throw new Xn(`${t} must be a positive integer`);return e},u2=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c2=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d2(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const f2=()=>{var t,e,i,o,r;const l=d2();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":sE(Deno.build.os),"X-Stainless-Arch":iE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":sE((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":iE((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=h2();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function h2(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const o=i.exec(navigator.userAgent);if(o){const r=o[1]||0,l=o[2]||0,c=o[3]||0;return{browser:e,version:`${r}.${l}.${c}`}}}return null}const iE=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",sE=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Oc;const p2=()=>Oc??(Oc=f2());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m2(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zb(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function g2(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return zb({start(){},async pull(i){const{done:o,value:r}=await e.next();o?i.close():i.enqueue(r)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Gb(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function y2(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v2=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vb=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ep(t,e,i){return Vb(),new File(t,e??"unknown_file",i)}function S2(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const E2=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fb=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",b2=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Fb(t),T2=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function w2(t,e,i){if(Vb(),t=await t,b2(t))return t instanceof File?t:ep([await t.arrayBuffer()],t.name);if(T2(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ep(await wp(r),e,i)}const o=await wp(t);if(e||(e=S2(t)),!(i!=null&&i.type)){const r=o.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return ep(o,e,i)}async function wp(t){var e,i,o,r,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(Fb(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(E2(t))try{for(var f=!0,p=fi(t),m;m=await p.next(),e=m.done,!e;f=!0){r=m.value,f=!1;const v=r;c.push(...await wp(v))}}catch(v){i={error:v}}finally{try{!f&&!e&&(o=p.return)&&await o.call(p)}finally{if(i)throw i.error}}else{const v=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${A2(t)}`)}return c}function A2(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yb{constructor(e){this._client=e}}Yb._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jb(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const oE=Object.freeze(Object.create(null)),_2=(t=Jb)=>(function(i,...o){if(i.length===1)return i[0];let r=!1;const l=[],c=i.reduce((v,S,E)=>{var A,x,_;/[?#]/.test(S)&&(r=!0);const D=o[E];let k=(r?encodeURIComponent:t)(""+D);return E!==o.length&&(D==null||typeof D=="object"&&D.toString===((_=Object.getPrototypeOf((x=Object.getPrototypeOf((A=D.hasOwnProperty)!==null&&A!==void 0?A:oE))!==null&&x!==void 0?x:oE))===null||_===void 0?void 0:_.toString))&&(k=D+"",l.push({start:v.length+S.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),v+S+(E===o.length?"":k)},""),f=c.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=p.exec(f))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((v,S)=>v.start-S.start),l.length>0){let v=0;const S=l.reduce((E,A)=>{const x=" ".repeat(A.start-v),_="^".repeat(A.length);return v=A.start+A.length,E+x+_},"");throw new Xn(`Path parameters result in path with invalid segments:
${l.map(E=>E.error).join(`
`)}
${c}
${S}`)}return c}),zc=_2(Jb);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $b extends Yb{create(e,i){var o;const{api_version:r=this._client.apiVersion}=e,l=ld(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Xn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Xn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(zc`/${r}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,i={},o){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(zc`/${r}/interactions/${e}`,o)}cancel(e,i={},o){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(zc`/${r}/interactions/${e}/cancel`,o)}get(e,i={},o){var r;const l=i??{},{api_version:c=this._client.apiVersion}=l,f=ld(l,["api_version"]);return this._client.get(zc`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},o),{stream:(r=i==null?void 0:i.stream)!==null&&r!==void 0?r:!1}))}}$b._key=Object.freeze(["interactions"]);class Kb extends $b{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C2(t){let e=0;for(const r of t)e+=r.length;const i=new Uint8Array(e);let o=0;for(const r of t)i.set(r,o),o+=r.length;return i}let Gc;function um(t){let e;return(Gc??(e=new globalThis.TextEncoder,Gc=e.encode.bind(e)))(t)}let Vc;function rE(t){let e;return(Vc??(e=new globalThis.TextDecoder,Vc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Id{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?um(e):e;this.buffer=C2([this.buffer,i]);const o=[];let r;for(;(r=x2(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(rE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=rE(this.buffer.subarray(0,l));o.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Id.NEWLINE_CHARS=new Set([`
`,"\r"]);Id.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function x2(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function R2(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ud={off:0,error:200,warn:300,info:400,debug:500},aE=(t,e,i)=>{if(t){if(a2(ud,t))return t;tn(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ud))}`)}};function kl(){}function Fc(t,e,i){return!e||ud[t]>ud[i]?kl:e[t].bind(e)}const N2={error:kl,warn:kl,info:kl,debug:kl};let lE=new WeakMap;function tn(t){var e;const i=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return N2;const r=lE.get(i);if(r&&r[0]===o)return r[1];const l={error:Fc("error",i,o),warn:Fc("warn",i,o),info:Fc("info",i,o),debug:Fc("debug",i,o)};return lE.set(i,[o,l]),l}const Uo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let I2=class Ul{constructor(e,i,o){this.iterator=e,this.controller=i,this.client=o}static fromSSEResponse(e,i,o){let r=!1;const l=o?tn(o):console;function c(){return di(this,arguments,function*(){var p,m,v,S;if(r)throw new Xn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,x=fi(M2(e,i)),_;_=yield Re(x.next()),p=_.done,!p;A=!0){S=_.value,A=!1;const D=S;if(!E)if(D.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield Re(JSON.parse(D.data))}catch(k){throw l.error("Could not parse message into JSON:",D.data),l.error("From chunk:",D.raw),k}}}catch(D){m={error:D}}finally{try{!A&&!p&&(v=x.return)&&(yield Re(v.call(x)))}finally{if(m)throw m.error}}E=!0}catch(D){if(Sp(D))return yield Re(void 0);throw D}finally{E||i.abort()}})}return new Ul(c,i,o)}static fromReadableStream(e,i,o){let r=!1;function l(){return di(this,arguments,function*(){var p,m,v,S;const E=new Id,A=Gb(e);try{for(var x=!0,_=fi(A),D;D=yield Re(_.next()),p=D.done,!p;x=!0){S=D.value,x=!1;const k=S;for(const J of E.decode(k))yield yield Re(J)}}catch(k){m={error:k}}finally{try{!x&&!p&&(v=_.return)&&(yield Re(v.call(_)))}finally{if(m)throw m.error}}for(const k of E.flush())yield yield Re(k)})}function c(){return di(this,arguments,function*(){var p,m,v,S;if(r)throw new Xn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,x=fi(l()),_;_=yield Re(x.next()),p=_.done,!p;A=!0){S=_.value,A=!1;const D=S;E||D&&(yield yield Re(JSON.parse(D)))}}catch(D){m={error:D}}finally{try{!A&&!p&&(v=x.return)&&(yield Re(v.call(x)))}finally{if(m)throw m.error}}E=!0}catch(D){if(Sp(D))return yield Re(void 0);throw D}finally{E||i.abort()}})}return new Ul(c,i,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),r=l=>({next:()=>{if(l.length===0){const c=o.next();e.push(c),i.push(c)}return l.shift()}});return[new Ul(()=>r(e),this.controller,this.client),new Ul(()=>r(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return zb({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:l}=await i.next();if(l)return o.close();const c=um(JSON.stringify(r)+`
`);o.enqueue(c)}catch(r){o.error(r)}},async cancel(){var o;await((o=i.return)===null||o===void 0?void 0:o.call(i))}})}};function M2(t,e){return di(this,arguments,function*(){var o,r,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Xn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Xn("Attempted to iterate over a response with no body");const f=new L2,p=new Id,m=Gb(t.body);try{for(var v=!0,S=fi(D2(m)),E;E=yield Re(S.next()),o=E.done,!o;v=!0){c=E.value,v=!1;const A=c;for(const x of p.decode(A)){const _=f.decode(x);_&&(yield yield Re(_))}}}catch(A){r={error:A}}finally{try{!v&&!o&&(l=S.return)&&(yield Re(l.call(S)))}finally{if(r)throw r.error}}for(const A of p.flush()){const x=f.decode(A);x&&(yield yield Re(x))}})}function D2(t){return di(this,arguments,function*(){var i,o,r,l;let c=new Uint8Array;try{for(var f=!0,p=fi(t),m;m=yield Re(p.next()),i=m.done,!i;f=!0){l=m.value,f=!1;const v=l;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?um(v):v;let E=new Uint8Array(c.length+S.length);E.set(c),E.set(S,c.length),c=E;let A;for(;(A=R2(c))!==-1;)yield yield Re(c.slice(0,A)),c=c.slice(A)}}catch(v){o={error:v}}finally{try{!f&&!i&&(r=p.return)&&(yield Re(r.call(p)))}finally{if(o)throw o.error}}c.length>0&&(yield yield Re(c))})}class L2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,r]=k2(e,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function k2(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function U2(t,e){const{response:i,requestLogID:o,retryOfRequestLogID:r,startTime:l}=e,c=await(async()=>{var f;if(e.options.stream)return tn(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):I2.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const p=i.headers.get("content-type"),m=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return tn(t).debug(`[${o}] response parsed`,Uo({retryOfRequestLogID:r,url:i.url,status:i.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cm extends Promise{constructor(e,i,o=U2){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new cm(this.client,this.responsePromise,async(i,o)=>e(await this.parseResponse(i,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xb=Symbol("brand.privateNullableHeaders");function*P2(t){if(!t)return;if(Xb in t){const{values:o,nulls:r}=t;yield*o.entries();for(const l of r)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():nE(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let o of i){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const l=nE(o[1])?o[1]:[o[1]];let c=!1;for(const f of l)f!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,f])}}const Dl=t=>{const e=new Headers,i=new Set;for(const o of t){const r=new Set;for(const[l,c]of P2(o)){const f=l.toLowerCase();r.has(f)||(e.delete(l),r.add(f)),c===null?(e.delete(l),i.add(f)):(e.append(l,c),i.delete(f))}}return{[Xb]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tp=t=>{var e,i,o,r,l,c;if(typeof globalThis.process<"u")return(o=(i=(e=rR)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||l===void 0?void 0:l.call(r,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qb;class Md{constructor(e){var i,o,r,l,c,f,p,{baseURL:m=tp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=tp("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=e,E=ld(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:S},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(o=A.timeout)!==null&&o!==void 0?o:Md.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const x="warn";this.logLevel=x,this.logLevel=(c=(l=aE(A.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:aE(tp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:x,this.fetchOptions=A.fetchOptions,this.maxRetries=(f=A.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=A.fetch)!==null&&p!==void 0?p:m2(),this.encoder=v2,this._options=A,this.apiKey=v,this.apiVersion=S,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Dl([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Dl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Dl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new Xn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Yr}`}defaultIdempotencyKey(){return`stainless-node-retry-${t2()}`}makeStatusError(e,i,o,r){return nn.generate(e,i,o,r)}buildURL(e,i,o){const r=!this.baseURLOverridden()&&o||this.baseURL,l=i2(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return r2(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:i},r)))}request(e,i=null){return new cm(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var r,l,c;const f=await e,p=(r=f.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=p),await this.prepareOptions(f);const{req:m,url:v,timeout:S}=await this.buildRequest(f,{retryCount:p-i});await this.prepareRequest(m,{url:v,options:f});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=o===void 0?"":`, retryOf: ${o}`,x=Date.now();if(tn(this).debug(`[${E}] sending request`,Uo({retryOfRequestLogID:o,method:f.method,url:v,options:f,headers:m.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new bp;const _=new AbortController,D=await this.fetchWithTimeout(v,m,S,_).catch(Ep),k=Date.now();if(D instanceof globalThis.Error){const H=`retrying, ${i} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new bp;const ie=Sp(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(i)return tn(this).info(`[${E}] connection ${ie?"timed out":"failed"} - ${H}`),tn(this).debug(`[${E}] connection ${ie?"timed out":"failed"} (${H})`,Uo({retryOfRequestLogID:o,url:v,durationMs:k-x,message:D.message})),this.retryRequest(f,i,o??E);throw tn(this).info(`[${E}] connection ${ie?"timed out":"failed"} - error; no more retries left`),tn(this).debug(`[${E}] connection ${ie?"timed out":"failed"} (error; no more retries left)`,Uo({retryOfRequestLogID:o,url:v,durationMs:k-x,message:D.message})),ie?new Db:new Nd({cause:D})}const J=`[${E}${A}] ${m.method} ${v} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${k-x}ms`;if(!D.ok){const H=await this.shouldRetry(D);if(i&&H){const W=`retrying, ${i} attempts remaining`;return await y2(D.body),tn(this).info(`${J} - ${W}`),tn(this).debug(`[${E}] response error (${W})`,Uo({retryOfRequestLogID:o,url:D.url,status:D.status,headers:D.headers,durationMs:k-x})),this.retryRequest(f,i,o??E,D.headers)}const ie=H?"error; no more retries left":"error; not retryable";tn(this).info(`${J} - ${ie}`);const Z=await D.text().catch(W=>Ep(W).message),ee=u2(Z),te=ee?void 0:Z;throw tn(this).debug(`[${E}] response error (${ie})`,Uo({retryOfRequestLogID:o,url:D.url,status:D.status,headers:D.headers,message:te,durationMs:Date.now()-x})),this.makeStatusError(D.status,ee,te,D.headers)}return tn(this).info(J),tn(this).debug(`[${E}] response start`,Uo({retryOfRequestLogID:o,url:D.url,status:D.status,headers:D.headers,durationMs:k-x})),{response:D,options:f,controller:_,requestLogID:E,retryOfRequestLogID:o,startTime:x}}async fetchWithTimeout(e,i,o,r){const l=i||{},{signal:c,method:f}=l,p=ld(l,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),o),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);f&&(S.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(m)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,r){var l;let c;const f=r==null?void 0:r.get("retry-after-ms");if(f){const m=parseFloat(f);Number.isNaN(m)||(c=m)}const p=r==null?void 0:r.get("retry-after");if(p&&!c){const m=parseFloat(p);Number.isNaN(m)?c=Date.parse(p)-Date.now():c=m*1e3}if(!(c&&0<=c&&c<60*1e3)){const m=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,m)}return await c2(c),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,c=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:i=0}={}){var o,r,l;const c=Object.assign({},e),{method:f,path:p,query:m,defaultBaseURL:v}=c,S=this.buildURL(p,m,v);"timeout"in c&&l2("timeout",c.timeout),c.timeout=(o=c.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:c}),x=await this.buildHeaders({options:e,method:f,bodyHeaders:E,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:x},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:S,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:r}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let f=Dl([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),p2()),this._options.defaultHeaders,o,e.headers,c]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Dl([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:g2(e)}:this.encoder({body:e,headers:o})}}Md.DEFAULT_TIMEOUT=6e4;class Lt extends Md{constructor(){super(...arguments),this.interactions=new Kb(this)}}Qb=Lt;Lt.GeminiNextGenAPIClient=Qb;Lt.GeminiNextGenAPIClientError=Xn;Lt.APIError=nn;Lt.APIConnectionError=Nd;Lt.APIConnectionTimeoutError=Db;Lt.APIUserAbortError=bp;Lt.NotFoundError=Pb;Lt.ConflictError=qb;Lt.RateLimitError=Hb;Lt.BadRequestError=Lb;Lt.AuthenticationError=kb;Lt.InternalServerError=Ob;Lt.PermissionDeniedError=Ub;Lt.UnprocessableEntityError=Bb;Lt.toFile=w2;Lt.Interactions=Kb;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q2(t,e){const i={},o=d(t,["name"]);return o!=null&&h(i,["_url","name"],o),i}function B2(t,e){const i={},o=d(t,["name"]);return o!=null&&h(i,["_url","name"],o),i}function H2(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&h(i,["sdkHttpResponse"],o),i}function O2(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&h(i,["sdkHttpResponse"],o),i}function z2(t,e,i){const o={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&h(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&h(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&h(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(t,["learningRate"]);if(e!==void 0&&p!=null&&h(e,["tuningTask","hyperparameters","learningRate"],p),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function G2(t,e,i){const o={};let r=d(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=d(t,["validationDataset"]);e!==void 0&&A!=null&&h(e,["supervisedTuningSpec"],uE(A))}else if(r==="PREFERENCE_TUNING"){const A=d(t,["validationDataset"]);e!==void 0&&A!=null&&h(e,["preferenceOptimizationSpec"],uE(A))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let f=d(i,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const A=d(t,["epochCount"]);e!==void 0&&A!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(f==="PREFERENCE_TUNING"){const A=d(t,["epochCount"]);e!==void 0&&A!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=d(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(p==="PREFERENCE_TUNING"){const A=d(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let m=d(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const A=d(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(m==="PREFERENCE_TUNING"){const A=d(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=d(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=d(t,["adapterSize"]);e!==void 0&&A!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=d(t,["adapterSize"]);e!==void 0&&A!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=d(t,["labels"]);e!==void 0&&S!=null&&h(e,["labels"],S);const E=d(t,["beta"]);return e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),o}function V2(t,e){const i={},o=d(t,["baseModel"]);o!=null&&h(i,["baseModel"],o);const r=d(t,["preTunedModel"]);r!=null&&h(i,["preTunedModel"],r);const l=d(t,["trainingDataset"]);l!=null&&eL(l);const c=d(t,["config"]);return c!=null&&z2(c,i),i}function F2(t,e){const i={},o=d(t,["baseModel"]);o!=null&&h(i,["baseModel"],o);const r=d(t,["preTunedModel"]);r!=null&&h(i,["preTunedModel"],r);const l=d(t,["trainingDataset"]);l!=null&&tL(l,i,e);const c=d(t,["config"]);return c!=null&&G2(c,i,e),i}function Y2(t,e){const i={},o=d(t,["name"]);return o!=null&&h(i,["_url","name"],o),i}function J2(t,e){const i={},o=d(t,["name"]);return o!=null&&h(i,["_url","name"],o),i}function $2(t,e,i){const o={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),o}function K2(t,e,i){const o={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),o}function X2(t,e){const i={},o=d(t,["config"]);return o!=null&&$2(o,i),i}function Q2(t,e){const i={},o=d(t,["config"]);return o!=null&&K2(o,i),i}function W2(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&h(i,["sdkHttpResponse"],o);const r=d(t,["nextPageToken"]);r!=null&&h(i,["nextPageToken"],r);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Wb(f))),h(i,["tuningJobs"],c)}return i}function Z2(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&h(i,["sdkHttpResponse"],o);const r=d(t,["nextPageToken"]);r!=null&&h(i,["nextPageToken"],r);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Ap(f))),h(i,["tuningJobs"],c)}return i}function j2(t,e){const i={},o=d(t,["name"]);o!=null&&h(i,["model"],o);const r=d(t,["name"]);return r!=null&&h(i,["endpoint"],r),i}function eL(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=d(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),h(i,["examples","examples"],r)}return i}function tL(t,e,i){const o={};let r=d(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Wb(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&h(i,["sdkHttpResponse"],o);const r=d(t,["name"]);r!=null&&h(i,["name"],r);const l=d(t,["state"]);l!=null&&h(i,["state"],hb(l));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&h(i,["startTime"],f);const p=d(t,["tuningTask","completeTime"]);p!=null&&h(i,["endTime"],p);const m=d(t,["updateTime"]);m!=null&&h(i,["updateTime"],m);const v=d(t,["description"]);v!=null&&h(i,["description"],v);const S=d(t,["baseModel"]);S!=null&&h(i,["baseModel"],S);const E=d(t,["_self"]);return E!=null&&h(i,["tunedModel"],j2(E)),i}function Ap(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&h(i,["sdkHttpResponse"],o);const r=d(t,["name"]);r!=null&&h(i,["name"],r);const l=d(t,["state"]);l!=null&&h(i,["state"],hb(l));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(i,["startTime"],f);const p=d(t,["endTime"]);p!=null&&h(i,["endTime"],p);const m=d(t,["updateTime"]);m!=null&&h(i,["updateTime"],m);const v=d(t,["error"]);v!=null&&h(i,["error"],v);const S=d(t,["description"]);S!=null&&h(i,["description"],S);const E=d(t,["baseModel"]);E!=null&&h(i,["baseModel"],E);const A=d(t,["tunedModel"]);A!=null&&h(i,["tunedModel"],A);const x=d(t,["preTunedModel"]);x!=null&&h(i,["preTunedModel"],x);const _=d(t,["supervisedTuningSpec"]);_!=null&&h(i,["supervisedTuningSpec"],_);const D=d(t,["preferenceOptimizationSpec"]);D!=null&&h(i,["preferenceOptimizationSpec"],D);const k=d(t,["tuningDataStats"]);k!=null&&h(i,["tuningDataStats"],k);const J=d(t,["encryptionSpec"]);J!=null&&h(i,["encryptionSpec"],J);const H=d(t,["partnerModelTuningSpec"]);H!=null&&h(i,["partnerModelTuningSpec"],H);const ie=d(t,["customBaseModel"]);ie!=null&&h(i,["customBaseModel"],ie);const Z=d(t,["experiment"]);Z!=null&&h(i,["experiment"],Z);const ee=d(t,["labels"]);ee!=null&&h(i,["labels"],ee);const te=d(t,["outputUri"]);te!=null&&h(i,["outputUri"],te);const Se=d(t,["pipelineJob"]);Se!=null&&h(i,["pipelineJob"],Se);const W=d(t,["serviceAccount"]);W!=null&&h(i,["serviceAccount"],W);const P=d(t,["tunedModelDisplayName"]);P!=null&&h(i,["tunedModelDisplayName"],P);const he=d(t,["veoTuningSpec"]);return he!=null&&h(i,["veoTuningSpec"],he),i}function nL(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&h(i,["sdkHttpResponse"],o);const r=d(t,["name"]);r!=null&&h(i,["name"],r);const l=d(t,["metadata"]);l!=null&&h(i,["metadata"],l);const c=d(t,["done"]);c!=null&&h(i,["done"],c);const f=d(t,["error"]);return f!=null&&h(i,["error"],f),i}function uE(t,e){const i={},o=d(t,["gcsUri"]);o!=null&&h(i,["validationDatasetUri"],o);const r=d(t,["vertexDatasetResource"]);return r!=null&&h(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iL extends ys{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new er(ps.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:r});return l.baseModel=void 0,await this.tuneInternal(l)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),l=await this.tuneMldevInternal(r);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:dp.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=J2(e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>Ap(v))}else{const m=Y2(e);return f=pe("{name}",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>Wb(v))}}async listInternal(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=Q2(e);return f=pe("tuningJobs",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=Z2(v),E=new US;return Object.assign(E,S),E})}else{const m=X2(e);return f=pe("tunedModels",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=W2(v),E=new US;return Object.assign(E,S),E})}}async cancel(e){var i,o,r,l;let c,f="",p={};if(this.apiClient.isVertexAI()){const m=B2(e);return f=pe("{name}:cancel",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=O2(v),E=new PS;return Object.assign(E,S),E})}else{const m=q2(e);return f=pe("{name}:cancel",m._url),p=m._query,delete m._url,delete m._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),c.then(v=>{const S=H2(v),E=new PS;return Object.assign(E,S),E})}}async tuneInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const f=F2(e,e);return l=pe("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>Ap(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=V2(e);return l=pe("tunedModels",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),r.then(p=>nL(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sL{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const oL=1024*1024*8,rL=3,aL=1e3,lL=2,cd="x-goog-upload-status";async function uL(t,e,i){var o;const r=await Zb(t,e,i),l=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[cd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function cL(t,e,i){var o;const r=await Zb(t,e,i),l=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[cd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=ab(l),f=new im;return Object.assign(f,c),f}async function Zb(t,e,i){var o,r;let l=0,c=0,f=new hp(new Response),p="upload";for(l=t.size;c<l;){const m=Math.min(oL,l-c),v=t.slice(c,c+m);c+m>=l&&(p+=", finalize");let S=0,E=aL;for(;S<rL&&(f=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(c),"Content-Length":String(m)}}}),!(!((o=f==null?void 0:f.headers)===null||o===void 0)&&o[cd]));)S++,await fL(E),E=E*lL;if(c+=m,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r[cd])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function dL(t){return{size:t.size,type:t.type}}function fL(t){return new Promise(e=>setTimeout(e,t))}class hL{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uL(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cL(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pL{create(e,i,o){return new mL(e,i,o)}}class mL{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cE="x-goog-api-key";class gL{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(cE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(cE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yL="gl-node/";class vL{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new Lt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=cR(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new gL(this.apiKey);this.apiClient=new cD({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yL+"web",uploader:new hL,downloader:new sL}),this.models=new ND(this.apiClient),this.live=new wD(this.apiClient,r,new pL),this.batches=new HN(this.apiClient),this.chats=new E1(this.models,this.apiClient),this.caches=new y1(this.apiClient),this.files=new I1(this.apiClient),this.operations=new ID(this.apiClient),this.authTokens=new JD(this.apiClient),this.tunings=new iL(this.apiClient),this.fileSearchStores=new e2(this.apiClient)}}Ve.OBJECT,Ve.ARRAY,Ve.OBJECT,Ve.STRING,Ve.STRING;const SL={type:Ve.OBJECT,properties:{title:{type:Ve.STRING,description:"A catchy, SEO-friendly headline."},summary:{type:Ve.STRING,description:"A 2-sentence executive summary."},sections:{type:Ve.ARRAY,items:{type:Ve.OBJECT,properties:{heading:{type:Ve.STRING,description:"Section sub-headline."},content:{type:Ve.STRING,description:"The analysis content for this section."}},required:["heading","content"]}},tags:{type:Ve.ARRAY,items:{type:Ve.STRING},description:"3-5 SEO keywords."}},required:["title","summary","sections","tags"]},EL={type:Ve.OBJECT,properties:{title:{type:Ve.STRING,description:"A profound, thought-provoking title for the meta-analysis."},content:{type:Ve.STRING,description:"The main philosophical synthesis and analysis."},themes:{type:Ve.ARRAY,items:{type:Ve.STRING},description:"3-5 overarching philosophical themes connecting the narratives."},paradoxes:{type:Ve.ARRAY,items:{type:Ve.STRING},description:"2-4 paradoxes or tensions between different worldviews."},futureImplications:{type:Ve.ARRAY,items:{type:Ve.STRING},description:"3-5 future implications and questions to ponder."},tags:{type:Ve.ARRAY,items:{type:Ve.STRING},description:"3-5 philosophical keywords."}},required:["title","content","themes","paradoxes","futureImplications","tags"]};class bL{constructor(e,i){if(this.name="Gemini",!i)throw new Error("GEMINI_MODEL must be set in the environment");this.model=i,this.client=new vL({apiKey:e})}async generateText(e){console.log(` Gemini Provider (${this.model}): Generating text`);try{return(await this.client.models.generateContent({model:this.model,contents:e})).response.text()}catch(i){throw console.error("Error generating text with Gemini:",i),i}}async research(){var e;console.log(` Gemini Provider (${this.model}): Researching news stories`);try{const i=await this.client.models.generateContent({model:this.model,contents:`
          Find the top 3 biggest global news stories right now. 
          Focus on events with significant geopolitical, scientific, or social impact. 
          Return ONLY valid JSON in this exact format: 
          {"stories": [{"topic":"headline here","context":"brief summary here"}, ...]}
        `,config:{tools:[{googleSearch:{}}],systemInstruction:`
            You are an elite Research AI. 
            Your job is to scour the web for the most impactful news stories. 
            Ignore celebrity gossip. Focus on macro-level events. 
            Return exactly 3 stories. 
            Output ONLY valid JSON as specified.
          `}});let o=[];try{const r=JSON.parse(i.text||'{"stories": []}');Array.isArray(r.stories)&&(o=r.stories)}catch{const l=(e=i.text)==null?void 0:e.match(/\{\s*"stories"\s*:\s*\[.*\]\s*\}/s);if(l)try{const c=JSON.parse(l[0]);Array.isArray(c.stories)&&(o=c.stories)}catch{}if(!o.length&&i.text){const c=/\d+\.\s+\*\*(.+?)\*\*\s+([\s\S]+?)(?=(\n\d+\.|$))/g;let f;for(;(f=c.exec(i.text))!==null;){const p=f[1].trim(),m=f[2].replace(/\s+/g," ").trim();o.push({topic:p,context:m})}}if(!o.length&&i.text){const c=/topic\s*:\s*"([^"\n]+)"[\s,\n]*context\s*:\s*"([^"\n]+)"/gi;let f;for(;(f=c.exec(i.text))!==null;)o.push({topic:f[1],context:f[2]})}}return o.slice(0,3)}catch(i){throw console.error("Gemini Research Error:",i),new Error("Gemini research failed")}}async writeArticle(e){console.log(` Gemini Provider (${this.model}): Writing article for "${e.topic}"`);try{const i=`
        Topic: ${e.topic}
        Context: ${e.context}

        Write a deep-dive analysis article. 
        constraints:
        - NO INTRODUCTIONS OF YOURSELF. NO BIOS.
        - PURE VIEWPOINT.
        - Analyze from these angles: Moral implications, Economic impact, Human Progress/Evolution.
        - 3-4 Distinct sections.
        - Catchy, provocative title.
      `,o=await this.client.models.generateContent({model:this.model,contents:i,config:{responseMimeType:"application/json",responseSchema:SL,systemInstruction:`
            You are a visionary Journalist AI. 
            You write with the depth of a philosopher and the sharpness of an economist. 
            You do not fluff. 
            You analyze deeply.
          `}}),r=JSON.parse(o.text||"{}");return{id:`article-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,timestamp:Date.now(),sourceTopic:e.topic,imageUrl:`https://picsum.photos/800/600?random=${Math.floor(Math.random()*1e3)}`,...r}}catch(i){throw console.error("Gemini Writing Error:",i),new Error("Gemini article generation failed")}}async synthesizePhilosophy(e){console.log(` Gemini Provider (${this.model}): Synthesizing philosophy from ${e.length} articles`);try{const i=e.map(p=>`
Title: ${p.title}
Summary: ${p.summary}
Tags: ${p.tags.join(", ")}
      `).join(`
---
`),o=`
Analyze these ${e.length} articles and create a meta-philosophical synthesis.

Articles:
${i}

Your task:
1. Identify overarching philosophical themes that connect these narratives
2. Explore paradoxes and tensions between different worldviews presented
3. Analyze what this collection reveals about humanity's current trajectory
4. Articulate future implications and deep questions to ponder

Write a profound, thought-provoking analysis that reveals the zeitgeist.
      `,r=await this.client.models.generateContent({model:this.model,contents:o,config:{responseMimeType:"application/json",responseSchema:EL,systemInstruction:`
            You are a meta-philosopher analyzing the zeitgeist. 
            You see patterns others miss. 
            You connect disparate events into a coherent narrative about humanity's evolution.
            You write with the depth of a philosopher-historian looking back from the future.
            You are profound, not verbose. Every word matters.
          `}}),l=JSON.parse(r.text||"{}"),c=e.map(p=>p.timestamp).sort((p,m)=>p-m),f={start:c[0],end:c[c.length-1]};return{id:`summary-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,timestamp:Date.now(),articleIds:e.map(p=>p.id),dateRange:f,title:l.title,content:l.content,tags:l.tags||[],synthesis:{themes:l.themes||[],paradoxes:l.paradoxes||[],futureImplications:l.futureImplications||[]}}}catch(i){throw console.error("Gemini Philosophy Synthesis Error:",i),new Error("Gemini philosophy synthesis failed")}}}class TL{constructor(e="http://localhost:11434",i="llama3.2"){this.name="Ollama",this.baseUrl=e,this.model=i}async research(){console.log(` Ollama Provider (${this.model}): Researching news stories`);try{const i=await fetch(`${this.baseUrl}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.model,prompt:`Generate 3 current global news stories that are significant and impactful. 
      Return ONLY valid JSON in this exact format with no additional text:
      {
        "stories": [
          {"topic": "headline here", "context": "brief summary here"},
          {"topic": "headline here", "context": "brief summary here"},
          {"topic": "headline here", "context": "brief summary here"}
        ]
      }`,stream:!1,format:"json"})});if(!i.ok)throw new Error(`Ollama API error: ${i.statusText}`);const o=await i.json();return JSON.parse(o.response).stories||[]}catch(e){throw console.error("Ollama Research Error:",e),new Error("Ollama research failed")}}async generateText(e){console.log(` Ollama Provider (${this.model}): Generating text`);try{const i=await fetch(`${this.baseUrl}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.model,prompt:e,stream:!1})});if(!i.ok)throw new Error(`Ollama API error: ${i.statusText}`);return(await i.json()).response}catch(i){throw console.error("Ollama Generation Error:",i),new Error("Ollama text generation failed")}}async writeArticle(e){console.log(` Ollama Provider (${this.model}): Writing article for "${e.topic}"`);try{const i=`Topic: ${e.topic}
Context: ${e.context}

Write a deep analytical article about this topic. Return ONLY valid JSON in this exact format with no additional text:
{
  "title": "Catchy, provocative headline",
  "summary": "2-sentence executive summary",
  "sections": [
    {"heading": "Section title", "content": "Detailed analysis paragraph"},
    {"heading": "Section title", "content": "Detailed analysis paragraph"},
    {"heading": "Section title", "content": "Detailed analysis paragraph"}
  ],
  "tags": ["keyword1", "keyword2", "keyword3"]
}

Focus on moral implications, economic impact, and human progress. Be philosophical and sharp. No fluff.`,o=await fetch(`${this.baseUrl}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.model,prompt:i,stream:!1,format:"json"})});if(!o.ok)throw new Error(`Ollama API error: ${o.statusText}`);const r=await o.json(),l=JSON.parse(r.response);return{id:`article-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,timestamp:Date.now(),sourceTopic:e.topic,imageUrl:`https://picsum.photos/800/600?random=${Math.floor(Math.random()*1e3)}`,...l}}catch(i){throw console.error("Ollama Writing Error:",i),new Error("Ollama article generation failed")}}async synthesizePhilosophy(e){console.log(` Ollama Provider (${this.model}): Synthesizing philosophy from ${e.length} articles`);try{const i=e.map(m=>`
Title: ${m.title}
Summary: ${m.summary}
Tags: ${m.tags.join(", ")}
      `).join(`
---
`),o=`Analyze these ${e.length} articles and create a meta-philosophical synthesis.

Articles:
${i}

Return ONLY valid JSON in this exact format with no additional text:
{
  "title": "A profound, thought-provoking title",
  "content": "The main philosophical synthesis and deep analysis",
  "themes": ["theme 1", "theme 2", "theme 3"],
  "paradoxes": ["paradox 1", "paradox 2"],
  "futureImplications": ["implication 1", "implication 2", "implication 3"],
  "tags": ["keyword1", "keyword2", "keyword3"]
}

Identify overarching philosophical themes, paradoxes, what this reveals about humanity's trajectory, and future implications.`,r=await fetch(`${this.baseUrl}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.model,prompt:o,stream:!1,format:"json"})});if(!r.ok)throw new Error(`Ollama API error: ${r.statusText}`);const l=await r.json(),c=JSON.parse(l.response),f=e.map(m=>m.timestamp).sort((m,v)=>m-v),p={start:f[0],end:f[f.length-1]};return{id:`summary-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,timestamp:Date.now(),articleIds:e.map(m=>m.id),dateRange:p,title:c.title,content:c.content,tags:c.tags||[],synthesis:{themes:c.themes||[],paradoxes:c.paradoxes||[],futureImplications:c.futureImplications||[]}}}catch(i){throw console.error("Ollama Philosophy Synthesis Error:",i),new Error("Ollama philosophy synthesis failed")}}}class dm{static createProvider(e,i){switch(e.toLowerCase()){case"mock":return new M0;case"gemini":if(!(i!=null&&i.apiKey))throw new Error("Gemini API key is required");return new bL(i.apiKey,i.model);case"ollama":return new TL(i==null?void 0:i.baseUrl,i==null?void 0:i.model);default:return console.warn(`Unknown provider "${e}", falling back to Mock`),new M0}}static createResearcher(){const e="gemini";let i={};return i.apiKey="AIzaSyCxaoRnnqL8rvwRbznummfoT75f_E2s9So",i.model="gemini-2.5-flash",console.log(` Researcher: ${e.toUpperCase()} using model ${i.model}`),this.createProvider(e,i)}static createJournalist(){const e="gemini";let i={};return i.apiKey="AIzaSyCxaoRnnqL8rvwRbznummfoT75f_E2s9So",i.model="gemini-2.5-flash",console.log(`  Journalist: ${e.toUpperCase()} using model ${i.model}`),this.createProvider(e,i)}static createPhilosopher(){const e="gemini";let i={};return i.apiKey="AIzaSyCxaoRnnqL8rvwRbznummfoT75f_E2s9So",i.model="gemini-2.5-flash",console.log(` Philosopher: ${e.toUpperCase()} using model ${i.model}`),this.createProvider(e,i)}}const wL="runwayml/stable-diffusion-v1-5";class AL{constructor(e){if(!e)throw new Error("Hugging Face API key is required.");this.apiKey=e}async generateImage(e){try{const i=`${window.location.origin}/api/huggingface-proxy`,o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,model:wL})});if(!o.ok){const c=await o.json().catch(()=>({error:o.statusText}));throw new Error(`${o.status}  ${c.error||o.statusText}`)}const r=await o.arrayBuffer(),l=new Blob([r],{type:"image/png"});return URL.createObjectURL(l)}catch(i){throw console.error("Error generating image with Hugging Face:",i),i}}}class _p{async generateImage(e){try{const o=`https://picsum.photos/seed/${Math.abs(e.split("").reduce((r,l)=>r+l.charCodeAt(0),0))}/800/600`;return console.log(`Generated image URL for "${e}": ${o}`),o}catch(i){throw console.error("Error generating image with Picsum:",i),i}}}class _L{static createProvider(e,i){switch(e){case"huggingface":if(!i)throw new Error("Hugging Face requires an API key");return new AL(i);case"pollinations":return new _p;default:return new _p}}}const CL=dm.createResearcher(),dd=dm.createJournalist(),xL=dm.createPhilosopher();console.log("VITE_HUGGING_FACE_API_KEY:",void 0);const RL=_L.createProvider("huggingface",void 0),NL=new _p,IL=async()=>CL.research(),dE=async t=>dd.writeArticle(t),ML=async t=>xL.synthesizePhilosophy(t),jb=async t=>{try{return await RL.generateImage(t)}catch(e){return console.warn("Primary image provider failed, falling back to Pollinations:",e),await NL.generateImage(t)}},eT=async t=>{const e=`You are a tagging assistant. Based on this article context, generate exactly 3-5 relevant tags.

RULES:
- Return ONLY the tags as a comma-separated list
- No explanations, no conversational text
- Just the tags: tag1, tag2, tag3

Article context:
${t}

Tags:`;return(await dd.generateText(e)).trim().replace(/^[\s\S]*?Tags:\s*/i,"").split(",").map(r=>r.trim()).filter(r=>r.length>0)},tT=async t=>{const e=`You are an SEO expert. Based on this article context, create ONE concise, SEO-friendly title.

RULES:
- Return ONLY the title text
- No quotes, no explanations
- Maximum 60 characters
- Make it compelling and keyword-rich

Article context:
${t}

SEO Title:`,i=(await dd.generateText(e)).trim().replace(/^["']|["']$/g,""),o=`You are an SEO expert. Based on this article context, create ONE compelling meta description.

RULES:
- Return ONLY the description text
- No quotes, no explanations
- 150-160 characters exactly
- Make it engaging and include key terms

Article context:
${t}

Meta Description:`,r=(await dd.generateText(o)).trim().replace(/^["']|["']$/g,"");return{title:i,description:r}},DL=({onInjectStory:t,isProcessing:e})=>{const[i,o]=B.useState(""),[r,l]=B.useState(""),[c,f]=B.useState(""),[p,m]=B.useState(""),[v,S]=B.useState(""),[E,A]=B.useState(""),[x,_]=B.useState(!1),[D,k]=B.useState(!1),J=async()=>{if(i){_(!0);try{const ee=await jb(i);f(ee)}catch(ee){console.error("Image generation failed:",ee)}finally{_(!1)}}},H=async()=>{if(r){_(!0);try{const ee=await eT(r);m(ee.join(", "))}catch(ee){console.error("Tag generation failed:",ee)}finally{_(!1)}}},ie=async()=>{if(r){_(!0);try{const{title:ee,description:te}=await tT(r);S(ee),A(te)}catch(ee){console.error("SEO metadata generation failed:",ee)}finally{_(!1)}}},Z=ee=>{ee.preventDefault(),!(!i.trim()||!r.trim())&&(t({topic:i,context:r,imageUrl:c,tags:p.split(",").map(te=>te.trim()).filter(te=>te),seo:{title:v,description:E}}),o(""),l(""),f(""),m(""),S(""),A(""))};return D?w.jsx("div",{className:"fixed bottom-6 right-6 z-200 w-full max-w-md animate-[slideUp_0.3s_ease-out]",children:w.jsxs("div",{className:"bg-ink text-white p-6 rounded-lg shadow-2xl border border-gray-800",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h3",{className:"font-mono text-sm uppercase tracking-widest text-accent flex items-center gap-2",children:[w.jsx(x0,{size:14})," Admin Override"]}),w.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-white",children:"Esc"})]}),w.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"Story Topic / Headline"}),w.jsx("input",{type:"text",value:i,onChange:ee=>o(ee.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-sm focus:border-accent focus:outline-none",placeholder:"e.g. Breakthrough in Fusion Energy"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"Context / Research Notes"}),w.jsx("textarea",{value:r,onChange:ee=>l(ee.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-sm focus:border-accent focus:outline-none h-24",placeholder:"Provide context for the Journalist AI to analyze..."})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[w.jsxs("button",{type:"button",onClick:J,disabled:x||!i,className:"text-xs bg-gray-800 hover:bg-gray-700 p-2 rounded flex items-center justify-center gap-1 disabled:opacity-50",children:[x?w.jsx(Hc,{size:14,className:"animate-spin"}):w.jsx(Px,{size:14})," Image"]}),w.jsxs("button",{type:"button",onClick:H,disabled:x||!r,className:"text-xs bg-gray-800 hover:bg-gray-700 p-2 rounded flex items-center justify-center gap-1 disabled:opacity-50",children:[x?w.jsx(Hc,{size:14,className:"animate-spin"}):w.jsx($x,{size:14})," Tags"]}),w.jsxs("button",{type:"button",onClick:ie,disabled:x||!r,className:"text-xs bg-gray-800 hover:bg-gray-700 p-2 rounded flex items-center justify-center gap-1 disabled:opacity-50",children:[x?w.jsx(Hc,{size:14,className:"animate-spin"}):w.jsx(sb,{size:14})," SEO"]})]}),c&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"Generated Image"}),w.jsx("img",{src:c,alt:"Generated",className:"w-full rounded"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"Tags (comma-separated)"}),w.jsx("input",{type:"text",value:p,onChange:ee=>m(ee.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-sm focus:border-accent focus:outline-none",placeholder:"e.g. tech, ai, future"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"SEO Title"}),w.jsx("input",{type:"text",value:v,onChange:ee=>S(ee.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-sm focus:border-accent focus:outline-none",placeholder:"SEO-friendly title"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"SEO Description"}),w.jsx("textarea",{value:E,onChange:ee=>A(ee.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-sm focus:border-accent focus:outline-none h-16",placeholder:"Meta description for SEO"})]}),w.jsxs("button",{type:"submit",disabled:e||x,className:"w-full bg-white text-black font-bold py-2 px-4 rounded hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[e?w.jsx(Hc,{size:16,className:"animate-spin"}):w.jsx(Gx,{size:16}),e?"Agent Working...":"Dispatch to Journalist AI"]})]})]})}):w.jsx("button",{onClick:()=>k(!0),className:"fixed bottom-6 right-6 bg-black text-white p-4 rounded-full shadow-2xl hover:bg-gray-800 transition-all z-40 group",children:w.jsx(x0,{size:24,className:"group-hover:rotate-90 transition-transform"})})},Fr=10,LL=({tags:t,selectedTag:e,onSelectTag:i,tagCounts:o={}})=>{const[r,l]=B.useState(!1);if(t.length===0)return null;const c=r?t:t.slice(0,Fr),f=t.length>Fr;return w.jsxs("div",{className:"mb-10 animate-[fadeIn_0.5s_ease-out]",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[w.jsx(ob,{size:14,className:"text-gray-400"}),w.jsx("span",{className:"text-xs font-mono uppercase tracking-widest text-gray-400",children:"Filter by Theme"})]}),w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsx("button",{onClick:()=>i(null),className:`px-4 py-2 text-xs font-bold uppercase tracking-wider border rounded-sm transition-all duration-300 ${e===null?"bg-black text-white border-black":"bg-transparent text-gray-400 border-gray-200 hover:border-black hover:text-black"}`,children:"All Stories"}),c.map((p,m)=>w.jsxs("button",{onClick:()=>i(p===e?null:p),className:`px-4 py-2 text-xs font-bold uppercase tracking-wider border rounded-sm transition-all duration-300 flex items-center gap-2 ${e===p?"bg-accent text-white border-accent shadow-md":"bg-white text-gray-600 border-gray-200 hover:border-accent hover:text-accent"} ${r&&m>=Fr?"animate-[slideIn_0.3s_ease-out_forwards]":""}`,style:{animationDelay:r&&m>=Fr?`${(m-Fr)*50}ms`:"0ms"},children:[w.jsx("span",{children:p}),o[p]&&w.jsxs("span",{className:`text-[10px] font-normal ${e===p?"opacity-80":"opacity-50"}`,children:["(",o[p],")"]}),e===p&&w.jsx(_d,{size:12})]},p)),f&&w.jsx("button",{onClick:()=>l(!r),className:"px-4 py-2 text-xs font-bold uppercase tracking-wider border border-dashed border-gray-300 rounded-sm transition-all duration-300 flex items-center gap-2 bg-transparent text-gray-500 hover:border-accent hover:text-accent",children:r?w.jsxs(w.Fragment,{children:[w.jsx("span",{children:"Show Less"}),w.jsx(Cx,{size:12})]}):w.jsxs(w.Fragment,{children:[w.jsxs("span",{children:["+",t.length-Fr," More Tags"]}),w.jsx(Ax,{size:12})]})})]})]})},kL=({summary:t,onClick:e})=>{const i=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),o=`${i(t.dateRange.start)} - ${i(t.dateRange.end)}`;return w.jsxs("div",{onClick:()=>e(t),className:"group cursor-pointer border-2 border-black bg-linear-to-br from-gray-50 to-white hover:from-accent/5 hover:to-accent/10 transition-all duration-300 p-6 shadow-md hover:shadow-xl flex flex-col h-full",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"p-3 bg-black text-white rounded-full",children:w.jsx(ro,{size:24})}),w.jsx("div",{className:"text-xs font-mono uppercase tracking-wider text-gray-600",children:"Philosophical Synthesis"})]}),w.jsx("h2",{className:"font-serif text-2xl font-bold mb-3 group-hover:text-accent transition-colors leading-tight",children:t.title}),w.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[w.jsx(ib,{size:16}),w.jsx("span",{children:o})]}),w.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4 grow line-clamp-4",children:[t.content.substring(0,200),"..."]}),w.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 pt-4 border-t border-gray-200",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-xl font-bold text-accent",children:t.synthesis.themes.length}),w.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Themes"})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-xl font-bold text-accent",children:t.synthesis.paradoxes.length}),w.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Paradoxes"})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-xl font-bold text-accent",children:t.articleIds.length}),w.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wide",children:"Articles"})]})]}),w.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.slice(0,4).map((r,l)=>w.jsx("span",{className:"inline-flex items-center gap-1 text-xs bg-black text-white px-2 py-1 font-mono uppercase tracking-wider",children:r},l))}),w.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between",children:[w.jsx("span",{className:"text-sm font-mono uppercase tracking-wider text-gray-600 group-hover:text-accent transition-colors",children:"Read Full Analysis"}),w.jsx(sb,{size:20,className:"text-gray-400 group-hover:text-accent transition-colors"})]})]})};class Qe extends Error{constructor(i,o,r,l,c){o!==void 0&&(i=`${o}: ${i}`);super(i,{cause:c});Ge(this,"code");Ge(this,"extendedCode");Ge(this,"rawCode");this.code=o,this.extendedCode=r,this.rawCode=l,this.name="LibsqlError"}}class ta extends Qe{constructor(i,o,r,l,c,f){super(i,r,l,c,f);Ge(this,"statementIndex");this.statementIndex=o,this.name="LibsqlBatchError"}}function UL(t){const e=PL.exec(t);if(e===null)throw new Qe(`The URL '${t}' is not in a valid format`,"URL_INVALID");const i=e.groups,o=i.scheme,r=i.authority!==void 0?qL(i.authority):void 0,l=Wo(i.path),c=i.query!==void 0?HL(i.query):void 0,f=i.fragment!==void 0?Wo(i.fragment):void 0;return{scheme:o,authority:r,path:l,query:c,fragment:f}}const PL=(()=>{const t="(?<scheme>[A-Za-z][A-Za-z.+-]*)",e="(?<authority>[^/?#]*)",i="(?<path>[^?#]*)",o="(?<query>[^#]*)",r="(?<fragment>.*)";return new RegExp(`^${t}:(//${e})?${i}(\\?${o})?(#${r})?$`,"su")})();function qL(t){const e=BL.exec(t);if(e===null)throw new Qe("The authority part of the URL is not in a valid format","URL_INVALID");const i=e.groups,o=Wo(i.host_br??i.host),r=i.port?parseInt(i.port,10):void 0,l=i.username!==void 0?{username:Wo(i.username),password:i.password!==void 0?Wo(i.password):void 0}:void 0;return{host:o,port:r,userinfo:l}}const BL=new RegExp("^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$","su");function HL(t){const e=t.split("&"),i=[];for(const o of e){if(o==="")continue;let r,l;const c=o.indexOf("=");c<0?(r=o,l=""):(r=o.substring(0,c),l=o.substring(c+1)),i.push({key:Wo(r.replaceAll("+"," ")),value:Wo(l.replaceAll("+"," "))})}return{pairs:i}}function Wo(t){try{return decodeURIComponent(t)}catch(e){throw e instanceof URIError?new Qe(`URL component has invalid percent encoding: ${e}`,"URL_INVALID",void 0,void 0,e):e}}function Cp(t,e,i){if(e===void 0)throw new Qe(`URL with scheme ${JSON.stringify(t+":")} requires authority (the "//" part)`,"URL_INVALID");const o=`${t}:`,r=OL(e.host),l=zL(e.port),f=`//${GL(e.userinfo)}${r}${l}`;let p=i.split("/").map(encodeURIComponent).join("/");return p!==""&&!p.startsWith("/")&&(p="/"+p),new URL(`${o}${f}${p}`)}function OL(t){return t.includes(":")?`[${encodeURI(t)}]`:encodeURI(t)}function zL(t){return t!==void 0?`:${t}`:""}function GL(t){if(t===void 0)return"";const e=encodeURIComponent(t.username),i=t.password!==void 0?`:${encodeURIComponent(t.password)}`:"";return`${e}${i}@`}const nT="3.7.8",VL=nT,La=typeof Buffer=="function",fE=typeof TextDecoder=="function"?new TextDecoder:void 0,hE=typeof TextEncoder=="function"?new TextEncoder:void 0,FL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Pl=Array.prototype.slice.call(FL),Yc=(t=>{let e={};return t.forEach((i,o)=>e[i]=o),e})(Pl),YL=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Gt=String.fromCharCode.bind(String),pE=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),iT=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),sT=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),oT=t=>{let e,i,o,r,l="";const c=t.length%3;for(let f=0;f<t.length;){if((i=t.charCodeAt(f++))>255||(o=t.charCodeAt(f++))>255||(r=t.charCodeAt(f++))>255)throw new TypeError("invalid character found");e=i<<16|o<<8|r,l+=Pl[e>>18&63]+Pl[e>>12&63]+Pl[e>>6&63]+Pl[e&63]}return c?l.slice(0,c-3)+"===".substring(c):l},fm=typeof btoa=="function"?t=>btoa(t):La?t=>Buffer.from(t,"binary").toString("base64"):oT,xp=La?t=>Buffer.from(t).toString("base64"):t=>{let i=[];for(let o=0,r=t.length;o<r;o+=4096)i.push(Gt.apply(null,t.subarray(o,o+4096)));return fm(i.join(""))},Zc=(t,e=!1)=>e?iT(xp(t)):xp(t),JL=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Gt(192|e>>>6)+Gt(128|e&63):Gt(224|e>>>12&15)+Gt(128|e>>>6&63)+Gt(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Gt(240|e>>>18&7)+Gt(128|e>>>12&63)+Gt(128|e>>>6&63)+Gt(128|e&63)}},$L=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,rT=t=>t.replace($L,JL),mE=La?t=>Buffer.from(t,"utf8").toString("base64"):hE?t=>xp(hE.encode(t)):t=>fm(rT(t)),na=(t,e=!1)=>e?iT(mE(t)):mE(t),gE=t=>na(t,!0),KL=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,XL=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),i=e-65536;return Gt((i>>>10)+55296)+Gt((i&1023)+56320);case 3:return Gt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Gt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},aT=t=>t.replace(KL,XL),lT=t=>{if(t=t.replace(/\s+/g,""),!YL.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,i,o,r=[];for(let l=0;l<t.length;)e=Yc[t.charAt(l++)]<<18|Yc[t.charAt(l++)]<<12|(i=Yc[t.charAt(l++)])<<6|(o=Yc[t.charAt(l++)]),i===64?r.push(Gt(e>>16&255)):o===64?r.push(Gt(e>>16&255,e>>8&255)):r.push(Gt(e>>16&255,e>>8&255,e&255));return r.join("")},hm=typeof atob=="function"?t=>atob(sT(t)):La?t=>Buffer.from(t,"base64").toString("binary"):lT,uT=La?t=>pE(Buffer.from(t,"base64")):t=>pE(hm(t).split("").map(e=>e.charCodeAt(0))),cT=t=>uT(dT(t)),QL=La?t=>Buffer.from(t,"base64").toString("utf8"):fE?t=>fE.decode(uT(t)):t=>aT(hm(t)),dT=t=>sT(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Rp=t=>QL(dT(t)),WL=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fT=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),hT=function(){const t=(e,i)=>Object.defineProperty(String.prototype,e,fT(i));t("fromBase64",function(){return Rp(this)}),t("toBase64",function(e){return na(this,e)}),t("toBase64URI",function(){return na(this,!0)}),t("toBase64URL",function(){return na(this,!0)}),t("toUint8Array",function(){return cT(this)})},pT=function(){const t=(e,i)=>Object.defineProperty(Uint8Array.prototype,e,fT(i));t("toBase64",function(e){return Zc(this,e)}),t("toBase64URI",function(){return Zc(this,!0)}),t("toBase64URL",function(){return Zc(this,!0)})},ZL=()=>{hT(),pT()},pm={version:nT,VERSION:VL,atob:hm,atobPolyfill:lT,btoa:fm,btoaPolyfill:oT,fromBase64:Rp,toBase64:na,encode:na,encodeURI:gE,encodeURL:gE,utob:rT,btou:aT,decode:Rp,isValid:WL,fromUint8Array:Zc,toUint8Array:cT,extendString:hT,extendUint8Array:pT,extendBuiltins:ZL},Xl="https://github.com/libsql/libsql-client-ts#supported-urls";function Np(t){if(t==="write")return"BEGIN IMMEDIATE";if(t==="read")return"BEGIN TRANSACTION READONLY";if(t==="deferred")return"BEGIN DEFERRED";throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"')}class jL{constructor(e,i,o,r,l){Ge(this,"columns");Ge(this,"columnTypes");Ge(this,"rows");Ge(this,"rowsAffected");Ge(this,"lastInsertRowid");this.columns=e,this.columnTypes=i,this.rows=o,this.rowsAffected=r,this.lastInsertRowid=l}toJSON(){return{columns:this.columns,columnTypes:this.columnTypes,rows:this.rows.map(ek),rowsAffected:this.rowsAffected,lastInsertRowid:this.lastInsertRowid!==void 0?""+this.lastInsertRowid:null}}}function ek(t){return Array.prototype.map.call(t,tk)}function tk(t){return typeof t=="bigint"?""+t:t instanceof ArrayBuffer?pm.fromUint8Array(new Uint8Array(t)):t}const yE=":memory:";function nk(t,e){var _,D;if(typeof t!="object")throw new TypeError(`Expected client configuration as object, got ${typeof t}`);let{url:i,authToken:o,tls:r,intMode:l,concurrency:c}=t;c=Math.max(0,c||20),l??(l="number");let f=[];i===yE&&(i="file::memory:");const p=UL(i),m=p.scheme.toLowerCase(),v=m==="file"&&p.path===yE&&p.authority===void 0;let S;v?S={cache:{values:["shared","private"],update:(k,J)=>f.push(`${k}=${J}`)}}:S={tls:{values:["0","1"],update:(k,J)=>r=J==="1"},authToken:{update:(k,J)=>o=J}};for(const{key:k,value:J}of((_=p.query)==null?void 0:_.pairs)??[]){if(!Object.hasOwn(S,k))throw new Qe(`Unsupported URL query parameter ${JSON.stringify(k)}`,"URL_PARAM_NOT_SUPPORTED");const H=S[k];if(H.values!==void 0&&!H.values.includes(J))throw new Qe(`Unknown value for the "${k}" query argument: ${JSON.stringify(J)}. Supported values are: [${H.values.map(ie=>'"'+ie+'"').join(", ")}]`,"URL_INVALID");H.update!==void 0&&(H==null||H.update(k,J))}const E=f.length===0?"":`?${f.join("&")}`,A=p.path+E;let x;if(m==="libsql")if(r===!1){if(((D=p.authority)==null?void 0:D.port)===void 0)throw new Qe('A "libsql:" URL with ?tls=0 must specify an explicit port',"URL_INVALID");x="http"}else x="https";else x=m;if(x==="http"||x==="ws"?r??(r=!1):r??(r=!0),x!=="http"&&x!=="ws"&&x!=="https"&&x!=="wss"&&x!=="file")throw new Qe(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(p.scheme+":")}. For more information, please read ${Xl}`,"URL_SCHEME_NOT_SUPPORTED");if(l!=="number"&&l!=="bigint"&&l!=="string")throw new TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(l)}`);if(p.fragment!==void 0)throw new Qe(`URL fragments are not supported: ${JSON.stringify("#"+p.fragment)}`,"URL_INVALID");return v?{scheme:"file",tls:!1,path:A,intMode:l,concurrency:c,syncUrl:t.syncUrl,syncInterval:t.syncInterval,readYourWrites:t.readYourWrites,offline:t.offline,fetch:t.fetch,authToken:void 0,encryptionKey:void 0,remoteEncryptionKey:void 0,authority:void 0}:{scheme:x,tls:r,authority:p.authority,path:A,authToken:o,intMode:l,concurrency:c,encryptionKey:t.encryptionKey,remoteEncryptionKey:t.remoteEncryptionKey,syncUrl:t.syncUrl,syncInterval:t.syncInterval,readYourWrites:t.readYourWrites,offline:t.offline,fetch:t.fetch}}let Qr;typeof WebSocket<"u"?Qr=WebSocket:typeof global<"u"?Qr=global.WebSocket:typeof window<"u"?Qr=window.WebSocket:typeof self<"u"&&(Qr=self.WebSocket);class mT{constructor(){Ge(this,"intMode");this.intMode="number"}}class yt extends Error{constructor(e){super(e),this.name="ClientError"}}class He extends yt{constructor(e){super(e),this.name="ProtoError"}}class gT extends yt{constructor(i,o){super(i);Ge(this,"code");Ge(this,"proto");this.name="ResponseError",this.code=o.code,this.proto=o,this.stack=void 0}}class $n extends yt{constructor(e,i){i!==void 0?(super(`${e}: ${i}`),this.cause=i):super(e),this.name="ClosedError"}}class yT extends yt{constructor(e){super(e),this.name="WebSocketUnsupportedError"}}class Ip extends yt{constructor(e){super(e),this.name="WebSocketError"}}class jc extends yt{constructor(i,o){super(i);Ge(this,"status");this.status=o,this.name="HttpServerError"}}class Aa extends yt{constructor(e){super(e),this.name="ProtocolVersionError"}}class ao extends yt{constructor(e){super(e),this.name="InternalError"}}class ka extends yt{constructor(e){super(e),this.name="MisuseError"}}function ci(t){if(typeof t=="string")return t;throw Ua(t,"string")}function hi(t){if(t!=null){if(typeof t=="string")return t;throw Ua(t,"string or null")}}function Zo(t){if(typeof t=="number")return t;throw Ua(t,"number")}function Ql(t){if(typeof t=="boolean")return t;throw Ua(t,"boolean")}function fd(t){if(Array.isArray(t))return t;throw Ua(t,"array")}function Vt(t){if(t!==null&&typeof t=="object"&&!Array.isArray(t))return t;throw Ua(t,"object")}function lo(t,e){return fd(t).map(i=>e(Vt(i)))}function Ua(t,e){if(t===void 0)return new He(`Expected ${e}, but the property was missing`);let i=typeof t;return t===null?i="null":Array.isArray(t)&&(i="array"),new He(`Expected ${e}, received ${i}`)}function mm(t,e){return e(Vt(t))}var Ct,Ws,ji,Po;class ik{constructor(e){ne(this,ji);ne(this,Ct);ne(this,Ws);G(this,Ct,e),G(this,Ws,!1)}begin(){T(this,Ct).push("{"),G(this,Ws,!0)}end(){T(this,Ct).push("}"),G(this,Ws,!1)}string(e,i){oe(this,ji,Po).call(this,e),T(this,Ct).push(JSON.stringify(i))}stringRaw(e,i){oe(this,ji,Po).call(this,e),T(this,Ct).push('"'),T(this,Ct).push(i),T(this,Ct).push('"')}number(e,i){oe(this,ji,Po).call(this,e),T(this,Ct).push(""+i)}boolean(e,i){oe(this,ji,Po).call(this,e),T(this,Ct).push(i?"true":"false")}object(e,i,o){oe(this,ji,Po).call(this,e),this.begin(),o(this,i),this.end()}arrayObjects(e,i,o){oe(this,ji,Po).call(this,e),T(this,Ct).push("[");for(let r=0;r<i.length;++r)r!==0&&T(this,Ct).push(","),this.begin(),o(this,i[r]),this.end();T(this,Ct).push("]")}}Ct=new WeakMap,Ws=new WeakMap,ji=new WeakSet,Po=function(e){T(this,Ws)?(T(this,Ct).push('"'),G(this,Ws,!1)):T(this,Ct).push(',"'),T(this,Ct).push(e),T(this,Ct).push('":')};function vT(t,e){const i=[],o=new ik(i);return o.begin(),e(o,t),o.end(),i.join("")}const Yl=0,Mp=1,Dp=2,sk=5;var _i,Wl,Cn;class ok{constructor(e){ne(this,_i);ne(this,Wl);ne(this,Cn);G(this,_i,e),G(this,Wl,new DataView(e.buffer,e.byteOffset,e.byteLength)),G(this,Cn,0)}varint(){let e=0;for(let i=0;;i+=7){const o=T(this,_i)[Vr(this,Cn)._++];if(e|=(o&127)<<i,!(o&128))break}return e}varintBig(){let e=0n;for(let i=0n;;i+=7n){const o=T(this,_i)[Vr(this,Cn)._++];if(e|=BigInt(o&127)<<i,!(o&128))break}return e}bytes(e){const i=new Uint8Array(T(this,_i).buffer,T(this,_i).byteOffset+T(this,Cn),e);return G(this,Cn,T(this,Cn)+e),i}double(){const e=T(this,Wl).getFloat64(T(this,Cn),!0);return G(this,Cn,T(this,Cn)+8),e}skipVarint(){for(;T(this,_i)[Vr(this,Cn)._++]&128;);}skip(e){G(this,Cn,T(this,Cn)+e)}eof(){return T(this,Cn)>=T(this,_i).byteLength}}_i=new WeakMap,Wl=new WeakMap,Cn=new WeakMap;var dn,jt,Oo,ql;class rk{constructor(e){ne(this,Oo);ne(this,dn);ne(this,jt);G(this,dn,e),G(this,jt,-1)}setup(e){G(this,jt,e)}bytes(){oe(this,Oo,ql).call(this,Dp);const e=T(this,dn).varint();return T(this,dn).bytes(e)}string(){return new TextDecoder().decode(this.bytes())}message(e){return Dd(this.bytes(),e)}int32(){return oe(this,Oo,ql).call(this,Yl),T(this,dn).varint()}uint32(){return this.int32()}bool(){return this.int32()!==0}uint64(){return oe(this,Oo,ql).call(this,Yl),T(this,dn).varintBig()}sint64(){const e=this.uint64();return e>>1n^-(e&1n)}double(){return oe(this,Oo,ql).call(this,Mp),T(this,dn).double()}maybeSkip(){if(!(T(this,jt)<0)){if(T(this,jt)===Yl)T(this,dn).skipVarint();else if(T(this,jt)===Mp)T(this,dn).skip(8);else if(T(this,jt)===Dp){const e=T(this,dn).varint();T(this,dn).skip(e)}else if(T(this,jt)===sk)T(this,dn).skip(4);else throw new He(`Unexpected wire type ${T(this,jt)}`);G(this,jt,-1)}}}dn=new WeakMap,jt=new WeakMap,Oo=new WeakSet,ql=function(e){if(T(this,jt)!==e)throw new He(`Expected wire type ${e}, got ${T(this,jt)}`);G(this,jt,-1)};function Dd(t,e){const i=new ok(t),o=new rk(i);let r=e.default();for(;!i.eof();){const l=i.varint(),c=l>>3,f=l&7;o.setup(f);const p=e[c];if(p!==void 0){const m=p(o,r);m!==void 0&&(r=m)}o.maybeSkip()}return r}var ii,Zs,sa,fn,Dt,Bl,ed,ST,Hl;const Tm=class Tm{constructor(){ne(this,Dt);ne(this,ii);ne(this,Zs);ne(this,sa);ne(this,fn);G(this,ii,new ArrayBuffer(256)),G(this,Zs,new Uint8Array(T(this,ii))),G(this,sa,new DataView(T(this,ii))),G(this,fn,0)}bytes(e,i){oe(this,Dt,Hl).call(this,e,Dp),oe(this,Dt,ed).call(this,i.byteLength),oe(this,Dt,Bl).call(this,i.byteLength),T(this,Zs).set(i,T(this,fn)),G(this,fn,T(this,fn)+i.byteLength)}string(e,i){this.bytes(e,new TextEncoder().encode(i))}message(e,i,o){const r=new Tm;o(r,i),this.bytes(e,r.data())}int32(e,i){oe(this,Dt,Hl).call(this,e,Yl),oe(this,Dt,ed).call(this,i)}uint32(e,i){this.int32(e,i)}bool(e,i){this.int32(e,i?1:0)}sint64(e,i){oe(this,Dt,Hl).call(this,e,Yl),oe(this,Dt,ST).call(this,i<<1n^i>>63n)}double(e,i){oe(this,Dt,Hl).call(this,e,Mp),oe(this,Dt,Bl).call(this,8),T(this,sa).setFloat64(T(this,fn),i,!0),G(this,fn,T(this,fn)+8)}data(){return new Uint8Array(T(this,ii),0,T(this,fn))}};ii=new WeakMap,Zs=new WeakMap,sa=new WeakMap,fn=new WeakMap,Dt=new WeakSet,Bl=function(e){if(T(this,fn)+e<=T(this,ii).byteLength)return;let i=T(this,ii).byteLength;for(;i<T(this,fn)+e;)i*=2;const o=new ArrayBuffer(i),r=new Uint8Array(o),l=new DataView(o);r.set(new Uint8Array(T(this,ii),0,T(this,fn))),G(this,ii,o),G(this,Zs,r),G(this,sa,l)},ed=function(e){oe(this,Dt,Bl).call(this,5),e=0|e;do{let i=e&127;e>>>=7,i|=e?128:0,T(this,Zs)[Vr(this,fn)._++]=i}while(e)},ST=function(e){oe(this,Dt,Bl).call(this,10),e=e&0xffffffffffffffffn;do{let i=Number(e&0x7fn);e>>=7n,i|=e?128:0,T(this,Zs)[Vr(this,fn)._++]=i}while(e)},Hl=function(e,i){oe(this,Dt,ed).call(this,e<<3|i)};let Lp=Tm;function ET(t,e){const i=new Lp;return e(i,t),i.data()}var xn,es;class Ol{constructor(){ne(this,xn);ne(this,es);G(this,xn,new Set),G(this,es,new Set)}alloc(){for(const i of T(this,es))return T(this,es).delete(i),T(this,xn).add(i),T(this,xn).has(T(this,xn).size-1)||T(this,es).add(T(this,xn).size-1),i;const e=T(this,xn).size;return T(this,xn).add(e),e}free(e){if(!T(this,xn).delete(e))throw new ao("Freeing an id that is not allocated");T(this,es).delete(T(this,xn).size),e<T(this,xn).size&&T(this,es).add(e)}}xn=new WeakMap,es=new WeakMap;function At(t,e){throw new ao(e)}function Jl(t){if(t===null)return null;if(typeof t=="string")return t;if(typeof t=="number"){if(!Number.isFinite(t))throw new RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return t}else if(typeof t=="bigint"){if(t<ak||t>lk)throw new RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");return t}else{if(typeof t=="boolean")return t?1n:0n;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return t;if(t instanceof Date)return+t.valueOf();if(typeof t=="object")return""+t.toString();throw new TypeError("Unsupported type of value")}}const ak=-9223372036854775808n,lk=9223372036854775807n;function bT(t,e){if(t===null)return null;if(typeof t=="number")return t;if(typeof t=="string")return t;if(typeof t=="bigint")if(e==="number"){const i=Number(t);if(!Number.isSafeInteger(i))throw new RangeError("Received integer which is too large to be safely represented as a JavaScript number");return i}else{if(e==="bigint")return t;if(e==="string")return""+t;throw new ka("Invalid value for IntMode")}else{if(t instanceof Uint8Array)return t.slice().buffer;throw t===void 0?new He("Received unrecognized type of Value"):At(t,"Impossible type of Value")}}function gu(t){return{affectedRowCount:t.affectedRowCount,lastInsertRowid:t.lastInsertRowid,columnNames:t.cols.map(e=>e.name),columnDecltypes:t.cols.map(e=>e.decltype)}}function TT(t,e){const i=gu(t),o=t.rows.map(r=>_T(i.columnNames,r,e));return{...i,rows:o}}function wT(t,e){const i=gu(t);let o;return t.rows.length>0&&(o=_T(i.columnNames,t.rows[0],e)),{...i,row:o}}function AT(t,e){const i=gu(t);let o;return t.rows.length>0&&i.columnNames.length>0&&(o=bT(t.rows[0][0],e)),{...i,value:o}}function _T(t,e,i){const o={};Object.defineProperty(o,"length",{value:e.length});for(let r=0;r<e.length;++r){const l=bT(e[r],i);Object.defineProperty(o,r,{value:l});const c=t[r];c!==void 0&&!Object.hasOwn(o,c)&&Object.defineProperty(o,c,{value:l,enumerable:!0,configurable:!0,writable:!0})}return o}function _a(t){return new gT(t.message,t)}var oa,ra,ts;class gm{constructor(e,i){ne(this,oa);ne(this,ra);ne(this,ts);G(this,oa,e),G(this,ra,i),G(this,ts,void 0)}_getSqlId(e){if(T(this,oa)!==e)throw new ka("Attempted to use SQL text opened with other object");if(T(this,ts)!==void 0)throw new $n("SQL text is closed",T(this,ts));return T(this,ra)}close(){this._setClosed(new yt("SQL text was manually closed"))}_setClosed(e){T(this,ts)===void 0&&(G(this,ts,e),T(this,oa)._closeSql(T(this,ra)))}get closed(){return T(this,ts)!==void 0}}oa=new WeakMap,ra=new WeakMap,ts=new WeakMap;function kp(t,e){return e instanceof gm?{sqlId:e._getSqlId(t)}:{sql:""+e}}var Ci,si;class hd{constructor(){ne(this,Ci);ne(this,si);G(this,Ci,[]),G(this,si,[])}get length(){return T(this,Ci).length+T(this,si).length}push(e){T(this,Ci).push(e)}shift(){return T(this,si).length===0&&T(this,Ci).length>0&&(G(this,si,T(this,Ci).reverse()),G(this,Ci,[])),T(this,si).pop()}first(){return T(this,si).length!==0?T(this,si)[T(this,si).length-1]:T(this,Ci)[0]}}Ci=new WeakMap,si=new WeakMap;let CT=class{constructor(e){Ge(this,"sql");Ge(this,"_args");Ge(this,"_namedArgs");this.sql=e,this._args=[],this._namedArgs=new Map}bindIndexes(e){this._args.length=0;for(const i of e)this._args.push(Jl(i));return this}bindIndex(e,i){if(e!==(e|0)||e<=0)throw new RangeError("Index of a positional argument must be positive integer");for(;this._args.length<e;)this._args.push(null);return this._args[e-1]=Jl(i),this}bindName(e,i){return this._namedArgs.set(e,Jl(i)),this}unbindAll(){return this._args.length=0,this._namedArgs.clear(),this}};function xT(t,e,i){let o,r=[],l=[];if(e instanceof CT){o=e.sql,r=e._args;for(const[p,m]of e._namedArgs.entries())l.push({name:p,value:m})}else Array.isArray(e)?(o=e[0],Array.isArray(e[1])?r=e[1].map(p=>Jl(p)):l=Object.entries(e[1]).map(([p,m])=>({name:p,value:Jl(m)}))):o=e;const{sql:c,sqlId:f}=kp(t,o);return{sql:c,sqlId:f,args:r,namedArgs:l,wantRows:i}}var Zl,aa,DE;let uk=(DE=class{constructor(e,i){Ge(this,"_stream");ne(this,Zl);Ge(this,"_steps");ne(this,aa);this._stream=e,G(this,Zl,i),this._steps=[],G(this,aa,!1)}step(){return new fk(this)}execute(){if(T(this,aa))throw new ka("This batch has already been executed");G(this,aa,!0);const e={steps:this._steps.map(i=>i.proto)};return T(this,Zl)?dk(this._stream,this._steps,e):ck(this._stream,this._steps,e)}},Zl=new WeakMap,aa=new WeakMap,DE);function ck(t,e,i){return t._batch(i).then(o=>{for(let r=0;r<e.length;++r){const l=o.stepResults.get(r),c=o.stepErrors.get(r);e[r].callback(l,c)}})}async function dk(t,e,i){const o=await t._openCursor(i);try{let r=0,l,c=[];for(;;){const f=await o.next();if(f===void 0)break;if(f.type==="step_begin"){if(f.step<r||f.step>=e.length)throw new He("Server produced StepBeginEntry for unexpected step");if(l!==void 0)throw new He("Server produced StepBeginEntry before terminating previous step");for(let p=r;p<f.step;++p)e[p].callback(void 0,void 0);r=f.step+1,l=f,c=[]}else if(f.type==="step_end"){if(l===void 0)throw new He("Server produced StepEndEntry but no step is active");const p={cols:l.cols,rows:c,affectedRowCount:f.affectedRowCount,lastInsertRowid:f.lastInsertRowid};e[l.step].callback(p,void 0),l=void 0,c=[]}else if(f.type==="step_error"){if(l===void 0){if(f.step>=e.length)throw new He("Server produced StepErrorEntry for unexpected step");for(let p=r;p<f.step;++p)e[p].callback(void 0,void 0)}else{if(f.step!==l.step)throw new He("Server produced StepErrorEntry for unexpected step");l=void 0,c=[]}e[f.step].callback(void 0,f.error),r=f.step+1}else if(f.type==="row"){if(l===void 0)throw new He("Server produced RowEntry but no step is active");c.push(f.row)}else throw f.type==="error"?_a(f.error):f.type==="none"?new He("Server produced unrecognized CursorEntry"):At(f,"Impossible CursorEntry")}if(l!==void 0)throw new He("Server closed Cursor before terminating active step");for(let f=r;f<e.length;++f)e[f].callback(void 0,void 0)}finally{o.close()}}var ns,zo,zl,LE;let fk=(LE=class{constructor(e){ne(this,zo);Ge(this,"_batch");ne(this,ns);Ge(this,"_index");this._batch=e,G(this,ns,[]),this._index=void 0}condition(e){return T(this,ns).push(e._proto),this}query(e){return oe(this,zo,zl).call(this,e,!0,TT)}queryRow(e){return oe(this,zo,zl).call(this,e,!0,wT)}queryValue(e){return oe(this,zo,zl).call(this,e,!0,AT)}run(e){return oe(this,zo,zl).call(this,e,!1,gu)}},ns=new WeakMap,zo=new WeakSet,zl=function(e,i,o){if(this._index!==void 0)throw new ka("This BatchStep has already been added to the batch");const r=xT(this._batch._stream._sqlOwner(),e,i);let l;T(this,ns).length===0?l=void 0:T(this,ns).length===1?l=T(this,ns)[0]:l={type:"and",conds:T(this,ns).slice()};const c={stmt:r,condition:l};return new Promise((f,p)=>{const m=(v,S)=>{v!==void 0&&S!==void 0?p(new He("Server returned both result and error")):S!==void 0?p(_a(S)):f(v!==void 0?o(v,this._batch._stream.intMode):void 0)};this._index=this._batch._steps.length,this._batch._steps.push({proto:c,callback:m})})},LE),gn=class qo{constructor(e,i){Ge(this,"_batch");Ge(this,"_proto");this._batch=e,this._proto=i}static ok(e){return new qo(e._batch,{type:"ok",step:vE(e)})}static error(e){return new qo(e._batch,{type:"error",step:vE(e)})}static not(e){return new qo(e._batch,{type:"not",cond:e._proto})}static and(e,i){for(const o of i)SE(e,o);return new qo(e,{type:"and",conds:i.map(o=>o._proto)})}static or(e,i){for(const o of i)SE(e,o);return new qo(e,{type:"or",conds:i.map(o=>o._proto)})}static isAutocommit(e){return e._stream.client()._ensureVersion(3,"BatchCond.isAutocommit()"),new qo(e,{type:"is_autocommit"})}};function vE(t){if(t._index===void 0)throw new ka("Cannot add a condition referencing a step that has not been added to the batch");return t._index}function SE(t,e){if(e._batch!==t)throw new ka("Cannot mix BatchCond objects for different Batch objects")}function hk(t){return{paramNames:t.params.map(e=>e.name),columns:t.cols,isExplain:t.isExplain,isReadonly:t.isReadonly}}var Go,Gl;class RT{constructor(e){ne(this,Go);Ge(this,"intMode");this.intMode=e}query(e){return oe(this,Go,Gl).call(this,e,!0,TT)}queryRow(e){return oe(this,Go,Gl).call(this,e,!0,wT)}queryValue(e){return oe(this,Go,Gl).call(this,e,!0,AT)}run(e){return oe(this,Go,Gl).call(this,e,!1,gu)}batch(e=!1){return new uk(this,e)}describe(e){const i=kp(this._sqlOwner(),e);return this._describe(i).then(hk)}sequence(e){const i=kp(this._sqlOwner(),e);return this._sequence(i)}}Go=new WeakSet,Gl=function(e,i,o){const r=xT(this._sqlOwner(),e,i);return this._execute(r).then(l=>o(l,this.intMode))};class NT{}const pk=1e3,mk=10;var Ed,Vo,la,ua,Fo,is,Yo,bd,IT;class gk extends NT{constructor(i,o,r){super();ne(this,bd);ne(this,Ed);ne(this,Vo);ne(this,la);ne(this,ua);ne(this,Fo);ne(this,is);ne(this,Yo);G(this,Ed,i),G(this,Vo,o),G(this,la,r),G(this,ua,new hd),G(this,Fo,new hd),G(this,is,void 0),G(this,Yo,!1)}async next(){for(;;){if(T(this,is)!==void 0)throw new $n("Cursor is closed",T(this,is));for(;!T(this,Yo)&&T(this,Fo).length<mk;)T(this,Fo).push(oe(this,bd,IT).call(this));const i=T(this,ua).shift();if(T(this,Yo)||i!==void 0)return i;await T(this,Fo).shift().then(o=>{if(o!==void 0){for(const r of o.entries)T(this,ua).push(r);T(this,Yo)||G(this,Yo,o.done)}})}}_setClosed(i){T(this,is)===void 0&&(G(this,is,i),T(this,Vo)._sendCursorRequest(this,{type:"close_cursor",cursorId:T(this,la)}).catch(()=>{}),T(this,Vo)._cursorClosed(this))}close(){this._setClosed(new yt("Cursor was manually closed"))}get closed(){return T(this,is)!==void 0}}Ed=new WeakMap,Vo=new WeakMap,la=new WeakMap,ua=new WeakMap,Fo=new WeakMap,is=new WeakMap,Yo=new WeakMap,bd=new WeakSet,IT=function(){return T(this,Vo)._sendCursorRequest(this,{type:"fetch_cursor",cursorId:T(this,la),maxCount:pk}).then(i=>i,i=>{this._setClosed(i)})};var zt,Yn,ss,Rn,js,oi,xt,Jr,Pp,td,nd;const wm=class wm extends RT{constructor(i,o){super(i.intMode);ne(this,xt);ne(this,zt);ne(this,Yn);ne(this,ss);ne(this,Rn);ne(this,js);ne(this,oi);G(this,zt,i),G(this,Yn,o),G(this,ss,new hd),G(this,Rn,void 0),G(this,js,!1),G(this,oi,void 0)}static open(i){const o=i._streamIdAlloc.alloc(),r=new wm(i,o),l=()=>{},c=p=>{var m;return oe(m=r,xt,nd).call(m,p)},f={type:"open_stream",streamId:o};return i._sendRequest(f,{responseCallback:l,errorCallback:c}),r}client(){return T(this,zt)}_sqlOwner(){return T(this,zt)}_execute(i){return oe(this,xt,Jr).call(this,{type:"execute",streamId:T(this,Yn),stmt:i}).then(o=>o.result)}_batch(i){return oe(this,xt,Jr).call(this,{type:"batch",streamId:T(this,Yn),batch:i}).then(o=>o.result)}_describe(i){return T(this,zt)._ensureVersion(2,"describe()"),oe(this,xt,Jr).call(this,{type:"describe",streamId:T(this,Yn),sql:i.sql,sqlId:i.sqlId}).then(o=>o.result)}_sequence(i){return T(this,zt)._ensureVersion(2,"sequence()"),oe(this,xt,Jr).call(this,{type:"sequence",streamId:T(this,Yn),sql:i.sql,sqlId:i.sqlId}).then(o=>{})}getAutocommit(){return T(this,zt)._ensureVersion(3,"getAutocommit()"),oe(this,xt,Jr).call(this,{type:"get_autocommit",streamId:T(this,Yn)}).then(i=>i.isAutocommit)}_openCursor(i){return T(this,zt)._ensureVersion(3,"cursor"),new Promise((o,r)=>{oe(this,xt,Pp).call(this,{type:"cursor",batch:i,cursorCallback:o,errorCallback:r})})}_sendCursorRequest(i,o){if(i!==T(this,Rn))throw new ao("Cursor not associated with the stream attempted to execute a request");return new Promise((r,l)=>{T(this,oi)!==void 0?l(new $n("Stream is closed",T(this,oi))):T(this,zt)._sendRequest(o,{responseCallback:r,errorCallback:l})})}_cursorClosed(i){if(i!==T(this,Rn))throw new ao("Cursor was closed, but it was not associated with the stream");G(this,Rn,void 0),oe(this,xt,td).call(this)}close(){oe(this,xt,nd).call(this,new yt("Stream was manually closed"))}closeGracefully(){G(this,js,!0),oe(this,xt,td).call(this)}get closed(){return T(this,oi)!==void 0||T(this,js)}};zt=new WeakMap,Yn=new WeakMap,ss=new WeakMap,Rn=new WeakMap,js=new WeakMap,oi=new WeakMap,xt=new WeakSet,Jr=function(i){return new Promise((o,r)=>{oe(this,xt,Pp).call(this,{type:"request",request:i,responseCallback:o,errorCallback:r})})},Pp=function(i){T(this,oi)!==void 0?i.errorCallback(new $n("Stream is closed",T(this,oi))):T(this,js)?i.errorCallback(new $n("Stream is closing",void 0)):(T(this,ss).push(i),oe(this,xt,td).call(this))},td=function(){for(;;){const i=T(this,ss).first();if(i===void 0&&T(this,Rn)===void 0&&T(this,js)){oe(this,xt,nd).call(this,new yt("Stream was gracefully closed"));break}else if((i==null?void 0:i.type)==="request"&&T(this,Rn)===void 0){const{request:o,responseCallback:r,errorCallback:l}=i;T(this,ss).shift(),T(this,zt)._sendRequest(o,{responseCallback:r,errorCallback:l})}else if((i==null?void 0:i.type)==="cursor"&&T(this,Rn)===void 0){const{batch:o,cursorCallback:r}=i;T(this,ss).shift();const l=T(this,zt)._cursorIdAlloc.alloc(),c=new gk(T(this,zt),this,l),f={type:"open_cursor",streamId:T(this,Yn),cursorId:l,batch:o},p=()=>{},m=v=>c._setClosed(v);T(this,zt)._sendRequest(f,{responseCallback:p,errorCallback:m}),G(this,Rn,c),r(c)}else break}},nd=function(i){if(T(this,oi)!==void 0)return;for(G(this,oi,i),T(this,Rn)!==void 0&&T(this,Rn)._setClosed(i);;){const c=T(this,ss).shift();if(c!==void 0)c.errorCallback(i);else break}const o={type:"close_stream",streamId:T(this,Yn)},r=()=>T(this,zt)._streamIdAlloc.free(T(this,Yn)),l=()=>{};T(this,zt)._sendRequest(o,{responseCallback:r,errorCallback:l})};let Up=wm;function ym(t,e){e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId),t.arrayObjects("args",e.args,MT),t.arrayObjects("named_args",e.namedArgs,yk),t.boolean("want_rows",e.wantRows)}function yk(t,e){t.string("name",e.name),t.object("value",e.value,MT)}function pd(t,e){t.arrayObjects("steps",e.steps,vk)}function vk(t,e){e.condition!==void 0&&t.object("condition",e.condition,qp),t.object("stmt",e.stmt,ym)}function qp(t,e){if(t.stringRaw("type",e.type),e.type==="ok"||e.type==="error")t.number("step",e.step);else if(e.type==="not")t.object("cond",e.cond,qp);else if(e.type==="and"||e.type==="or")t.arrayObjects("conds",e.conds,qp);else if(e.type!=="is_autocommit")throw At(e,"Impossible type of BatchCond")}function MT(t,e){if(e===null)t.stringRaw("type","null");else if(typeof e=="bigint")t.stringRaw("type","integer"),t.stringRaw("value",""+e);else if(typeof e=="number")t.stringRaw("type","float"),t.number("value",e);else if(typeof e=="string")t.stringRaw("type","text"),t.string("value",e);else if(e instanceof Uint8Array)t.stringRaw("type","blob"),t.stringRaw("base64",pm.fromUint8Array(e));else if(e!==void 0)throw At(e,"Impossible type of Value")}function Sk(t,e){if(t.stringRaw("type",e.type),e.type==="hello")e.jwt!==void 0&&t.string("jwt",e.jwt);else if(e.type==="request")t.number("request_id",e.requestId),t.object("request",e.request,Ek);else throw At(e,"Impossible type of ClientMsg")}function Ek(t,e){if(t.stringRaw("type",e.type),e.type==="open_stream")t.number("stream_id",e.streamId);else if(e.type==="close_stream")t.number("stream_id",e.streamId);else if(e.type==="execute")t.number("stream_id",e.streamId),t.object("stmt",e.stmt,ym);else if(e.type==="batch")t.number("stream_id",e.streamId),t.object("batch",e.batch,pd);else if(e.type==="open_cursor")t.number("stream_id",e.streamId),t.number("cursor_id",e.cursorId),t.object("batch",e.batch,pd);else if(e.type==="close_cursor")t.number("cursor_id",e.cursorId);else if(e.type==="fetch_cursor")t.number("cursor_id",e.cursorId),t.number("max_count",e.maxCount);else if(e.type==="sequence")t.number("stream_id",e.streamId),e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="describe")t.number("stream_id",e.streamId),e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="store_sql")t.number("sql_id",e.sqlId),t.string("sql",e.sql);else if(e.type==="close_sql")t.number("sql_id",e.sqlId);else if(e.type==="get_autocommit")t.number("stream_id",e.streamId);else throw At(e,"Impossible type of Request")}function vm(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId);for(const i of e.args)t.message(3,i,DT);for(const i of e.namedArgs)t.message(4,i,bk);t.bool(5,e.wantRows)}function bk(t,e){t.string(1,e.name),t.message(2,e.value,DT)}function Ld(t,e){for(const i of e.steps)t.message(1,i,Tk)}function Tk(t,e){e.condition!==void 0&&t.message(1,e.condition,Sm),t.message(2,e.stmt,vm)}function Sm(t,e){if(e.type==="ok")t.uint32(1,e.step);else if(e.type==="error")t.uint32(2,e.step);else if(e.type==="not")t.message(3,e.cond,Sm);else if(e.type==="and")t.message(4,e.conds,EE);else if(e.type==="or")t.message(5,e.conds,EE);else if(e.type==="is_autocommit")t.message(6,void 0,LT);else throw At(e,"Impossible type of BatchCond")}function EE(t,e){for(const i of e)t.message(1,i,Sm)}function DT(t,e){if(e===null)t.message(1,void 0,LT);else if(typeof e=="bigint")t.sint64(2,e);else if(typeof e=="number")t.double(3,e);else if(typeof e=="string")t.string(4,e);else if(e instanceof Uint8Array)t.bytes(5,e);else if(e!==void 0)throw At(e,"Impossible type of Value")}function LT(t,e){}function wk(t,e){if(e.type==="hello")t.message(1,e,Ak);else if(e.type==="request")t.message(2,e,_k);else throw At(e,"Impossible type of ClientMsg")}function Ak(t,e){e.jwt!==void 0&&t.string(1,e.jwt)}function _k(t,e){t.int32(1,e.requestId);const i=e.request;if(i.type==="open_stream")t.message(2,i,Ck);else if(i.type==="close_stream")t.message(3,i,xk);else if(i.type==="execute")t.message(4,i,Rk);else if(i.type==="batch")t.message(5,i,Nk);else if(i.type==="open_cursor")t.message(6,i,Ik);else if(i.type==="close_cursor")t.message(7,i,Mk);else if(i.type==="fetch_cursor")t.message(8,i,Dk);else if(i.type==="sequence")t.message(9,i,Lk);else if(i.type==="describe")t.message(10,i,kk);else if(i.type==="store_sql")t.message(11,i,Uk);else if(i.type==="close_sql")t.message(12,i,Pk);else if(i.type==="get_autocommit")t.message(13,i,qk);else throw At(i,"Impossible type of Request")}function Ck(t,e){t.int32(1,e.streamId)}function xk(t,e){t.int32(1,e.streamId)}function Rk(t,e){t.int32(1,e.streamId),t.message(2,e.stmt,vm)}function Nk(t,e){t.int32(1,e.streamId),t.message(2,e.batch,Ld)}function Ik(t,e){t.int32(1,e.streamId),t.int32(2,e.cursorId),t.message(3,e.batch,Ld)}function Mk(t,e){t.int32(1,e.cursorId)}function Dk(t,e){t.int32(1,e.cursorId),t.uint32(2,e.maxCount)}function Lk(t,e){t.int32(1,e.streamId),e.sql!==void 0&&t.string(2,e.sql),e.sqlId!==void 0&&t.int32(3,e.sqlId)}function kk(t,e){t.int32(1,e.streamId),e.sql!==void 0&&t.string(2,e.sql),e.sqlId!==void 0&&t.int32(3,e.sqlId)}function Uk(t,e){t.int32(1,e.sqlId),t.string(2,e.sql)}function Pk(t,e){t.int32(1,e.sqlId)}function qk(t,e){t.int32(1,e.streamId)}function Ca(t){const e=ci(t.message),i=hi(t.code);return{message:e,code:i}}function Em(t){const e=lo(t.cols,kT),i=fd(t.rows).map(c=>lo(c,BT)),o=Zo(t.affected_row_count),r=hi(t.last_insert_rowid),l=r!==void 0?BigInt(r):void 0;return{cols:e,rows:i,affectedRowCount:o,lastInsertRowid:l}}function kT(t){const e=hi(t.name),i=hi(t.decltype);return{name:e,decltype:i}}function UT(t){const e=new Map;fd(t.step_results).forEach((o,r)=>{o!==null&&e.set(r,Em(Vt(o)))});const i=new Map;return fd(t.step_errors).forEach((o,r)=>{o!==null&&i.set(r,Ca(Vt(o)))}),{stepResults:e,stepErrors:i}}function PT(t){const e=ci(t.type);if(e==="step_begin"){const i=Zo(t.step),o=lo(t.cols,kT);return{type:"step_begin",step:i,cols:o}}else if(e==="step_end"){const i=Zo(t.affected_row_count),o=hi(t.last_insert_rowid),r=o!==void 0?BigInt(o):void 0;return{type:"step_end",affectedRowCount:i,lastInsertRowid:r}}else if(e==="step_error"){const i=Zo(t.step),o=Ca(Vt(t.error));return{type:"step_error",step:i,error:o}}else{if(e==="row")return{type:"row",row:lo(t.row,BT)};if(e==="error")return{type:"error",error:Ca(Vt(t.error))};throw new He("Unexpected type of CursorEntry")}}function qT(t){const e=lo(t.params,Bk),i=lo(t.cols,Hk),o=Ql(t.is_explain),r=Ql(t.is_readonly);return{params:e,cols:i,isExplain:o,isReadonly:r}}function Bk(t){return{name:hi(t.name)}}function Hk(t){const e=ci(t.name),i=hi(t.decltype);return{name:e,decltype:i}}function BT(t){const e=ci(t.type);if(e==="null")return null;if(e==="integer"){const i=ci(t.value);return BigInt(i)}else{if(e==="float")return Zo(t.value);if(e==="text")return ci(t.value);if(e==="blob")return pm.toUint8Array(ci(t.base64));throw new He("Unexpected type of Value")}}function Ok(t){const e=ci(t.type);if(e==="hello_ok")return{type:"hello_ok"};if(e==="hello_error")return{type:"hello_error",error:Ca(Vt(t.error))};if(e==="response_ok"){const i=Zo(t.request_id),o=zk(Vt(t.response));return{type:"response_ok",requestId:i,response:o}}else if(e==="response_error"){const i=Zo(t.request_id),o=Ca(Vt(t.error));return{type:"response_error",requestId:i,error:o}}else throw new He("Unexpected type of ServerMsg")}function zk(t){const e=ci(t.type);if(e==="open_stream")return{type:"open_stream"};if(e==="close_stream")return{type:"close_stream"};if(e==="execute")return{type:"execute",result:Em(Vt(t.result))};if(e==="batch")return{type:"batch",result:UT(Vt(t.result))};if(e==="open_cursor")return{type:"open_cursor"};if(e==="close_cursor")return{type:"close_cursor"};if(e==="fetch_cursor"){const i=lo(t.entries,PT),o=Ql(t.done);return{type:"fetch_cursor",entries:i,done:o}}else{if(e==="sequence")return{type:"sequence"};if(e==="describe")return{type:"describe",result:qT(Vt(t.result))};if(e==="store_sql")return{type:"store_sql"};if(e==="close_sql")return{type:"close_sql"};if(e==="get_autocommit")return{type:"get_autocommit",isAutocommit:Ql(t.is_autocommit)};throw new He("Unexpected type of Response")}}const Mi={default(){return{message:"",code:void 0}},1(t,e){e.message=t.string()},2(t,e){e.code=t.string()}},xa={default(){return{cols:[],rows:[],affectedRowCount:0,lastInsertRowid:void 0}},1(t,e){e.cols.push(t.message(HT))},2(t,e){e.rows.push(t.message(OT))},3(t,e){e.affectedRowCount=Number(t.uint64())},4(t,e){e.lastInsertRowid=t.sint64()}},HT={default(){return{name:void 0,decltype:void 0}},1(t,e){e.name=t.string()},2(t,e){e.decltype=t.string()}},OT={default(){return[]},1(t,e){e.push(t.message(Xk))}},md={default(){return{stepResults:new Map,stepErrors:new Map}},1(t,e){const[i,o]=t.message(Gk);e.stepResults.set(i,o)},2(t,e){const[i,o]=t.message(Vk);e.stepErrors.set(i,o)}},Gk={default(){return[0,xa.default()]},1(t,e){e[0]=t.uint32()},2(t,e){e[1]=t.message(xa)}},Vk={default(){return[0,Mi.default()]},1(t,e){e[0]=t.uint32()},2(t,e){e[1]=t.message(Mi)}},zT={default(){return{type:"none"}},1(t){return t.message(Fk)},2(t){return t.message(Yk)},3(t){return t.message(Jk)},4(t){return{type:"row",row:t.message(OT)}},5(t){return{type:"error",error:t.message(Mi)}}},Fk={default(){return{type:"step_begin",step:0,cols:[]}},1(t,e){e.step=t.uint32()},2(t,e){e.cols.push(t.message(HT))}},Yk={default(){return{type:"step_end",affectedRowCount:0,lastInsertRowid:void 0}},1(t,e){e.affectedRowCount=t.uint32()},2(t,e){e.lastInsertRowid=t.uint64()}},Jk={default(){return{type:"step_error",step:0,error:Mi.default()}},1(t,e){e.step=t.uint32()},2(t,e){e.error=t.message(Mi)}},gd={default(){return{params:[],cols:[],isExplain:!1,isReadonly:!1}},1(t,e){e.params.push(t.message($k))},2(t,e){e.cols.push(t.message(Kk))},3(t,e){e.isExplain=t.bool()},4(t,e){e.isReadonly=t.bool()}},$k={default(){return{name:void 0}},1(t,e){e.name=t.string()}},Kk={default(){return{name:"",decltype:void 0}},1(t,e){e.name=t.string()},2(t,e){e.decltype=t.string()}},Xk={default(){},1(t){return null},2(t){return t.sint64()},3(t){return t.double()},4(t){return t.string()},5(t){return t.bytes()}},Qk={default(){return{type:"none"}},1(t){return{type:"hello_ok"}},2(t){return t.message(Wk)},3(t){return t.message(jk)},4(t){return t.message(Zk)}},Wk={default(){return{type:"hello_error",error:Mi.default()}},1(t,e){e.error=t.message(Mi)}},Zk={default(){return{type:"response_error",requestId:0,error:Mi.default()}},1(t,e){e.requestId=t.int32()},2(t,e){e.error=t.message(Mi)}},jk={default(){return{type:"response_ok",requestId:0,response:{type:"none"}}},1(t,e){e.requestId=t.int32()},2(t,e){e.response={type:"open_stream"}},3(t,e){e.response={type:"close_stream"}},4(t,e){e.response=t.message(eU)},5(t,e){e.response=t.message(tU)},6(t,e){e.response={type:"open_cursor"}},7(t,e){e.response={type:"close_cursor"}},8(t,e){e.response=t.message(nU)},9(t,e){e.response={type:"sequence"}},10(t,e){e.response=t.message(iU)},11(t,e){e.response={type:"store_sql"}},12(t,e){e.response={type:"close_sql"}},13(t,e){e.response=t.message(sU)}},eU={default(){return{type:"execute",result:xa.default()}},1(t,e){e.result=t.message(xa)}},tU={default(){return{type:"batch",result:md.default()}},1(t,e){e.result=t.message(md)}},nU={default(){return{type:"fetch_cursor",entries:[],done:!1}},1(t,e){e.entries.push(t.message(zT))},2(t,e){e.done=t.bool()}},iU={default(){return{type:"describe",result:gd.default()}},1(t,e){e.result=t.message(gd)}},sU={default(){return{type:"get_autocommit",isAutocommit:!1}},1(t,e){e.isAutocommit=t.bool()}},oU=new Map([["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),GT=new Map([["hrana3-protobuf",{version:3,encoding:"protobuf"}],["hrana3",{version:3,encoding:"json"}],["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]);var $t,xi,Jo,hn,$o,pn,ca,ri,eo,da,tt,Bp,VT,Hp,FT,YT,wi,JT,$T,kE;let rU=(kE=class extends mT{constructor(i,o){super();ne(this,tt);ne(this,$t);ne(this,xi);ne(this,Jo);ne(this,hn);ne(this,$o);ne(this,pn);ne(this,ca);ne(this,ri);ne(this,eo);Ge(this,"_streamIdAlloc");Ge(this,"_cursorIdAlloc");ne(this,da);G(this,$t,i),G(this,xi,[]),G(this,Jo,!1),G(this,hn,void 0),G(this,$o,!1),G(this,pn,void 0),G(this,ca,!1),G(this,ri,new Map),G(this,eo,new Ol),this._streamIdAlloc=new Ol,this._cursorIdAlloc=new Ol,G(this,da,new Ol),T(this,$t).binaryType="arraybuffer",T(this,$t).addEventListener("open",()=>oe(this,tt,VT).call(this)),T(this,$t).addEventListener("close",r=>oe(this,tt,YT).call(this,r)),T(this,$t).addEventListener("error",r=>oe(this,tt,FT).call(this,r)),T(this,$t).addEventListener("message",r=>oe(this,tt,JT).call(this,r)),oe(this,tt,Bp).call(this,{type:"hello",jwt:o})}getVersion(){return new Promise((i,o)=>{if(G(this,ca,!0),T(this,hn)!==void 0)o(T(this,hn));else if(T(this,Jo))i(T(this,pn).version);else{const r=()=>i(T(this,pn).version);T(this,xi).push({openCallback:r,errorCallback:o})}})}_ensureVersion(i,o){if(T(this,pn)===void 0||!T(this,ca))throw new Aa(`${o} is supported only on protocol version ${i} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(T(this,pn).version<i)throw new Aa(`${o} is supported on protocol version ${i} and higher, but the WebSocket server only supports version ${T(this,pn).version}`)}_sendRequest(i,o){if(T(this,hn)!==void 0){o.errorCallback(new $n("Client is closed",T(this,hn)));return}const r=T(this,eo).alloc();T(this,ri).set(r,{...o,type:i.type}),oe(this,tt,Bp).call(this,{type:"request",requestId:r,request:i})}openStream(){return Up.open(this)}storeSql(i){this._ensureVersion(2,"storeSql()");const o=T(this,da).alloc(),r=new gm(this,o),l=()=>{},c=p=>r._setClosed(p),f={type:"store_sql",sqlId:o,sql:i};return this._sendRequest(f,{responseCallback:l,errorCallback:c}),r}_closeSql(i){if(T(this,hn)!==void 0)return;const o=()=>T(this,da).free(i),r=c=>oe(this,tt,wi).call(this,c),l={type:"close_sql",sqlId:i};this._sendRequest(l,{responseCallback:o,errorCallback:r})}close(){oe(this,tt,wi).call(this,new yt("Client was manually closed"))}get closed(){return T(this,hn)!==void 0}},$t=new WeakMap,xi=new WeakMap,Jo=new WeakMap,hn=new WeakMap,$o=new WeakMap,pn=new WeakMap,ca=new WeakMap,ri=new WeakMap,eo=new WeakMap,da=new WeakMap,tt=new WeakSet,Bp=function(i){if(T(this,hn)!==void 0)throw new ao("Trying to send a message on a closed client");if(T(this,Jo))oe(this,tt,Hp).call(this,i);else{const o=()=>oe(this,tt,Hp).call(this,i),r=()=>{};T(this,xi).push({openCallback:o,errorCallback:r})}},VT=function(){const i=T(this,$t).protocol;if(i===void 0){oe(this,tt,wi).call(this,new yt("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));return}else if(i==="")G(this,pn,{version:1,encoding:"json"});else if(G(this,pn,GT.get(i)),T(this,pn)===void 0){oe(this,tt,wi).call(this,new He(`Unrecognized WebSocket subprotocol: ${JSON.stringify(i)}`));return}for(const o of T(this,xi))o.openCallback();T(this,xi).length=0,G(this,Jo,!0)},Hp=function(i){const o=T(this,pn).encoding;if(o==="json"){const r=vT(i,Sk);T(this,$t).send(r)}else if(o==="protobuf"){const r=ET(i,wk);T(this,$t).send(r)}else throw At(o,"Impossible encoding")},FT=function(i){const r=i.message??"WebSocket was closed due to an error";oe(this,tt,wi).call(this,new Ip(r))},YT=function(i){let o=`WebSocket was closed with code ${i.code}`;i.reason&&(o+=`: ${i.reason}`),oe(this,tt,wi).call(this,new Ip(o))},wi=function(i){if(T(this,hn)===void 0){G(this,hn,i);for(const o of T(this,xi))o.errorCallback(i);T(this,xi).length=0;for(const[o,r]of T(this,ri).entries())r.errorCallback(i),T(this,eo).free(o);T(this,ri).clear(),T(this,$t).close()}},JT=function(i){if(T(this,hn)===void 0)try{let o;const r=T(this,pn).encoding;if(r==="json"){if(typeof i.data!="string"){T(this,$t).close(3003,"Only text messages are accepted with JSON encoding"),oe(this,tt,wi).call(this,new He("Received non-text message from server with JSON encoding"));return}o=mm(JSON.parse(i.data),Ok)}else if(r==="protobuf"){if(!(i.data instanceof ArrayBuffer)){T(this,$t).close(3003,"Only binary messages are accepted with Protobuf encoding"),oe(this,tt,wi).call(this,new He("Received non-binary message from server with Protobuf encoding"));return}o=Dd(new Uint8Array(i.data),Qk)}else throw At(r,"Impossible encoding");oe(this,tt,$T).call(this,o)}catch(o){T(this,$t).close(3007,"Could not handle message"),oe(this,tt,wi).call(this,o)}},$T=function(i){if(i.type==="none")throw new He("Received an unrecognized ServerMsg");if(i.type==="hello_ok"||i.type==="hello_error"){if(T(this,$o))throw new He("Received a duplicated hello response");if(G(this,$o,!0),i.type==="hello_error")throw _a(i.error);return}else if(!T(this,$o))throw new He("Received a non-hello message before a hello response");if(i.type==="response_ok"){const o=i.requestId,r=T(this,ri).get(o);if(T(this,ri).delete(o),r===void 0)throw new He("Received unexpected OK response");T(this,eo).free(o);try{if(r.type!==i.response.type)throw console.dir({responseState:r,msg:i}),new He("Received unexpected type of response");r.responseCallback(i.response)}catch(l){throw r.errorCallback(l),l}}else if(i.type==="response_error"){const o=i.requestId,r=T(this,ri).get(o);if(T(this,ri).delete(o),r===void 0)throw new He("Received unexpected error response");T(this,eo).free(o),r.errorCallback(_a(i.error))}else throw At(i,"Impossible ServerMsg type")},kE);var Jc={exports:{}},bE;function aU(){return bE||(bE=1,(function(t,e){var i=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof qc<"u"&&qc,o=(function(){function l(){this.fetch=!1,this.DOMException=i.DOMException}return l.prototype=i,new l})();(function(l){(function(c){var f=typeof l<"u"&&l||typeof self<"u"&&self||typeof qc<"u"&&qc||{},p={searchParams:"URLSearchParams"in f,iterable:"Symbol"in f&&"iterator"in Symbol,blob:"FileReader"in f&&"Blob"in f&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in f,arrayBuffer:"ArrayBuffer"in f};function m(q){return q&&DataView.prototype.isPrototypeOf(q)}if(p.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],S=ArrayBuffer.isView||function(q){return q&&v.indexOf(Object.prototype.toString.call(q))>-1};function E(q){if(typeof q!="string"&&(q=String(q)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(q)||q==="")throw new TypeError('Invalid character in header field name: "'+q+'"');return q.toLowerCase()}function A(q){return typeof q!="string"&&(q=String(q)),q}function x(q){var R={next:function(){var $=q.shift();return{done:$===void 0,value:$}}};return p.iterable&&(R[Symbol.iterator]=function(){return R}),R}function _(q){this.map={},q instanceof _?q.forEach(function(R,$){this.append($,R)},this):Array.isArray(q)?q.forEach(function(R){if(R.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+R.length);this.append(R[0],R[1])},this):q&&Object.getOwnPropertyNames(q).forEach(function(R){this.append(R,q[R])},this)}_.prototype.append=function(q,R){q=E(q),R=A(R);var $=this.map[q];this.map[q]=$?$+", "+R:R},_.prototype.delete=function(q){delete this.map[E(q)]},_.prototype.get=function(q){return q=E(q),this.has(q)?this.map[q]:null},_.prototype.has=function(q){return this.map.hasOwnProperty(E(q))},_.prototype.set=function(q,R){this.map[E(q)]=A(R)},_.prototype.forEach=function(q,R){for(var $ in this.map)this.map.hasOwnProperty($)&&q.call(R,this.map[$],$,this)},_.prototype.keys=function(){var q=[];return this.forEach(function(R,$){q.push($)}),x(q)},_.prototype.values=function(){var q=[];return this.forEach(function(R){q.push(R)}),x(q)},_.prototype.entries=function(){var q=[];return this.forEach(function(R,$){q.push([$,R])}),x(q)},p.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function D(q){if(!q._noBody){if(q.bodyUsed)return Promise.reject(new TypeError("Already read"));q.bodyUsed=!0}}function k(q){return new Promise(function(R,$){q.onload=function(){R(q.result)},q.onerror=function(){$(q.error)}})}function J(q){var R=new FileReader,$=k(R);return R.readAsArrayBuffer(q),$}function H(q){var R=new FileReader,$=k(R),ue=/charset=([A-Za-z0-9_-]+)/.exec(q.type),ge=ue?ue[1]:"utf-8";return R.readAsText(q,ge),$}function ie(q){for(var R=new Uint8Array(q),$=new Array(R.length),ue=0;ue<R.length;ue++)$[ue]=String.fromCharCode(R[ue]);return $.join("")}function Z(q){if(q.slice)return q.slice(0);var R=new Uint8Array(q.byteLength);return R.set(new Uint8Array(q)),R.buffer}function ee(){return this.bodyUsed=!1,this._initBody=function(q){this.bodyUsed=this.bodyUsed,this._bodyInit=q,q?typeof q=="string"?this._bodyText=q:p.blob&&Blob.prototype.isPrototypeOf(q)?this._bodyBlob=q:p.formData&&FormData.prototype.isPrototypeOf(q)?this._bodyFormData=q:p.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)?this._bodyText=q.toString():p.arrayBuffer&&p.blob&&m(q)?(this._bodyArrayBuffer=Z(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(q)||S(q))?this._bodyArrayBuffer=Z(q):this._bodyText=q=Object.prototype.toString.call(q):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof q=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var q=D(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var q=D(this);return q||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(p.blob)return this.blob().then(J);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var q=D(this);if(q)return q;if(this._bodyBlob)return H(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ie(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var te=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Se(q){var R=q.toUpperCase();return te.indexOf(R)>-1?R:q}function W(q,R){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');R=R||{};var $=R.body;if(q instanceof W){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,R.headers||(this.headers=new _(q.headers)),this.method=q.method,this.mode=q.mode,this.signal=q.signal,!$&&q._bodyInit!=null&&($=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new _(R.headers)),this.method=Se(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal||(function(){if("AbortController"in f){var ce=new AbortController;return ce.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),(this.method==="GET"||this.method==="HEAD")&&(R.cache==="no-store"||R.cache==="no-cache")){var ue=/([?&])_=[^&]*/;if(ue.test(this.url))this.url=this.url.replace(ue,"$1_="+new Date().getTime());else{var ge=/\?/;this.url+=(ge.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function P(q){var R=new FormData;return q.trim().split("&").forEach(function($){if($){var ue=$.split("="),ge=ue.shift().replace(/\+/g," "),ce=ue.join("=").replace(/\+/g," ");R.append(decodeURIComponent(ge),decodeURIComponent(ce))}}),R}function he(q){var R=new _,$=q.replace(/\r?\n[\t ]+/g," ");return $.split("\r").map(function(ue){return ue.indexOf(`
`)===0?ue.substr(1,ue.length):ue}).forEach(function(ue){var ge=ue.split(":"),ce=ge.shift().trim();if(ce){var M=ge.join(":").trim();try{R.append(ce,M)}catch(X){console.warn("Response "+X.message)}}}),R}ee.call(W.prototype);function fe(q,R){if(!(this instanceof fe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=R.statusText===void 0?"":""+R.statusText,this.headers=new _(R.headers),this.url=R.url||"",this._initBody(q)}ee.call(fe.prototype),fe.prototype.clone=function(){return new fe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},fe.error=function(){var q=new fe(null,{status:200,statusText:""});return q.ok=!1,q.status=0,q.type="error",q};var ve=[301,302,303,307,308];fe.redirect=function(q,R){if(ve.indexOf(R)===-1)throw new RangeError("Invalid status code");return new fe(null,{status:R,headers:{location:q}})},c.DOMException=f.DOMException;try{new c.DOMException}catch{c.DOMException=function(R,$){this.message=R,this.name=$;var ue=Error(R);this.stack=ue.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function Ce(q,R){return new Promise(function($,ue){var ge=new W(q,R);if(ge.signal&&ge.signal.aborted)return ue(new c.DOMException("Aborted","AbortError"));var ce=new XMLHttpRequest;function M(){ce.abort()}ce.onload=function(){var de={statusText:ce.statusText,headers:he(ce.getAllResponseHeaders()||"")};ge.url.indexOf("file://")===0&&(ce.status<200||ce.status>599)?de.status=200:de.status=ce.status,de.url="responseURL"in ce?ce.responseURL:de.headers.get("X-Request-URL");var be="response"in ce?ce.response:ce.responseText;setTimeout(function(){$(new fe(be,de))},0)},ce.onerror=function(){setTimeout(function(){ue(new TypeError("Network request failed"))},0)},ce.ontimeout=function(){setTimeout(function(){ue(new TypeError("Network request timed out"))},0)},ce.onabort=function(){setTimeout(function(){ue(new c.DOMException("Aborted","AbortError"))},0)};function X(de){try{return de===""&&f.location.href?f.location.href:de}catch{return de}}if(ce.open(ge.method,X(ge.url),!0),ge.credentials==="include"?ce.withCredentials=!0:ge.credentials==="omit"&&(ce.withCredentials=!1),"responseType"in ce&&(p.blob?ce.responseType="blob":p.arrayBuffer&&(ce.responseType="arraybuffer")),R&&typeof R.headers=="object"&&!(R.headers instanceof _||f.Headers&&R.headers instanceof f.Headers)){var ae=[];Object.getOwnPropertyNames(R.headers).forEach(function(de){ae.push(E(de)),ce.setRequestHeader(de,A(R.headers[de]))}),ge.headers.forEach(function(de,be){ae.indexOf(be)===-1&&ce.setRequestHeader(be,de)})}else ge.headers.forEach(function(de,be){ce.setRequestHeader(be,de)});ge.signal&&(ge.signal.addEventListener("abort",M),ce.onreadystatechange=function(){ce.readyState===4&&ge.signal.removeEventListener("abort",M)}),ce.send(typeof ge._bodyInit>"u"?null:ge._bodyInit)})}return Ce.polyfill=!0,f.fetch||(f.fetch=Ce,f.Headers=_,f.Request=W,f.Response=fe),c.Headers=_,c.Request=W,c.Response=fe,c.fetch=Ce,c})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var r=i.fetch?i:o;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,t.exports=e})(Jc,Jc.exports)),Jc.exports}var yd=aU();let Wr;if(typeof queueMicrotask<"u")Wr=queueMicrotask;else{const t=Promise.resolve();Wr=e=>{t.then(e)}}var Nn,ai,mn,Td,KT;class lU{constructor(e){ne(this,Td);ne(this,Nn);ne(this,ai);ne(this,mn);G(this,Nn,new Uint8Array(new ArrayBuffer(e))),G(this,ai,0),G(this,mn,0)}get length(){return T(this,mn)-T(this,ai)}data(){return T(this,Nn).slice(T(this,ai),T(this,mn))}push(e){oe(this,Td,KT).call(this,e.byteLength),T(this,Nn).set(e,T(this,mn)),G(this,mn,T(this,mn)+e.byteLength)}shift(e){G(this,ai,T(this,ai)+e)}}Nn=new WeakMap,ai=new WeakMap,mn=new WeakMap,Td=new WeakSet,KT=function(e){if(T(this,mn)+e<=T(this,Nn).byteLength)return;const i=T(this,mn)-T(this,ai);if(i+e<=T(this,Nn).byteLength&&2*T(this,mn)>=T(this,Nn).byteLength)T(this,Nn).copyWithin(0,T(this,ai),T(this,mn));else{let o=T(this,Nn).byteLength;do o*=2;while(i+e>o);const r=new Uint8Array(new ArrayBuffer(o));r.set(T(this,Nn).slice(T(this,ai),T(this,mn)),0),G(this,Nn,r)}G(this,mn,i),G(this,ai,0)};function uU(t){const e=hi(t.baton),i=hi(t.base_url),o=lo(t.results,cU);return{baton:e,baseUrl:i,results:o}}function cU(t){const e=ci(t.type);if(e==="ok")return{type:"ok",response:dU(Vt(t.response))};if(e==="error")return{type:"error",error:Ca(Vt(t.error))};throw new He("Unexpected type of StreamResult")}function dU(t){const e=ci(t.type);if(e==="close")return{type:"close"};if(e==="execute")return{type:"execute",result:Em(Vt(t.result))};if(e==="batch")return{type:"batch",result:UT(Vt(t.result))};if(e==="sequence")return{type:"sequence"};if(e==="describe")return{type:"describe",result:qT(Vt(t.result))};if(e==="store_sql")return{type:"store_sql"};if(e==="close_sql")return{type:"close_sql"};if(e==="get_autocommit")return{type:"get_autocommit",isAutocommit:Ql(t.is_autocommit)};throw new He("Unexpected type of StreamResponse")}function fU(t){const e=hi(t.baton),i=hi(t.base_url);return{baton:e,baseUrl:i}}const hU={default(){return{baton:void 0,baseUrl:void 0,results:[]}},1(t,e){e.baton=t.string()},2(t,e){e.baseUrl=t.string()},3(t,e){e.results.push(t.message(pU))}},pU={default(){return{type:"none"}},1(t){return{type:"ok",response:t.message(mU)}},2(t){return{type:"error",error:t.message(Mi)}}},mU={default(){return{type:"none"}},1(t){return{type:"close"}},2(t){return t.message(gU)},3(t){return t.message(yU)},4(t){return{type:"sequence"}},5(t){return t.message(vU)},6(t){return{type:"store_sql"}},7(t){return{type:"close_sql"}},8(t){return t.message(SU)}},gU={default(){return{type:"execute",result:xa.default()}},1(t,e){e.result=t.message(xa)}},yU={default(){return{type:"batch",result:md.default()}},1(t,e){e.result=t.message(md)}},vU={default(){return{type:"describe",result:gd.default()}},1(t,e){e.result=t.message(gd)}},SU={default(){return{type:"get_autocommit",isAutocommit:!1}},1(t,e){e.isAutocommit=t.bool()}},EU={default(){return{baton:void 0,baseUrl:void 0}},1(t,e){e.baton=t.string()},2(t,e){e.baseUrl=t.string()}};var jl,Ko,os,Ri,rs,fa,ms,Op,XT,QT;class bU extends NT{constructor(i,o){super();ne(this,ms);ne(this,jl);ne(this,Ko);ne(this,os);ne(this,Ri);ne(this,rs);ne(this,fa);G(this,jl,i),G(this,Ko,o),G(this,os,void 0),G(this,Ri,new lU(16*1024)),G(this,rs,void 0),G(this,fa,!1)}async open(i){if(i.body===null)throw new He("No response body for cursor request");G(this,os,i.body[Symbol.asyncIterator]());const o=await oe(this,ms,Op).call(this,fU,EU);if(o===void 0)throw new He("Empty response to cursor request");return o}next(){return oe(this,ms,Op).call(this,PT,zT)}close(){this._setClosed(new yt("Cursor was manually closed"))}_setClosed(i){T(this,rs)===void 0&&(G(this,rs,i),T(this,jl)._cursorClosed(this),T(this,os)!==void 0&&T(this,os).return())}get closed(){return T(this,rs)!==void 0}}jl=new WeakMap,Ko=new WeakMap,os=new WeakMap,Ri=new WeakMap,rs=new WeakMap,fa=new WeakMap,ms=new WeakSet,Op=async function(i,o){for(;;){if(T(this,fa))return;if(T(this,rs)!==void 0)throw new $n("Cursor is closed",T(this,rs));if(T(this,Ko)==="json"){const c=oe(this,ms,XT).call(this);if(c!==void 0){const f=new TextDecoder().decode(c),p=JSON.parse(f);return mm(p,i)}}else if(T(this,Ko)==="protobuf"){const c=oe(this,ms,QT).call(this);if(c!==void 0)return Dd(c,o)}else throw At(T(this,Ko),"Impossible encoding");if(T(this,os)===void 0)throw new ao("Attempted to read from HTTP cursor before it was opened");const{value:r,done:l}=await T(this,os).next();if(l&&T(this,Ri).length===0)G(this,fa,!0);else{if(l)throw new He("Unexpected end of cursor stream");T(this,Ri).push(r)}}},XT=function(){const i=T(this,Ri).data(),r=i.indexOf(10);if(r<0)return;const l=i.slice(0,r);return T(this,Ri).shift(r+1),l},QT=function(){const i=T(this,Ri).data();let o=0,r=0;for(;;){if(r>=i.byteLength)return;const c=i[r];if(o|=(c&127)<<7*r,r+=1,!(c&128))break}if(i.byteLength<r+o)return;const l=i.slice(r,r+o);return T(this,Ri).shift(r+o),l};function TU(t,e){e.baton!==void 0&&t.string("baton",e.baton),t.arrayObjects("requests",e.requests,wU)}function wU(t,e){if(t.stringRaw("type",e.type),e.type!=="close"){if(e.type==="execute")t.object("stmt",e.stmt,ym);else if(e.type==="batch")t.object("batch",e.batch,pd);else if(e.type==="sequence")e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="describe")e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="store_sql")t.number("sql_id",e.sqlId),t.string("sql",e.sql);else if(e.type==="close_sql")t.number("sql_id",e.sqlId);else if(e.type!=="get_autocommit")throw At(e,"Impossible type of StreamRequest")}}function AU(t,e){e.baton!==void 0&&t.string("baton",e.baton),t.object("batch",e.batch,pd)}function _U(t,e){e.baton!==void 0&&t.string(1,e.baton);for(const i of e.requests)t.message(2,i,CU)}function CU(t,e){if(e.type==="close")t.message(1,e,xU);else if(e.type==="execute")t.message(2,e,RU);else if(e.type==="batch")t.message(3,e,NU);else if(e.type==="sequence")t.message(4,e,IU);else if(e.type==="describe")t.message(5,e,MU);else if(e.type==="store_sql")t.message(6,e,DU);else if(e.type==="close_sql")t.message(7,e,LU);else if(e.type==="get_autocommit")t.message(8,e,kU);else throw At(e,"Impossible type of StreamRequest")}function xU(t,e){}function RU(t,e){t.message(1,e.stmt,vm)}function NU(t,e){t.message(1,e.batch,Ld)}function IU(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId)}function MU(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId)}function DU(t,e){t.int32(1,e.sqlId),t.string(2,e.sql)}function LU(t,e){t.int32(1,e.sqlId)}function kU(t,e){}function UU(t,e){e.baton!==void 0&&t.string(1,e.baton),t.message(2,e.batch,Ld)}var as,to,ha,eu,pa,no,li,io,ls,us,so,Ni,ma,ze,$s,zp,Bo,WT,ZT,Gp,jT,ew,Vp;class PU extends RT{constructor(i,o,r,l,c){super(i.intMode);ne(this,ze);ne(this,as);ne(this,to);ne(this,ha);ne(this,eu);ne(this,pa);ne(this,no);ne(this,li);ne(this,io);ne(this,ls);ne(this,us);ne(this,so);ne(this,Ni);ne(this,ma);G(this,as,i),G(this,to,o.toString()),G(this,ha,r),G(this,eu,l),G(this,pa,c),G(this,no,void 0),G(this,li,new hd),G(this,io,!1),G(this,us,!1),G(this,so,!1),G(this,Ni,void 0),G(this,ma,new Ol)}client(){return T(this,as)}_sqlOwner(){return this}storeSql(i){const o=T(this,ma).alloc();return oe(this,ze,$s).call(this,{type:"store_sql",sqlId:o,sql:i}).then(()=>{},r=>this._setClosed(r)),new gm(this,o)}_closeSql(i){T(this,Ni)===void 0&&oe(this,ze,$s).call(this,{type:"close_sql",sqlId:i}).then(()=>T(this,ma).free(i),o=>this._setClosed(o))}_execute(i){return oe(this,ze,$s).call(this,{type:"execute",stmt:i}).then(o=>o.result)}_batch(i){return oe(this,ze,$s).call(this,{type:"batch",batch:i}).then(o=>o.result)}_describe(i){return oe(this,ze,$s).call(this,{type:"describe",sql:i.sql,sqlId:i.sqlId}).then(o=>o.result)}_sequence(i){return oe(this,ze,$s).call(this,{type:"sequence",sql:i.sql,sqlId:i.sqlId}).then(o=>{})}getAutocommit(){return T(this,as)._ensureVersion(3,"getAutocommit()"),oe(this,ze,$s).call(this,{type:"get_autocommit"}).then(i=>i.isAutocommit)}_openCursor(i){return new Promise((o,r)=>{oe(this,ze,zp).call(this,{type:"cursor",batch:i,cursorCallback:o,errorCallback:r})})}_cursorClosed(i){if(i!==T(this,ls))throw new ao("Cursor was closed, but it was not associated with the stream");G(this,ls,void 0),Wr(()=>oe(this,ze,Bo).call(this))}close(){this._setClosed(new yt("Stream was manually closed"))}closeGracefully(){G(this,us,!0),Wr(()=>oe(this,ze,Bo).call(this))}get closed(){return T(this,Ni)!==void 0||T(this,us)}_setClosed(i){if(T(this,Ni)===void 0){for(G(this,Ni,i),T(this,ls)!==void 0&&T(this,ls)._setClosed(i),T(this,as)._streamClosed(this);;){const o=T(this,li).shift();if(o!==void 0)o.errorCallback(i);else break}(T(this,no)!==void 0||T(this,io))&&!T(this,so)&&(T(this,li).push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),G(this,so,!0),Wr(()=>oe(this,ze,Bo).call(this)))}}}as=new WeakMap,to=new WeakMap,ha=new WeakMap,eu=new WeakMap,pa=new WeakMap,no=new WeakMap,li=new WeakMap,io=new WeakMap,ls=new WeakMap,us=new WeakMap,so=new WeakMap,Ni=new WeakMap,ma=new WeakMap,ze=new WeakSet,$s=function(i){return new Promise((o,r)=>{oe(this,ze,zp).call(this,{type:"pipeline",request:i,responseCallback:o,errorCallback:r})})},zp=function(i){if(T(this,Ni)!==void 0)throw new $n("Stream is closed",T(this,Ni));if(T(this,us))throw new $n("Stream is closing",void 0);T(this,li).push(i),Wr(()=>oe(this,ze,Bo).call(this))},Bo=function(){if(T(this,io)||T(this,ls)!==void 0)return;if(T(this,us)&&T(this,li).length===0){this._setClosed(new yt("Stream was gracefully closed"));return}const i=T(this,as)._endpoint;if(i===void 0){T(this,as)._endpointPromise.then(()=>oe(this,ze,Bo).call(this),r=>this._setClosed(r));return}const o=T(this,li).shift();if(o!==void 0)if(o.type==="pipeline"){const r=[o];for(;;){const l=T(this,li).first();if(l!==void 0&&l.type==="pipeline")r.push(l),T(this,li).shift();else if(l===void 0&&T(this,us)&&!T(this,so)){r.push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),G(this,so,!0);break}else break}oe(this,ze,WT).call(this,i,r)}else if(o.type==="cursor")oe(this,ze,ZT).call(this,i,o);else throw At(o,"Impossible type of QueueEntry")},WT=function(i,o){oe(this,ze,Gp).call(this,()=>oe(this,ze,jT).call(this,o,i),r=>BU(r,i.encoding),r=>r.baton,r=>r.baseUrl,r=>qU(o,r),r=>o.forEach(l=>l.errorCallback(r)))},ZT=function(i,o){const r=new bU(this,i.encoding);G(this,ls,r),oe(this,ze,Gp).call(this,()=>oe(this,ze,ew).call(this,o,i),l=>r.open(l),l=>l.baton,l=>l.baseUrl,l=>o.cursorCallback(r),l=>o.errorCallback(l))},Gp=function(i,o,r,l,c,f){let p;try{const m=i();p=T(this,eu)(m)}catch(m){p=Promise.reject(m)}G(this,io,!0),p.then(m=>m.ok?o(m):HU(m).then(v=>{throw v})).then(m=>{G(this,no,r(m)),G(this,to,l(m)??T(this,to)),c(m)}).catch(m=>{this._setClosed(m),f(m)}).finally(()=>{G(this,io,!1),oe(this,ze,Bo).call(this)})},jT=function(i,o){return oe(this,ze,Vp).call(this,new URL(o.pipelinePath,T(this,to)),{baton:T(this,no),requests:i.map(r=>r.request)},o.encoding,TU,_U)},ew=function(i,o){if(o.cursorPath===void 0)throw new Aa(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${o.version}.`);return oe(this,ze,Vp).call(this,new URL(o.cursorPath,T(this,to)),{baton:T(this,no),batch:i.batch},o.encoding,AU,UU)},Vp=function(i,o,r,l,c){let f,p;if(r==="json")f=vT(o,l),p="application/json";else if(r==="protobuf")f=ET(o,c),p="application/x-protobuf";else throw At(r,"Impossible encoding");const m=new yd.Headers;return m.set("content-type",p),T(this,ha)!==void 0&&m.set("authorization",`Bearer ${T(this,ha)}`),T(this,pa)!==void 0&&m.set("x-turso-encryption-key",T(this,pa)),new yd.Request(i.toString(),{method:"POST",headers:m,body:f})};function qU(t,e){if(e.results.length!==t.length)throw new He("Server returned unexpected number of pipeline results");for(let i=0;i<t.length;++i){const o=e.results[i],r=t[i];if(o.type==="ok"){if(o.response.type!==r.request.type)throw new He("Received unexpected type of response");r.responseCallback(o.response)}else if(o.type==="error")r.errorCallback(_a(o.error));else throw o.type==="none"?new He("Received unrecognized type of StreamResult"):At(o,"Received impossible type of StreamResult")}}async function BU(t,e){var i;if(e==="json"){const o=await t.json();return mm(o,uU)}if(e==="protobuf"){const o=await t.arrayBuffer();return Dd(new Uint8Array(o),hU)}throw await((i=t.body)==null?void 0:i.cancel()),At(e,"Impossible encoding")}async function HU(t){var o;const e=t.headers.get("content-type")??"text/plain";let i=`Server returned HTTP status ${t.status}`;if(e==="application/json"){const r=await t.json();return"message"in r?_a(r):new jc(i,t.status)}if(e==="text/plain"){const r=(await t.text()).trim();return r!==""&&(i+=`: ${r}`),new jc(i,t.status)}return await((o=t.body)==null?void 0:o.cancel()),new jc(i,t.status)}const OU=[{versionPath:"v3-protobuf",pipelinePath:"v3-protobuf/pipeline",cursorPath:"v3-protobuf/cursor",version:3,encoding:"protobuf"}],Fp={versionPath:"v2",pipelinePath:"v2/pipeline",cursorPath:void 0,version:2,encoding:"json"};var ga,tu,ya,nu,cs,Xo,va,id,UE;let zU=(UE=class extends mT{constructor(i,o,r,l,c=2){super();ne(this,va);ne(this,ga);ne(this,tu);ne(this,ya);ne(this,nu);ne(this,cs);ne(this,Xo);Ge(this,"_endpointPromise");Ge(this,"_endpoint");G(this,ga,i),G(this,tu,o),G(this,ya,r??yd.fetch),G(this,nu,l),G(this,cs,void 0),G(this,Xo,new Set),c==3?(this._endpointPromise=GU(T(this,ya),T(this,ga)),this._endpointPromise.then(f=>this._endpoint=f,f=>oe(this,va,id).call(this,f))):(this._endpointPromise=Promise.resolve(Fp),this._endpointPromise.then(f=>this._endpoint=f,f=>oe(this,va,id).call(this,f)))}async getVersion(){return this._endpoint!==void 0?this._endpoint.version:(await this._endpointPromise).version}_ensureVersion(i,o){if(!(i<=Fp.version)){if(this._endpoint===void 0)throw new Aa(`${o} is supported only on protocol version ${i} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this._endpoint.version<i)throw new Aa(`${o} is supported only on protocol version ${i} and higher, but the HTTP server only supports version ${this._endpoint.version}.`)}}openStream(){if(T(this,cs)!==void 0)throw new $n("Client is closed",T(this,cs));const i=new PU(this,T(this,ga),T(this,tu),T(this,ya),T(this,nu));return T(this,Xo).add(i),i}_streamClosed(i){T(this,Xo).delete(i)}close(){oe(this,va,id).call(this,new yt("Client was manually closed"))}get closed(){return T(this,cs)!==void 0}},ga=new WeakMap,tu=new WeakMap,ya=new WeakMap,nu=new WeakMap,cs=new WeakMap,Xo=new WeakMap,va=new WeakSet,id=function(i){if(T(this,cs)===void 0){G(this,cs,i);for(const o of Array.from(T(this,Xo)))o._setClosed(new $n("Client was closed",i))}},UE);async function GU(t,e){const i=t;for(const o of OU){const r=new URL(o.versionPath,e),l=new yd.Request(r.toString(),{method:"GET"}),c=await i(l);if(await c.arrayBuffer(),c.ok)return o}return Fp}function tw(t,e,i=2){if(typeof Qr>"u")throw new yT("WebSockets are not supported in this environment");var o=void 0;i==3?o=Array.from(GT.keys()):o=Array.from(oU.keys());const r=new Qr(t,o);return new rU(r,e)}function TE(t,e,i,o,r=2){return new zU(t instanceof URL?t:new URL(t),e,i,o,r)}var Sa,ds,en;class nw{constructor(e,i){ne(this,Sa);ne(this,ds);ne(this,en);G(this,Sa,e),G(this,ds,i),G(this,en,void 0)}execute(e){return this.batch([e]).then(i=>i[0])}async batch(e){const i=this._getStream();if(i.closed)throw new Qe("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{const o=e.map(jo);let r;if(T(this,en)===void 0){this._getSqlCache().apply(o);const c=i.batch(T(this,ds)>=3),f=c.step(),p=f.run(Np(T(this,Sa)));let m=f;r=o.map(v=>{const S=c.step().condition(gn.ok(m));T(this,ds)>=3&&S.condition(gn.not(gn.isAutocommit(c)));const E=S.query(v);return E.catch(()=>{}),m=S,E}),G(this,en,c.execute().then(()=>p).then(()=>{}));try{await T(this,en)}catch(v){throw this.close(),v}}else{T(this,ds)<3&&await T(this,en),this._getSqlCache().apply(o);const c=i.batch(T(this,ds)>=3);let f;r=o.map(p=>{const m=c.step();f!==void 0&&m.condition(gn.ok(f)),T(this,ds)>=3&&m.condition(gn.not(gn.isAutocommit(c)));const v=m.query(p);return v.catch(()=>{}),f=m,v}),await c.execute()}const l=[];for(let c=0;c<r.length;c++)try{const f=await r[c];if(f===void 0)throw new ta("Statement in a transaction was not executed, probably because the transaction has been rolled back",c,"TRANSACTION_CLOSED");l.push(kd(f))}catch(f){if(f instanceof ta)throw f;const p=pt(f);throw p instanceof Qe?new ta(p.message,c,p.code,p.extendedCode,p.rawCode,p.cause instanceof Error?p.cause:void 0):p}return l}catch(o){throw pt(o)}}async executeMultiple(e){const i=this._getStream();if(i.closed)throw new Qe("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{if(T(this,en)===void 0){G(this,en,i.run(Np(T(this,Sa))).then(()=>{}));try{await T(this,en)}catch(o){throw this.close(),o}}else await T(this,en);await i.sequence(e)}catch(o){throw pt(o)}}async rollback(){try{const e=this._getStream();if(e.closed||T(this,en)===void 0)return;const i=e.run("ROLLBACK").catch(o=>{throw pt(o)});e.closeGracefully(),await i}catch(e){throw pt(e)}finally{this.close()}}async commit(){try{const e=this._getStream();if(e.closed)throw new Qe("Cannot commit the transaction because it is already closed","TRANSACTION_CLOSED");if(T(this,en)!==void 0)await T(this,en);else return;const i=e.run("COMMIT").catch(o=>{throw pt(o)});e.closeGracefully(),await i}catch(e){throw pt(e)}finally{this.close()}}}Sa=new WeakMap,ds=new WeakMap,en=new WeakMap;async function vd(t,e,i,o,r=!1){r&&i.step().run("PRAGMA foreign_keys=off");const l=i.step(),c=l.run(Np(t));let f=l;const p=o.map(A=>{const x=i.step().condition(gn.ok(f));e>=3&&x.condition(gn.not(gn.isAutocommit(i)));const _=x.query(A);return f=x,_}),m=i.step().condition(gn.ok(f));e>=3&&m.condition(gn.not(gn.isAutocommit(i)));const v=m.run("COMMIT");i.step().condition(gn.not(gn.ok(m))).run("ROLLBACK").catch(A=>{}),r&&i.step().run("PRAGMA foreign_keys=on"),await i.execute();const E=[];await c;for(let A=0;A<p.length;A++)try{const x=await p[A];if(x===void 0)throw new ta("Statement in a batch was not executed, probably because the transaction has been rolled back",A,"TRANSACTION_CLOSED");E.push(kd(x))}catch(x){if(x instanceof ta)throw x;const _=pt(x);throw _ instanceof Qe?new ta(_.message,A,_.code,_.extendedCode,_.rawCode,_.cause instanceof Error?_.cause:void 0):_}return await v,E}function jo(t){let e,i;Array.isArray(t)?[e,i]=t:typeof t=="string"?e=t:(e=t.sql,i=t.args);const o=new CT(e);if(i)if(Array.isArray(i))o.bindIndexes(i);else for(const[r,l]of Object.entries(i))o.bindName(r,l);return o}function kd(t){const e=t.columnNames.map(c=>c??""),i=t.columnDecltypes.map(c=>c??""),o=t.rows,r=t.affectedRowCount,l=t.lastInsertRowid!==void 0?t.lastInsertRowid:void 0;return new jL(e,i,o,r,l)}function pt(t){if(t instanceof yt){const e=iw(t);return new Qe(t.message,e,void 0,void 0,t)}return t}function iw(t){return t instanceof gT&&t.code!==void 0?t.code:t instanceof He?"HRANA_PROTO_ERROR":t instanceof $n?t.cause instanceof yt?iw(t.cause):"HRANA_CLOSED_ERROR":t instanceof Ip?"HRANA_WEBSOCKET_ERROR":t instanceof jc?"SERVER_ERROR":t instanceof Aa?"PROTOCOL_VERSION_ERROR":t instanceof ao?"INTERNAL_ERROR":"UNKNOWN"}var iu,Ii;class bm{constructor(e,i){ne(this,iu);ne(this,Ii);Ge(this,"capacity");G(this,iu,e),G(this,Ii,new VU),this.capacity=i}apply(e){if(this.capacity<=0)return;const i=new Set;for(const o of e){if(typeof o.sql!="string")continue;const r=o.sql;if(r.length>=5e3)continue;let l=T(this,Ii).get(r);if(l===void 0){for(;T(this,Ii).size+1>this.capacity;){const[c,f]=T(this,Ii).peekLru();if(i.has(f))break;f.close(),T(this,Ii).delete(c)}T(this,Ii).size+1<=this.capacity&&(l=T(this,iu).storeSql(r),T(this,Ii).set(r,l))}l!==void 0&&(o.sql=l,i.add(l))}}}iu=new WeakMap,Ii=new WeakMap;var ui;class VU{constructor(){ne(this,ui);G(this,ui,new Map)}get(e){const i=T(this,ui).get(e);return i!==void 0&&(T(this,ui).delete(e),T(this,ui).set(e,i)),i}set(e,i){T(this,ui).set(e,i)}peekLru(){for(const e of T(this,ui).entries())return e}delete(e){T(this,ui).delete(e)}get size(){return T(this,ui).size}}ui=new WeakMap;var np,wE;function FU(){if(wE)return np;wE=1;function t(o){var r=0,l=[];function c(){r--,r<o&&f()}function f(){var S=l.shift();v.queue=l.length,S&&m(S.fn).then(S.resolve).catch(S.reject)}function p(S){return new Promise(function(E,A){l.push({fn:S,resolve:E,reject:A}),v.queue=l.length})}function m(S){r++;try{return Promise.resolve(S()).then(function(E){return c(),E},function(E){throw c(),E})}catch(E){return c(),Promise.reject(E)}}var v=function(S){return r>=o?p(S):m(S)};return v}function e(o,r){var l=!1,c=this;return Promise.all(o.map(function(){var f=arguments;return c(function(){if(!l)return r.apply(void 0,f).catch(function(p){throw l=!0,p})})}))}function i(o){return o.queue=0,o.map=e,o}return np=function(o){return i(o?t(o):function(r){return r()})},np}var YU=FU();const sw=$p(YU);function JU(t){if(t.scheme!=="wss"&&t.scheme!=="ws")throw new Qe(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(t.scheme+":")}. For more information, please read ${Xl}`,"URL_SCHEME_NOT_SUPPORTED");if(t.encryptionKey!==void 0)throw new Qe("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(t.scheme==="ws"&&t.tls)throw new Qe('A "ws:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(t.scheme==="wss"&&!t.tls)throw new Qe('A "wss:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const e=Cp(t.scheme,t.authority,t.path);let i;try{i=tw(e,t.authToken)}catch(o){if(o instanceof yT){const r=t.scheme==="wss"?"https":"http",l=Cp(r,t.authority,t.path);throw new Qe(`This environment does not support WebSockets, please switch to the HTTP client by using a "${r}:" URL (${JSON.stringify(l)}). For more information, please read ${Xl}`,"WEBSOCKETS_NOT_SUPPORTED")}throw pt(o)}return new KU(i,e,t.authToken,t.intMode,t.concurrency)}const $U=60*1e3,AE=100;var su,ou,ru,It,Kt,Jp,au,In,$r,Vl;class KU{constructor(e,i,o,r,l){ne(this,In);ne(this,su);ne(this,ou);ne(this,ru);ne(this,It);ne(this,Kt);Ge(this,"closed");Ge(this,"protocol");ne(this,Jp);ne(this,au);G(this,su,i),G(this,ou,o),G(this,ru,r),G(this,It,oe(this,In,Vl).call(this,e)),G(this,Kt,void 0),this.closed=!1,this.protocol="ws",G(this,au,sw(l))}async limit(e){return T(this,au).call(this,e)}async execute(e,i){let o;return typeof e=="string"?o={sql:e,args:i||[]}:o=e,this.limit(async()=>{const r=await oe(this,In,$r).call(this);try{const l=jo(o);r.conn.sqlCache.apply([l]);const c=r.stream.query(l);r.stream.closeGracefully();const f=await c;return kd(f)}catch(l){throw pt(l)}finally{this._closeStream(r)}})}async batch(e,i="deferred"){return this.limit(async()=>{const o=await oe(this,In,$r).call(this);try{const l=e.map(v=>Array.isArray(v)?{sql:v[0],args:v[1]||[]}:v).map(jo),c=await o.conn.client.getVersion();o.conn.sqlCache.apply(l);const f=o.stream.batch(c>=3);return await vd(i,c,f,l)}catch(r){throw pt(r)}finally{this._closeStream(o)}})}async migrate(e){return this.limit(async()=>{const i=await oe(this,In,$r).call(this);try{const o=e.map(jo),r=await i.conn.client.getVersion(),l=i.stream.batch(r>=3);return await vd("deferred",r,l,o,!0)}catch(o){throw pt(o)}finally{this._closeStream(i)}})}async transaction(e="write"){return this.limit(async()=>{const i=await oe(this,In,$r).call(this);try{const o=await i.conn.client.getVersion();return new XU(this,i,e,o)}catch(o){throw this._closeStream(i),pt(o)}})}async executeMultiple(e){return this.limit(async()=>{const i=await oe(this,In,$r).call(this);try{const o=i.stream.sequence(e);i.stream.closeGracefully(),await o}catch(o){throw pt(o)}finally{this._closeStream(i)}})}sync(){throw new Qe("sync not supported in ws mode","SYNC_NOT_SUPPORTED")}async reconnect(){try{for(const o of Array.from(T(this,It).streamStates))try{o.stream.close()}catch{}T(this,It).client.close()}catch{}if(T(this,Kt)){try{T(this,Kt).client.close()}catch{}G(this,Kt,void 0)}const e=oe(this,In,Vl).call(this),i=await e.client.getVersion();e.useSqlCache=i>=2,e.useSqlCache&&(e.sqlCache.capacity=AE),G(this,It,e),this.closed=!1}_closeStream(e){e.stream.close();const i=e.conn;i.streamStates.delete(e),i.streamStates.size===0&&i!==T(this,It)&&i.client.close()}close(){if(T(this,It).client.close(),this.closed=!0,T(this,Kt)){try{T(this,Kt).client.close()}catch{}G(this,Kt,void 0)}this.closed=!0}}su=new WeakMap,ou=new WeakMap,ru=new WeakMap,It=new WeakMap,Kt=new WeakMap,Jp=new WeakMap,au=new WeakMap,In=new WeakSet,$r=async function(){if(this.closed)throw new Qe("The client is closed","CLIENT_CLOSED");if(new Date().valueOf()-T(this,It).openTime.valueOf()>$U&&T(this,Kt)===void 0){const r=oe(this,In,Vl).call(this);G(this,Kt,r),r.client.getVersion().then(l=>{T(this,It)!==r&&T(this,It).streamStates.size===0&&T(this,It).client.close(),G(this,It,r),G(this,Kt,void 0)},l=>{G(this,Kt,void 0)})}if(T(this,It).client.closed)try{T(this,Kt)!==void 0?G(this,It,T(this,Kt)):G(this,It,oe(this,In,Vl).call(this))}catch(r){throw pt(r)}const o=T(this,It);try{o.useSqlCache===void 0&&(o.useSqlCache=await o.client.getVersion()>=2,o.useSqlCache&&(o.sqlCache.capacity=AE));const r=o.client.openStream();r.intMode=T(this,ru);const l={conn:o,stream:r};return o.streamStates.add(l),l}catch(r){throw pt(r)}},Vl=function(e){try{return e??(e=tw(T(this,su),T(this,ou))),{client:e,useSqlCache:void 0,sqlCache:new bm(e,0),openTime:new Date,streamStates:new Set}}catch(i){throw pt(i)}};var lu,oo;class XU extends nw{constructor(i,o,r,l){super(r,l);ne(this,lu);ne(this,oo);G(this,lu,i),G(this,oo,o)}_getStream(){return T(this,oo).stream}_getSqlCache(){return T(this,oo).conn.sqlCache}close(){T(this,lu)._closeStream(T(this,oo))}get closed(){return T(this,oo).stream.closed}}lu=new WeakMap,oo=new WeakMap;function QU(t){if(t.scheme!=="https"&&t.scheme!=="http")throw new Qe(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(t.scheme+":")}. For more information, please read ${Xl}`,"URL_SCHEME_NOT_SUPPORTED");if(t.encryptionKey!==void 0)throw new Qe("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(t.scheme==="http"&&t.tls)throw new Qe('A "http:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(t.scheme==="https"&&!t.tls)throw new Qe('A "https:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const e=Cp(t.scheme,t.authority,t.path);return new WU(e,t.authToken,t.intMode,t.fetch,t.concurrency,t.remoteEncryptionKey)}const ow=30;var Mt,Ea,ba,Ta,uu,wa,cu,du;class WU{constructor(e,i,o,r,l,c){ne(this,Mt);Ge(this,"protocol");ne(this,Ea);ne(this,ba);ne(this,Ta);ne(this,uu);ne(this,wa);ne(this,cu);ne(this,du);G(this,Ea,e),G(this,wa,i),G(this,ba,o),G(this,Ta,r),G(this,uu,l),G(this,cu,c),G(this,Mt,TE(T(this,Ea),T(this,wa),T(this,Ta),c)),T(this,Mt).intMode=T(this,ba),this.protocol="http",G(this,du,sw(T(this,uu)))}async limit(e){return T(this,du).call(this,e)}async execute(e,i){let o;return typeof e=="string"?o={sql:e,args:i||[]}:o=e,this.limit(async()=>{try{const r=jo(o);let l;const c=T(this,Mt).openStream();try{l=c.query(r)}finally{c.closeGracefully()}const f=await l;return kd(f)}catch(r){throw pt(r)}})}async batch(e,i="deferred"){return this.limit(async()=>{try{const r=e.map(m=>Array.isArray(m)?{sql:m[0],args:m[1]||[]}:m).map(jo),l=await T(this,Mt).getVersion();let c;const f=T(this,Mt).openStream();try{new bm(f,ow).apply(r);const v=f.batch(!1);c=vd(i,l,v,r)}finally{f.closeGracefully()}return await c}catch(o){throw pt(o)}})}async migrate(e){return this.limit(async()=>{try{const i=e.map(jo),o=await T(this,Mt).getVersion();let r;const l=T(this,Mt).openStream();try{const f=l.batch(!1);r=vd("deferred",o,f,i,!0)}finally{l.closeGracefully()}return await r}catch(i){throw pt(i)}})}async transaction(e="write"){return this.limit(async()=>{try{const i=await T(this,Mt).getVersion();return new ZU(T(this,Mt).openStream(),e,i)}catch(i){throw pt(i)}})}async executeMultiple(e){return this.limit(async()=>{try{let i;const o=T(this,Mt).openStream();try{i=o.sequence(e)}finally{o.closeGracefully()}await i}catch(i){throw pt(i)}})}sync(){throw new Qe("sync not supported in http mode","SYNC_NOT_SUPPORTED")}close(){T(this,Mt).close()}async reconnect(){try{this.closed||T(this,Mt).close()}finally{G(this,Mt,TE(T(this,Ea),T(this,wa),T(this,Ta),T(this,cu))),T(this,Mt).intMode=T(this,ba)}}get closed(){return T(this,Mt).closed}}Mt=new WeakMap,Ea=new WeakMap,ba=new WeakMap,Ta=new WeakMap,uu=new WeakMap,wa=new WeakMap,cu=new WeakMap,du=new WeakMap;var Qo,fu;class ZU extends nw{constructor(i,o,r){super(o,r);ne(this,Qo);ne(this,fu);G(this,Qo,i),G(this,fu,new bm(i,ow))}_getStream(){return T(this,Qo)}_getSqlCache(){return T(this,fu)}close(){T(this,Qo).close()}get closed(){return T(this,Qo).closed}}Qo=new WeakMap,fu=new WeakMap;function jU(t){return eP(nk(t))}function eP(t){if(t.scheme==="ws"||t.scheme==="wss")return JU(t);if(t.scheme==="http"||t.scheme==="https")return QU(t);throw new Qe(`The client that uses Web standard APIs supports only "libsql:", "wss:", "ws:", "https:" and "http:" URLs, got ${JSON.stringify(t.scheme+":")}. For more information, please read ${Xl}`,"URL_SCHEME_NOT_SUPPORTED")}const Ai=jU({url:"libsql://independent-times-ante93366.aws-eu-west-1.turso.io",authToken:"eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJhIjoicnciLCJpYXQiOjE3Njg5OTQ3NDUsImlkIjoiYThlMjE4MTktOTBhYS00YzE2LTgwOTUtYjY2NjZmZjRiODRmIiwicmlkIjoiYmE5NTVlOTMtMTVkMS00OGMzLWJmZGItY2VkZDQ4N2NlMTI3In0.fV9sb6UG1QMiAN5SoZUglfZasFd2RuJFsilRoyYEzRKEpkcGTrZda4hf87IUqZNN74hYeHrla00pn7hGb0coAw"});let ip=null,_E=!1;const tP=async()=>{if(!_E){console.log("Initializing Turso database...");try{await nP(),_E=!0,console.log("Database initialized successfully")}catch(t){throw console.error("Fatal: Could not initialize database",t),t}}};async function nP(){try{await Ai.batch([`CREATE TABLE IF NOT EXISTS articles (
        id TEXT PRIMARY KEY,
        title TEXT,
        summary TEXT,
        sections TEXT,
        tags TEXT,
        timestamp INTEGER,
        sourceTopic TEXT,
        imageUrl TEXT
      )`,`CREATE TABLE IF NOT EXISTS system_state (
        key TEXT PRIMARY KEY,
        value TEXT
      )`,`CREATE TABLE IF NOT EXISTS philosophical_summaries (
        id TEXT PRIMARY KEY,
        title TEXT,
        content TEXT,
        articleIds TEXT,
        timestamp INTEGER,
        dateRangeStart INTEGER,
        dateRangeEnd INTEGER,
        tags TEXT,
        synthesis TEXT
      )`],"write")}catch(t){throw console.error("Failed to create tables",t),t}}const _n={async waitForInit(){ip||(ip=tP()),await ip},async getAllArticles(){await this.waitForInit();try{const t=await Ai.execute("SELECT * FROM articles ORDER BY timestamp DESC LIMIT 50"),e=[];for(const i of t.rows)e.push({id:i.id,title:i.title,summary:i.summary,sections:JSON.parse(i.sections),tags:JSON.parse(i.tags),timestamp:i.timestamp,sourceTopic:i.sourceTopic,imageUrl:i.imageUrl});return e}catch(t){return console.error("DB Fetch Error",t),[]}},async saveArticles(t){await this.waitForInit();try{for(const e of t)await Ai.execute({sql:`INSERT OR REPLACE INTO articles (id, title, summary, sections, tags, timestamp, sourceTopic, imageUrl) 
                VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,args:[e.id,e.title,e.summary,JSON.stringify(e.sections),JSON.stringify(e.tags),e.timestamp,e.sourceTopic,e.imageUrl||""]});console.log(`Saved ${t.length} articles to Turso`)}catch(e){throw console.error("DB Save Error",e),e}},async getLastUpdated(){await this.waitForInit();try{const t=await Ai.execute({sql:"SELECT value FROM system_state WHERE key = ?",args:["lastUpdated"]});return t.rows.length>0?parseInt(t.rows[0].value):null}catch(t){return console.error("Failed to get lastUpdated",t),null}},async setLastUpdated(t){await this.waitForInit();try{await Ai.execute({sql:"INSERT OR REPLACE INTO system_state (key, value) VALUES (?, ?)",args:["lastUpdated",t.toString()]})}catch(e){console.error("Failed to set lastUpdated",e)}},async getAllSummaries(){await this.waitForInit();try{const t=await Ai.execute("SELECT * FROM philosophical_summaries ORDER BY timestamp DESC LIMIT 50"),e=[];for(const i of t.rows)e.push({id:i.id,title:i.title,content:i.content,articleIds:JSON.parse(i.articleIds),timestamp:i.timestamp,dateRange:{start:i.dateRangeStart,end:i.dateRangeEnd},tags:JSON.parse(i.tags),synthesis:JSON.parse(i.synthesis)});return e}catch(t){return console.error("DB Fetch Summaries Error",t),[]}},async saveSummary(t){await this.waitForInit();try{await Ai.execute({sql:`INSERT OR REPLACE INTO philosophical_summaries 
              (id, title, content, articleIds, timestamp, dateRangeStart, dateRangeEnd, tags, synthesis) 
              VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,args:[t.id,t.title,t.content,JSON.stringify(t.articleIds),t.timestamp,t.dateRange.start,t.dateRange.end,JSON.stringify(t.tags),JSON.stringify(t.synthesis)]}),console.log("Saved philosophical summary to Turso")}catch(e){throw console.error("DB Save Summary Error",e),e}},async getSummaryById(t){await this.waitForInit();try{const e=await Ai.execute({sql:"SELECT * FROM philosophical_summaries WHERE id = ?",args:[t]});if(e.rows.length>0){const i=e.rows[0];return{id:i.id,title:i.title,content:i.content,articleIds:JSON.parse(i.articleIds),timestamp:i.timestamp,dateRange:{start:i.dateRangeStart,end:i.dateRangeEnd},tags:JSON.parse(i.tags),synthesis:JSON.parse(i.synthesis)}}return null}catch(e){return console.error("Failed to get summary by id",e),null}},async getArticlesSinceLastSummary(){await this.waitForInit();try{const t=await Ai.execute({sql:"SELECT value FROM system_state WHERE key = ?",args:["articlesSinceLastSummary"]});return t.rows.length>0?parseInt(t.rows[0].value):0}catch(t){return console.error("Failed to get articlesSinceLastSummary",t),0}},async setArticlesSinceLastSummary(t){await this.waitForInit();try{await Ai.execute({sql:"INSERT OR REPLACE INTO system_state (key, value) VALUES (?, ?)",args:["articlesSinceLastSummary",t.toString()]})}catch(e){console.error("Failed to set articlesSinceLastSummary",e)}}},iP=({onSummaryClick:t})=>{const[e,i]=B.useState([]),[o,r]=B.useState(!0);B.useEffect(()=>{l()},[]);const l=async()=>{try{const c=await _n.getAllSummaries();i(c)}catch(c){console.error("Failed to load summaries",c)}finally{r(!1)}};return o?w.jsx("div",{className:"min-h-screen bg-paper flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx(ro,{size:48,className:"mx-auto text-black animate-pulse mb-4"}),w.jsx("h2",{className:"text-xl font-serif",children:"Loading Philosophical Syntheses..."})]})}):e.length===0?w.jsx("div",{className:"min-h-screen bg-paper",children:w.jsx("div",{className:"container mx-auto px-4 py-20",children:w.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[w.jsx(ro,{size:64,className:"mx-auto text-gray-400 mb-6"}),w.jsx("h2",{className:"font-serif text-3xl font-bold mb-4",children:"No Philosophical Syntheses Yet"}),w.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-6",children:"The Philosopher Agent automatically generates meta-analyses after every 6 articles. These syntheses explore overarching themes, paradoxes, and humanity's trajectory."}),w.jsxs("div",{className:"bg-white border-2 border-gray-200 p-6 text-left",children:[w.jsx("h3",{className:"font-serif text-xl font-bold mb-3",children:"What are Philosophical Syntheses?"}),w.jsxs("ul",{className:"space-y-2 text-gray-700",children:[w.jsx("li",{children:" Meta-analyses of recent articles"}),w.jsx("li",{children:" Connections between disparate narratives"}),w.jsx("li",{children:" Insights into the zeitgeist"}),w.jsx("li",{children:" Questions about humanity's evolution"})]})]})]})})}):w.jsx("div",{className:"min-h-screen bg-paper py-8",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"mb-12 text-center",children:[w.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[w.jsx(ro,{size:48,className:"text-accent"}),w.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-bold",children:"Philosophical Syntheses"})]}),w.jsx("p",{className:"text-gray-600 text-lg max-w-3xl mx-auto",children:"Meta-analyses exploring the deeper patterns, paradoxes, and implications connecting our most impactful narratives."})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 auto-rows-fr",children:e.map(c=>w.jsx(kL,{summary:c,onClick:t},c.id))})]})})},sP=({summary:t,articles:e,onClose:i,onArticleClick:o})=>{B.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const r=f=>new Date(f).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),l=`${r(t.dateRange.start)} - ${r(t.dateRange.end)}`,c=e.filter(f=>t.articleIds.includes(f.id));return w.jsxs("div",{className:"fixed inset-0 z-50 bg-paper overflow-y-auto",children:[w.jsx("button",{onClick:i,className:"fixed top-6 right-6 z-50 bg-black text-white p-3 rounded-full hover:bg-gray-800 transition-colors shadow-xl","aria-label":"Close",children:w.jsx(_d,{size:24})}),w.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"p-4 bg-black text-white rounded-full",children:w.jsx(ro,{size:32})}),w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-mono uppercase tracking-wider text-gray-600",children:"Philosophical Synthesis"}),w.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[w.jsx(ib,{size:16}),w.jsx("span",{children:l})]})]})]}),w.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-bold leading-tight mb-6",children:t.title}),w.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map((f,p)=>w.jsx("span",{className:"inline-flex items-center gap-1 text-xs bg-black text-white px-3 py-1 font-mono uppercase tracking-wider",children:f},p))})]}),w.jsx("div",{className:"prose prose-lg max-w-none mb-12",children:w.jsx("div",{className:"bg-white border-l-4 border-accent p-6 mb-8 shadow-sm",children:w.jsx("p",{className:"text-lg leading-relaxed italic text-gray-800",children:t.content})})}),w.jsxs("section",{className:"mb-12 bg-white p-8 border-2 border-gray-200",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx(Bx,{size:28,className:"text-accent"}),w.jsx("h2",{className:"font-serif text-3xl font-bold",children:"Overarching Themes"})]}),w.jsx("ul",{className:"space-y-4",children:t.synthesis.themes.map((f,p)=>w.jsxs("li",{className:"flex gap-4",children:[w.jsxs("span",{className:"text-accent font-bold text-xl shrink-0",children:[p+1,"."]}),w.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:f})]},p))})]}),w.jsxs("section",{className:"mb-12 bg-linear-to-br from-gray-50 to-white p-8 border-2 border-gray-200",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx(Rx,{size:28,className:"text-accent"}),w.jsx("h2",{className:"font-serif text-3xl font-bold",children:"Paradoxes & Tensions"})]}),w.jsx("ul",{className:"space-y-4",children:t.synthesis.paradoxes.map((f,p)=>w.jsxs("li",{className:"flex gap-4",children:[w.jsx("span",{className:"text-accent font-bold text-xl shrink-0",children:""}),w.jsx("p",{className:"text-lg text-gray-800 leading-relaxed italic",children:f})]},p))})]}),w.jsxs("section",{className:"mb-12 bg-white p-8 border-2 border-gray-200",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx(Xx,{size:28,className:"text-accent"}),w.jsx("h2",{className:"font-serif text-3xl font-bold",children:"Future Implications"})]}),w.jsx("ul",{className:"space-y-4",children:t.synthesis.futureImplications.map((f,p)=>w.jsxs("li",{className:"flex gap-4",children:[w.jsx("span",{className:"text-accent font-bold text-xl shrink-0",children:""}),w.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:f})]},p))})]}),c.length>0&&w.jsxs("section",{className:"mb-12",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx(Lx,{size:28,className:"text-accent"}),w.jsx("h2",{className:"font-serif text-3xl font-bold",children:"Analyzed Articles"})]}),w.jsxs("p",{className:"text-gray-600 mb-6 italic",children:["This synthesis was derived from the following ",c.length," articles:"]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((f,p)=>w.jsxs("div",{onClick:()=>o(f),className:"group cursor-pointer border-2 border-gray-300 hover:border-accent bg-white p-4 transition-all duration-300 hover:shadow-lg",children:[w.jsxs("div",{className:"text-xs font-mono text-gray-500 mb-2",children:["Article ",p+1]}),w.jsx("h3",{className:"font-serif text-lg font-bold mb-2 group-hover:text-accent transition-colors",children:f.title}),w.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:f.summary}),w.jsx("div",{className:"mt-3 text-xs text-accent font-mono uppercase tracking-wider group-hover:underline",children:"Read Full Article "})]},f.id))})]})]})]})};/*!
 * reveal.js 5.2.0
 * https://revealjs.com
 * MIT licensed
 *
 * Copyright (C) 2011-2024 Hakim El Hattab, https://hakim.se
 */const Zr=(t,e)=>{for(let i in e)t[i]=e[i];return t},we=(t,e)=>Array.from(t.querySelectorAll(e)),sp=(t,e,i)=>{i?t.classList.add(e):t.classList.remove(e)},Kr=t=>{if(typeof t=="string"){if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;if(t.match(/^-?[\d\.]+$/))return parseFloat(t)}return t},Qs=(t,e)=>{t.style.transform=e},Sd=(t,e)=>{let i=t.matches||t.matchesSelector||t.msMatchesSelector;return!(!i||!i.call(t,e))},Xt=(t,e)=>{if(typeof t.closest=="function")return t.closest(e);for(;t;){if(Sd(t,e))return t;t=t.parentNode}return null},rw=t=>{let e=(t=t||document.documentElement).requestFullscreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;e&&e.apply(t)},Yp=t=>{let e=document.createElement("style");return e.type="text/css",t&&t.length>0&&(e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))),document.head.appendChild(e),e},CE=()=>{let t={};location.search.replace(/[A-Z0-9]+?=([\w\.%-]*)/gi,(e=>{t[e.split("=").shift()]=e.split("=").pop()}));for(let e in t){let i=t[e];t[e]=Kr(unescape(i))}return t.dependencies!==void 0&&delete t.dependencies,t},oP={mp4:"video/mp4",m4a:"video/mp4",ogv:"video/ogg",mpeg:"video/mpeg",webm:"video/webm"},aw=navigator.userAgent,ia=/(iphone|ipod|ipad|android)/gi.test(aw)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,lw=/android/gi.test(aw);var rP=(function(t){if(t){var e=function(P){return[].slice.call(P)},i=3,o=[],r=null,l="requestAnimationFrame"in t?function(){t.cancelAnimationFrame(r),r=t.requestAnimationFrame((function(){return f(o.filter((function(P){return P.dirty&&P.active})))}))}:function(){},c=function(P){return function(){o.forEach((function(he){return he.dirty=P})),l()}},f=function(P){P.filter((function(fe){return!fe.styleComputed})).forEach((function(fe){fe.styleComputed=S(fe)})),P.filter(E).forEach(A);var he=P.filter(v);he.forEach(m),he.forEach((function(fe){A(fe),p(fe)})),he.forEach(x)},p=function(P){return P.dirty=0},m=function(P){P.availableWidth=P.element.parentNode.clientWidth,P.currentWidth=P.element.scrollWidth,P.previousFontSize=P.currentFontSize,P.currentFontSize=Math.min(Math.max(P.minSize,P.availableWidth/P.currentWidth*P.previousFontSize),P.maxSize),P.whiteSpace=P.multiLine&&P.currentFontSize===P.minSize?"normal":"nowrap"},v=function(P){return P.dirty!==2||P.dirty===2&&P.element.parentNode.clientWidth!==P.availableWidth},S=function(P){var he=t.getComputedStyle(P.element,null);return P.currentFontSize=parseFloat(he.getPropertyValue("font-size")),P.display=he.getPropertyValue("display"),P.whiteSpace=he.getPropertyValue("white-space"),!0},E=function(P){var he=!1;return!P.preStyleTestCompleted&&(/inline-/.test(P.display)||(he=!0,P.display="inline-block"),P.whiteSpace!=="nowrap"&&(he=!0,P.whiteSpace="nowrap"),P.preStyleTestCompleted=!0,he)},A=function(P){P.element.style.whiteSpace=P.whiteSpace,P.element.style.display=P.display,P.element.style.fontSize=P.currentFontSize+"px"},x=function(P){P.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:P.previousFontSize,newValue:P.currentFontSize,scaleFactor:P.currentFontSize/P.previousFontSize}}))},_=function(P,he){return function(){P.dirty=he,P.active&&l()}},D=function(P){return function(){o=o.filter((function(he){return he.element!==P.element})),P.observeMutations&&P.observer.disconnect(),P.element.style.whiteSpace=P.originalStyle.whiteSpace,P.element.style.display=P.originalStyle.display,P.element.style.fontSize=P.originalStyle.fontSize}},k=function(P){return function(){P.active||(P.active=!0,l())}},J=function(P){return function(){return P.active=!1}},H=function(P){P.observeMutations&&(P.observer=new MutationObserver(_(P,1)),P.observer.observe(P.element,P.observeMutations))},ie={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in t&&{subtree:!0,childList:!0,characterData:!0}},Z=null,ee=function(){t.clearTimeout(Z),Z=t.setTimeout(c(2),W.observeWindowDelay)},te=["resize","orientationchange"];return Object.defineProperty(W,"observeWindow",{set:function(P){var he="".concat(P?"add":"remove","EventListener");te.forEach((function(fe){t[he](fe,ee)}))}}),W.observeWindow=!0,W.observeWindowDelay=100,W.fitAll=c(i),W}function Se(P,he){var fe=Object.assign({},ie,he),ve=P.map((function(Ce){var q=Object.assign({},fe,{element:Ce,active:!0});return(function(R){R.originalStyle={whiteSpace:R.element.style.whiteSpace,display:R.element.style.display,fontSize:R.element.style.fontSize},H(R),R.newbie=!0,R.dirty=!0,o.push(R)})(q),{element:Ce,fit:_(q,i),unfreeze:k(q),freeze:J(q),unsubscribe:D(q)}}));return l(),ve}function W(P){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof P=="string"?Se(e(document.querySelectorAll(P)),he):Se([P],he)[0]}})(typeof window>"u"?null:window);class aP{constructor(e){this.Reveal=e,this.startEmbeddedIframe=this.startEmbeddedIframe.bind(this)}shouldPreload(e){if(this.Reveal.isScrollView())return!0;let i=this.Reveal.getConfig().preloadIframes;return typeof i!="boolean"&&(i=e.hasAttribute("data-preload")),i}load(e,i={}){e.style.display=this.Reveal.getConfig().display,we(e,"img[data-src], video[data-src], audio[data-src], iframe[data-src]").forEach((r=>{(r.tagName!=="IFRAME"||this.shouldPreload(r))&&(r.setAttribute("src",r.getAttribute("data-src")),r.setAttribute("data-lazy-loaded",""),r.removeAttribute("data-src"))})),we(e,"video, audio").forEach((r=>{let l=0;we(r,"source[data-src]").forEach((c=>{c.setAttribute("src",c.getAttribute("data-src")),c.removeAttribute("data-src"),c.setAttribute("data-lazy-loaded",""),l+=1})),ia&&r.tagName==="VIDEO"&&r.setAttribute("playsinline",""),l>0&&r.load()}));let o=e.slideBackgroundElement;if(o){o.style.display="block";let r=e.slideBackgroundContentElement,l=e.getAttribute("data-background-iframe");if(o.hasAttribute("data-loaded")===!1){o.setAttribute("data-loaded","true");let f=e.getAttribute("data-background-image"),p=e.getAttribute("data-background-video"),m=e.hasAttribute("data-background-video-loop"),v=e.hasAttribute("data-background-video-muted");if(f)/^data:/.test(f.trim())?r.style.backgroundImage=`url(${f.trim()})`:r.style.backgroundImage=f.split(",").map((S=>`url(${((E="")=>encodeURI(E).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/[!'()*]/g,(A=>`%${A.charCodeAt(0).toString(16).toUpperCase()}`)))(decodeURI(S.trim()))})`)).join(",");else if(p){let S=document.createElement("video");m&&S.setAttribute("loop",""),(v||this.Reveal.isSpeakerNotes())&&(S.muted=!0),ia&&(S.muted=!0,S.setAttribute("playsinline","")),p.split(",").forEach((E=>{const A=document.createElement("source");A.setAttribute("src",E);let x=((_="")=>oP[_.split(".").pop()])(E);x&&A.setAttribute("type",x),S.appendChild(A)})),r.appendChild(S)}else if(l&&i.excludeIframes!==!0){let S=document.createElement("iframe");S.setAttribute("allowfullscreen",""),S.setAttribute("mozallowfullscreen",""),S.setAttribute("webkitallowfullscreen",""),S.setAttribute("allow","autoplay"),S.setAttribute("data-src",l),S.style.width="100%",S.style.height="100%",S.style.maxHeight="100%",S.style.maxWidth="100%",r.appendChild(S)}}let c=r.querySelector("iframe[data-src]");c&&this.shouldPreload(o)&&!/autoplay=(1|true|yes)/gi.test(l)&&c.getAttribute("src")!==l&&c.setAttribute("src",l)}this.layout(e)}layout(e){Array.from(e.querySelectorAll(".r-fit-text")).forEach((i=>{rP(i,{minSize:24,maxSize:.8*this.Reveal.getConfig().height,observeMutations:!1,observeWindow:!1})}))}unload(e){e.style.display="none";let i=this.Reveal.getSlideBackground(e);i&&(i.style.display="none",we(i,"iframe[src]").forEach((o=>{o.removeAttribute("src")}))),we(e,"video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]").forEach((o=>{o.setAttribute("data-src",o.getAttribute("src")),o.removeAttribute("src")})),we(e,"video[data-lazy-loaded] source[src], audio source[src]").forEach((o=>{o.setAttribute("data-src",o.getAttribute("src")),o.removeAttribute("src")}))}formatEmbeddedContent(){let e=(i,o,r)=>{we(this.Reveal.getSlidesElement(),"iframe["+i+'*="'+o+'"]').forEach((l=>{let c=l.getAttribute(i);c&&c.indexOf(r)===-1&&l.setAttribute(i,c+(/\?/.test(c)?"&":"?")+r)}))};e("src","youtube.com/embed/","enablejsapi=1"),e("data-src","youtube.com/embed/","enablejsapi=1"),e("src","player.vimeo.com/","api=1"),e("data-src","player.vimeo.com/","api=1")}startEmbeddedContent(e){if(e){const i=this.Reveal.isSpeakerNotes();we(e,'img[src$=".gif"]').forEach((o=>{o.setAttribute("src",o.getAttribute("src"))})),we(e,"video, audio").forEach((o=>{if(Xt(o,".fragment")&&!Xt(o,".fragment.visible"))return;let r=this.Reveal.getConfig().autoPlayMedia;if(typeof r!="boolean"&&(r=o.hasAttribute("data-autoplay")||!!Xt(o,".slide-background")),r&&typeof o.play=="function"){if(i&&!o.muted)return;if(o.readyState>1)this.startEmbeddedMedia({target:o});else if(ia){let l=o.play();l&&typeof l.catch=="function"&&o.controls===!1&&l.catch((()=>{o.controls=!0,o.addEventListener("play",(()=>{o.controls=!1}))}))}else o.removeEventListener("loadeddata",this.startEmbeddedMedia),o.addEventListener("loadeddata",this.startEmbeddedMedia)}})),i||(we(e,"iframe[src]").forEach((o=>{Xt(o,".fragment")&&!Xt(o,".fragment.visible")||this.startEmbeddedIframe({target:o})})),we(e,"iframe[data-src]").forEach((o=>{Xt(o,".fragment")&&!Xt(o,".fragment.visible")||o.getAttribute("src")!==o.getAttribute("data-src")&&(o.removeEventListener("load",this.startEmbeddedIframe),o.addEventListener("load",this.startEmbeddedIframe),o.setAttribute("src",o.getAttribute("data-src")))})))}}startEmbeddedMedia(e){let i=!!Xt(e.target,"html"),o=!!Xt(e.target,".present");i&&o&&(e.target.paused||e.target.ended)&&(e.target.currentTime=0,e.target.play()),e.target.removeEventListener("loadeddata",this.startEmbeddedMedia)}startEmbeddedIframe(e){let i=e.target;if(i&&i.contentWindow){let o=!!Xt(e.target,"html"),r=!!Xt(e.target,".present");if(o&&r){let l=this.Reveal.getConfig().autoPlayMedia;typeof l!="boolean"&&(l=i.hasAttribute("data-autoplay")||!!Xt(i,".slide-background")),/youtube\.com\/embed\//.test(i.getAttribute("src"))&&l?i.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):/player\.vimeo\.com\//.test(i.getAttribute("src"))&&l?i.contentWindow.postMessage('{"method":"play"}',"*"):i.contentWindow.postMessage("slide:start","*")}}}stopEmbeddedContent(e,i={}){i=Zr({unloadIframes:!0},i),e&&e.parentNode&&(we(e,"video, audio").forEach((o=>{o.hasAttribute("data-ignore")||typeof o.pause!="function"||(o.setAttribute("data-paused-by-reveal",""),o.pause())})),we(e,"iframe").forEach((o=>{o.contentWindow&&o.contentWindow.postMessage("slide:stop","*"),o.removeEventListener("load",this.startEmbeddedIframe)})),we(e,'iframe[src*="youtube.com/embed/"]').forEach((o=>{!o.hasAttribute("data-ignore")&&o.contentWindow&&typeof o.contentWindow.postMessage=="function"&&o.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})),we(e,'iframe[src*="player.vimeo.com/"]').forEach((o=>{!o.hasAttribute("data-ignore")&&o.contentWindow&&typeof o.contentWindow.postMessage=="function"&&o.contentWindow.postMessage('{"method":"pause"}',"*")})),i.unloadIframes===!0&&we(e,"iframe[data-src]").forEach((o=>{o.setAttribute("src","about:blank"),o.removeAttribute("src")})))}}const Ho=".slides section",Ks=".slides>section",xE=".slides>section.present>section",lP=/registerPlugin|registerKeyboardShortcut|addKeyBinding|addEventListener|showPreview/;class uP{constructor(e){this.Reveal=e}render(){this.element=document.createElement("div"),this.element.className="slide-number",this.Reveal.getRevealElement().appendChild(this.element)}configure(e,i){let o="none";e.slideNumber&&!this.Reveal.isPrintView()&&(e.showSlideNumber==="all"||e.showSlideNumber==="speaker"&&this.Reveal.isSpeakerNotes())&&(o="block"),this.element.style.display=o}update(){this.Reveal.getConfig().slideNumber&&this.element&&(this.element.innerHTML=this.getSlideNumber())}getSlideNumber(e=this.Reveal.getCurrentSlide()){let i,o=this.Reveal.getConfig(),r="h.v";if(typeof o.slideNumber=="function")i=o.slideNumber(e);else{typeof o.slideNumber=="string"&&(r=o.slideNumber),/c/.test(r)||this.Reveal.getHorizontalSlides().length!==1||(r="c");let c=e&&e.dataset.visibility==="uncounted"?0:1;switch(i=[],r){case"c":i.push(this.Reveal.getSlidePastCount(e)+c);break;case"c/t":i.push(this.Reveal.getSlidePastCount(e)+c,"/",this.Reveal.getTotalSlides());break;default:let f=this.Reveal.getIndices(e);i.push(f.h+c);let p=r==="h/v"?"/":".";this.Reveal.isVerticalSlide(e)&&i.push(p,f.v+1)}}let l="#"+this.Reveal.location.getHash(e);return this.formatNumber(i[0],i[1],i[2],l)}formatNumber(e,i,o,r="#"+this.Reveal.location.getHash()){return typeof o!="number"||isNaN(o)?`<a href="${r}">
					<span class="slide-number-a">${e}</span>
					</a>`:`<a href="${r}">
					<span class="slide-number-a">${e}</span>
					<span class="slide-number-delimiter">${i}</span>
					<span class="slide-number-b">${o}</span>
					</a>`}destroy(){this.element.remove()}}class cP{constructor(e){this.Reveal=e,this.onInput=this.onInput.bind(this),this.onBlur=this.onBlur.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}render(){this.element=document.createElement("div"),this.element.className="jump-to-slide",this.jumpInput=document.createElement("input"),this.jumpInput.type="text",this.jumpInput.className="jump-to-slide-input",this.jumpInput.placeholder="Jump to slide",this.jumpInput.addEventListener("input",this.onInput),this.jumpInput.addEventListener("keydown",this.onKeyDown),this.jumpInput.addEventListener("blur",this.onBlur),this.element.appendChild(this.jumpInput)}show(){this.indicesOnShow=this.Reveal.getIndices(),this.Reveal.getRevealElement().appendChild(this.element),this.jumpInput.focus()}hide(){this.isVisible()&&(this.element.remove(),this.jumpInput.value="",clearTimeout(this.jumpTimeout),delete this.jumpTimeout)}isVisible(){return!!this.element.parentNode}jump(){clearTimeout(this.jumpTimeout),delete this.jumpTimeout;let e,i=this.jumpInput.value.trim("");if(/^\d+$/.test(i)){const o=this.Reveal.getConfig().slideNumber;if(o==="c"||o==="c/t"){const r=this.Reveal.getSlides()[parseInt(i,10)-1];r&&(e=this.Reveal.getIndices(r))}}return e||(/^\d+\.\d+$/.test(i)&&(i=i.replace(".","/")),e=this.Reveal.location.getIndicesFromHash(i,{oneBasedIndex:!0})),!e&&/\S+/i.test(i)&&i.length>1&&(e=this.search(i)),e&&i!==""?(this.Reveal.slide(e.h,e.v,e.f),!0):(this.Reveal.slide(this.indicesOnShow.h,this.indicesOnShow.v,this.indicesOnShow.f),!1)}jumpAfter(e){clearTimeout(this.jumpTimeout),this.jumpTimeout=setTimeout((()=>this.jump()),e)}search(e){const i=new RegExp("\\b"+e.trim()+"\\b","i"),o=this.Reveal.getSlides().find((r=>i.test(r.innerText)));return o?this.Reveal.getIndices(o):null}cancel(){this.Reveal.slide(this.indicesOnShow.h,this.indicesOnShow.v,this.indicesOnShow.f),this.hide()}confirm(){this.jump(),this.hide()}destroy(){this.jumpInput.removeEventListener("input",this.onInput),this.jumpInput.removeEventListener("keydown",this.onKeyDown),this.jumpInput.removeEventListener("blur",this.onBlur),this.element.remove()}onKeyDown(e){e.keyCode===13?this.confirm():e.keyCode===27&&(this.cancel(),e.stopImmediatePropagation())}onInput(e){this.jumpAfter(200)}onBlur(){setTimeout((()=>this.hide()),1)}}const op=t=>{let e=t.match(/^#([0-9a-f]{3})$/i);if(e&&e[1])return e=e[1],{r:17*parseInt(e.charAt(0),16),g:17*parseInt(e.charAt(1),16),b:17*parseInt(e.charAt(2),16)};let i=t.match(/^#([0-9a-f]{6})$/i);if(i&&i[1])return i=i[1],{r:parseInt(i.slice(0,2),16),g:parseInt(i.slice(2,4),16),b:parseInt(i.slice(4,6),16)};let o=t.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(o)return{r:parseInt(o[1],10),g:parseInt(o[2],10),b:parseInt(o[3],10)};let r=t.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d]+|[\d]*.[\d]+)\s*\)$/i);return r?{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10),a:parseFloat(r[4])}:null};class dP{constructor(e){this.Reveal=e}render(){this.element=document.createElement("div"),this.element.className="backgrounds",this.Reveal.getRevealElement().appendChild(this.element)}create(){this.element.innerHTML="",this.element.classList.add("no-transition"),this.Reveal.getHorizontalSlides().forEach((e=>{let i=this.createBackground(e,this.element);we(e,"section").forEach((o=>{this.createBackground(o,i),i.classList.add("stack")}))})),this.Reveal.getConfig().parallaxBackgroundImage?(this.element.style.backgroundImage='url("'+this.Reveal.getConfig().parallaxBackgroundImage+'")',this.element.style.backgroundSize=this.Reveal.getConfig().parallaxBackgroundSize,this.element.style.backgroundRepeat=this.Reveal.getConfig().parallaxBackgroundRepeat,this.element.style.backgroundPosition=this.Reveal.getConfig().parallaxBackgroundPosition,setTimeout((()=>{this.Reveal.getRevealElement().classList.add("has-parallax-background")}),1)):(this.element.style.backgroundImage="",this.Reveal.getRevealElement().classList.remove("has-parallax-background"))}createBackground(e,i){let o=document.createElement("div");o.className="slide-background "+e.className.replace(/present|past|future/,"");let r=document.createElement("div");return r.className="slide-background-content",o.appendChild(r),i.appendChild(o),e.slideBackgroundElement=o,e.slideBackgroundContentElement=r,this.sync(e),o}sync(e){const i=e.slideBackgroundElement,o=e.slideBackgroundContentElement,r={background:e.getAttribute("data-background"),backgroundSize:e.getAttribute("data-background-size"),backgroundImage:e.getAttribute("data-background-image"),backgroundVideo:e.getAttribute("data-background-video"),backgroundIframe:e.getAttribute("data-background-iframe"),backgroundColor:e.getAttribute("data-background-color"),backgroundGradient:e.getAttribute("data-background-gradient"),backgroundRepeat:e.getAttribute("data-background-repeat"),backgroundPosition:e.getAttribute("data-background-position"),backgroundTransition:e.getAttribute("data-background-transition"),backgroundOpacity:e.getAttribute("data-background-opacity")},l=e.hasAttribute("data-preload");e.classList.remove("has-dark-background"),e.classList.remove("has-light-background"),i.removeAttribute("data-loaded"),i.removeAttribute("data-background-hash"),i.removeAttribute("data-background-size"),i.removeAttribute("data-background-transition"),i.style.backgroundColor="",o.style.backgroundSize="",o.style.backgroundRepeat="",o.style.backgroundPosition="",o.style.backgroundImage="",o.style.opacity="",o.innerHTML="",r.background&&(/^(http|file|\/\/)/gi.test(r.background)||/\.(svg|png|jpg|jpeg|gif|bmp|webp)([?#\s]|$)/gi.test(r.background)?e.setAttribute("data-background-image",r.background):i.style.background=r.background),(r.background||r.backgroundColor||r.backgroundGradient||r.backgroundImage||r.backgroundVideo||r.backgroundIframe)&&i.setAttribute("data-background-hash",r.background+r.backgroundSize+r.backgroundImage+r.backgroundVideo+r.backgroundIframe+r.backgroundColor+r.backgroundGradient+r.backgroundRepeat+r.backgroundPosition+r.backgroundTransition+r.backgroundOpacity),r.backgroundSize&&i.setAttribute("data-background-size",r.backgroundSize),r.backgroundColor&&(i.style.backgroundColor=r.backgroundColor),r.backgroundGradient&&(i.style.backgroundImage=r.backgroundGradient),r.backgroundTransition&&i.setAttribute("data-background-transition",r.backgroundTransition),l&&i.setAttribute("data-preload",""),r.backgroundSize&&(o.style.backgroundSize=r.backgroundSize),r.backgroundRepeat&&(o.style.backgroundRepeat=r.backgroundRepeat),r.backgroundPosition&&(o.style.backgroundPosition=r.backgroundPosition),r.backgroundOpacity&&(o.style.opacity=r.backgroundOpacity);const c=this.getContrastClass(e);typeof c=="string"&&e.classList.add(c)}getContrastClass(e){const i=e.slideBackgroundElement;let o=e.getAttribute("data-background-color");if(!o||!op(o)){let l=window.getComputedStyle(i);l&&l.backgroundColor&&(o=l.backgroundColor)}if(o){const l=op(o);if(l&&l.a!==0)return typeof(r=o)=="string"&&(r=op(r)),(r?(299*r.r+587*r.g+114*r.b)/1e3:null)<128?"has-dark-background":"has-light-background"}var r;return null}bubbleSlideContrastClassToElement(e,i){["has-light-background","has-dark-background"].forEach((o=>{e.classList.contains(o)?i.classList.add(o):i.classList.remove(o)}),this)}update(e=!1){let i=this.Reveal.getConfig(),o=this.Reveal.getCurrentSlide(),r=this.Reveal.getIndices(),l=null,c=i.rtl?"future":"past",f=i.rtl?"past":"future";if(Array.from(this.element.childNodes).forEach(((m,v)=>{m.classList.remove("past","present","future"),v<r.h?m.classList.add(c):v>r.h?m.classList.add(f):(m.classList.add("present"),l=m),(e||v===r.h)&&we(m,".slide-background").forEach(((S,E)=>{S.classList.remove("past","present","future");const A=typeof r.v=="number"?r.v:0;E<A?S.classList.add("past"):E>A?S.classList.add("future"):(S.classList.add("present"),v===r.h&&(l=S))}))})),this.previousBackground&&!this.previousBackground.closest("body")&&(this.previousBackground=null),l&&this.previousBackground){let m=this.previousBackground.getAttribute("data-background-hash"),v=l.getAttribute("data-background-hash");if(v&&v===m&&l!==this.previousBackground){this.element.classList.add("no-transition");const S=l.querySelector("video"),E=this.previousBackground.querySelector("video");if(S&&E){const A=S.parentNode;E.parentNode.appendChild(S),A.appendChild(E)}}}const p=l!==this.previousBackground;if(p&&this.previousBackground&&this.Reveal.slideContent.stopEmbeddedContent(this.previousBackground,{unloadIframes:!this.Reveal.slideContent.shouldPreload(this.previousBackground)}),p&&l){this.Reveal.slideContent.startEmbeddedContent(l);let m=l.querySelector(".slide-background-content");if(m){let v=m.style.backgroundImage||"";/\.gif/i.test(v)&&(m.style.backgroundImage="",window.getComputedStyle(m).opacity,m.style.backgroundImage=v)}this.previousBackground=l}o&&this.bubbleSlideContrastClassToElement(o,this.Reveal.getRevealElement()),setTimeout((()=>{this.element.classList.remove("no-transition")}),10)}updateParallax(){let e=this.Reveal.getIndices();if(this.Reveal.getConfig().parallaxBackgroundImage){let i,o,r=this.Reveal.getHorizontalSlides(),l=this.Reveal.getVerticalSlides(),c=this.element.style.backgroundSize.split(" ");c.length===1?i=o=parseInt(c[0],10):(i=parseInt(c[0],10),o=parseInt(c[1],10));let f,p,m=this.element.offsetWidth,v=r.length;f=typeof this.Reveal.getConfig().parallaxBackgroundHorizontal=="number"?this.Reveal.getConfig().parallaxBackgroundHorizontal:v>1?(i-m)/(v-1):0,p=f*e.h*-1;let S,E,A=this.element.offsetHeight,x=l.length;S=typeof this.Reveal.getConfig().parallaxBackgroundVertical=="number"?this.Reveal.getConfig().parallaxBackgroundVertical:(o-A)/(x-1),E=x>0?S*e.v:0,this.element.style.backgroundPosition=p+"px "+-E+"px"}}destroy(){this.element.remove()}}let RE=0;class fP{constructor(e){this.Reveal=e}run(e,i){this.reset();let o=this.Reveal.getSlides(),r=o.indexOf(i),l=o.indexOf(e);if(e&&i&&e.hasAttribute("data-auto-animate")&&i.hasAttribute("data-auto-animate")&&e.getAttribute("data-auto-animate-id")===i.getAttribute("data-auto-animate-id")&&!(r>l?i:e).hasAttribute("data-auto-animate-restart")){this.autoAnimateStyleSheet=this.autoAnimateStyleSheet||Yp();let c=this.getAutoAnimateOptions(i);e.dataset.autoAnimate="pending",i.dataset.autoAnimate="pending",c.slideDirection=r>l?"forward":"backward";let f=e.style.display==="none";f&&(e.style.display=this.Reveal.getConfig().display);let p=this.getAutoAnimatableElements(e,i).map((m=>this.autoAnimateElements(m.from,m.to,m.options||{},c,RE++)));if(f&&(e.style.display="none"),i.dataset.autoAnimateUnmatched!=="false"&&this.Reveal.getConfig().autoAnimateUnmatched===!0){let m=.8*c.duration,v=.2*c.duration;this.getUnmatchedAutoAnimateElements(i).forEach((S=>{let E=this.getAutoAnimateOptions(S,c),A="unmatched";E.duration===c.duration&&E.delay===c.delay||(A="unmatched-"+RE++,p.push(`[data-auto-animate="running"] [data-auto-animate-target="${A}"] { transition: opacity ${E.duration}s ease ${E.delay}s; }`)),S.dataset.autoAnimateTarget=A}),this),p.push(`[data-auto-animate="running"] [data-auto-animate-target="unmatched"] { transition: opacity ${m}s ease ${v}s; }`)}this.autoAnimateStyleSheet.innerHTML=p.join(""),requestAnimationFrame((()=>{this.autoAnimateStyleSheet&&(getComputedStyle(this.autoAnimateStyleSheet).fontWeight,i.dataset.autoAnimate="running")})),this.Reveal.dispatchEvent({type:"autoanimate",data:{fromSlide:e,toSlide:i,sheet:this.autoAnimateStyleSheet}})}}reset(){we(this.Reveal.getRevealElement(),'[data-auto-animate]:not([data-auto-animate=""])').forEach((e=>{e.dataset.autoAnimate=""})),we(this.Reveal.getRevealElement(),"[data-auto-animate-target]").forEach((e=>{delete e.dataset.autoAnimateTarget})),this.autoAnimateStyleSheet&&this.autoAnimateStyleSheet.parentNode&&(this.autoAnimateStyleSheet.parentNode.removeChild(this.autoAnimateStyleSheet),this.autoAnimateStyleSheet=null)}autoAnimateElements(e,i,o,r,l){e.dataset.autoAnimateTarget="",i.dataset.autoAnimateTarget=l;let c=this.getAutoAnimateOptions(i,r);o.delay!==void 0&&(c.delay=o.delay),o.duration!==void 0&&(c.duration=o.duration),o.easing!==void 0&&(c.easing=o.easing);let f=this.getAutoAnimatableProperties("from",e,o),p=this.getAutoAnimatableProperties("to",i,o);if(i.classList.contains("fragment")&&delete p.styles.opacity,o.translate!==!1||o.scale!==!1){let S=this.Reveal.getScale(),E={x:(f.x-p.x)/S,y:(f.y-p.y)/S,scaleX:f.width/p.width,scaleY:f.height/p.height};E.x=Math.round(1e3*E.x)/1e3,E.y=Math.round(1e3*E.y)/1e3,E.scaleX=Math.round(1e3*E.scaleX)/1e3,E.scaleX=Math.round(1e3*E.scaleX)/1e3;let A=o.translate!==!1&&(E.x!==0||E.y!==0),x=o.scale!==!1&&(E.scaleX!==0||E.scaleY!==0);if(A||x){let _=[];A&&_.push(`translate(${E.x}px, ${E.y}px)`),x&&_.push(`scale(${E.scaleX}, ${E.scaleY})`),f.styles.transform=_.join(" "),f.styles["transform-origin"]="top left",p.styles.transform="none"}}for(let S in p.styles){const E=p.styles[S],A=f.styles[S];E===A?delete p.styles[S]:(E.explicitValue===!0&&(p.styles[S]=E.value),A.explicitValue===!0&&(f.styles[S]=A.value))}let m="",v=Object.keys(p.styles);return v.length>0&&(f.styles.transition="none",p.styles.transition=`all ${c.duration}s ${c.easing} ${c.delay}s`,p.styles["transition-property"]=v.join(", "),p.styles["will-change"]=v.join(", "),m='[data-auto-animate-target="'+l+'"] {'+Object.keys(f.styles).map((S=>S+": "+f.styles[S]+" !important;")).join("")+'}[data-auto-animate="running"] [data-auto-animate-target="'+l+'"] {'+Object.keys(p.styles).map((S=>S+": "+p.styles[S]+" !important;")).join("")+"}"),m}getAutoAnimateOptions(e,i){let o={easing:this.Reveal.getConfig().autoAnimateEasing,duration:this.Reveal.getConfig().autoAnimateDuration,delay:0};if(o=Zr(o,i),e.parentNode){let r=Xt(e.parentNode,"[data-auto-animate-target]");r&&(o=this.getAutoAnimateOptions(r,o))}return e.dataset.autoAnimateEasing&&(o.easing=e.dataset.autoAnimateEasing),e.dataset.autoAnimateDuration&&(o.duration=parseFloat(e.dataset.autoAnimateDuration)),e.dataset.autoAnimateDelay&&(o.delay=parseFloat(e.dataset.autoAnimateDelay)),o}getAutoAnimatableProperties(e,i,o){let r=this.Reveal.getConfig(),l={styles:[]};if(o.translate!==!1||o.scale!==!1){let f;if(typeof o.measure=="function")f=o.measure(i);else if(r.center)f=i.getBoundingClientRect();else{let p=this.Reveal.getScale();f={x:i.offsetLeft*p,y:i.offsetTop*p,width:i.offsetWidth*p,height:i.offsetHeight*p}}l.x=f.x,l.y=f.y,l.width=f.width,l.height=f.height}const c=getComputedStyle(i);return(o.styles||r.autoAnimateStyles).forEach((f=>{let p;typeof f=="string"&&(f={property:f}),f.from!==void 0&&e==="from"?p={value:f.from,explicitValue:!0}:f.to!==void 0&&e==="to"?p={value:f.to,explicitValue:!0}:(f.property==="line-height"&&(p=parseFloat(c["line-height"])/parseFloat(c["font-size"])),isNaN(p)&&(p=c[f.property])),p!==""&&(l.styles[f.property]=p)})),l}getAutoAnimatableElements(e,i){let o=(typeof this.Reveal.getConfig().autoAnimateMatcher=="function"?this.Reveal.getConfig().autoAnimateMatcher:this.getAutoAnimatePairs).call(this,e,i),r=[];return o.filter(((l,c)=>{if(r.indexOf(l.to)===-1)return r.push(l.to),!0}))}getAutoAnimatePairs(e,i){let o=[];const r="h1, h2, h3, h4, h5, h6, p, li";return this.findAutoAnimateMatches(o,e,i,"[data-id]",(l=>l.nodeName+":::"+l.getAttribute("data-id"))),this.findAutoAnimateMatches(o,e,i,r,(l=>l.nodeName+":::"+l.textContent.trim())),this.findAutoAnimateMatches(o,e,i,"img, video, iframe",(l=>l.nodeName+":::"+(l.getAttribute("src")||l.getAttribute("data-src")))),this.findAutoAnimateMatches(o,e,i,"pre",(l=>l.nodeName+":::"+l.textContent.trim())),o.forEach((l=>{Sd(l.from,r)?l.options={scale:!1}:Sd(l.from,"pre")&&(l.options={scale:!1,styles:["width","height"]},this.findAutoAnimateMatches(o,l.from,l.to,".hljs .hljs-ln-code",(c=>c.textContent),{scale:!1,styles:[],measure:this.getLocalBoundingBox.bind(this)}),this.findAutoAnimateMatches(o,l.from,l.to,".hljs .hljs-ln-numbers[data-line-number]",(c=>c.getAttribute("data-line-number")),{scale:!1,styles:["width"],measure:this.getLocalBoundingBox.bind(this)}))}),this),o}getLocalBoundingBox(e){const i=this.Reveal.getScale();return{x:Math.round(e.offsetLeft*i*100)/100,y:Math.round(e.offsetTop*i*100)/100,width:Math.round(e.offsetWidth*i*100)/100,height:Math.round(e.offsetHeight*i*100)/100}}findAutoAnimateMatches(e,i,o,r,l,c){let f={},p={};[].slice.call(i.querySelectorAll(r)).forEach(((m,v)=>{const S=l(m);typeof S=="string"&&S.length&&(f[S]=f[S]||[],f[S].push(m))})),[].slice.call(o.querySelectorAll(r)).forEach(((m,v)=>{const S=l(m);let E;if(p[S]=p[S]||[],p[S].push(m),f[S]){const A=p[S].length-1,x=f[S].length-1;f[S][A]?(E=f[S][A],f[S][A]=null):f[S][x]&&(E=f[S][x],f[S][x]=null)}E&&e.push({from:E,to:m,options:c})}))}getUnmatchedAutoAnimateElements(e){return[].slice.call(e.children).reduce(((i,o)=>{const r=o.querySelector("[data-auto-animate-target]");return o.hasAttribute("data-auto-animate-target")||r||i.push(o),o.querySelector("[data-auto-animate-target]")&&(i=i.concat(this.getUnmatchedAutoAnimateElements(o))),i}),[])}}class hP{constructor(e){this.Reveal=e,this.active=!1,this.activatedCallbacks=[],this.onScroll=this.onScroll.bind(this)}activate(){if(this.active)return;const e=this.Reveal.getState();this.active=!0,this.slideHTMLBeforeActivation=this.Reveal.getSlidesElement().innerHTML;const i=we(this.Reveal.getRevealElement(),Ks),o=we(this.Reveal.getRevealElement(),".backgrounds>.slide-background");let r;this.viewportElement.classList.add("loading-scroll-mode","reveal-scroll");const l=window.getComputedStyle(this.viewportElement);l&&l.background&&(r=l.background);const c=[],f=i[0].parentNode;let p;const m=(v,S,E,A)=>{let x;if(p&&this.Reveal.shouldAutoAnimateBetween(p,v))x=document.createElement("div"),x.className="scroll-page-content scroll-auto-animate-page",x.style.display="none",p.closest(".scroll-page-content").parentNode.appendChild(x);else{const _=document.createElement("div");if(_.className="scroll-page",c.push(_),A&&o.length>S){const k=o[S],J=window.getComputedStyle(k);J&&J.background?_.style.background=J.background:r&&(_.style.background=r)}else r&&(_.style.background=r);const D=document.createElement("div");D.className="scroll-page-sticky",_.appendChild(D),x=document.createElement("div"),x.className="scroll-page-content",D.appendChild(x)}x.appendChild(v),v.classList.remove("past","future"),v.setAttribute("data-index-h",S),v.setAttribute("data-index-v",E),v.slideBackgroundElement&&(v.slideBackgroundElement.remove("past","future"),x.insertBefore(v.slideBackgroundElement,v)),p=v};i.forEach(((v,S)=>{this.Reveal.isVerticalStack(v)?v.querySelectorAll("section").forEach(((E,A)=>{m(E,S,A,!0)})):m(v,S,0)}),this),this.createProgressBar(),we(this.Reveal.getRevealElement(),".stack").forEach((v=>v.remove())),c.forEach((v=>f.appendChild(v))),this.Reveal.slideContent.layout(this.Reveal.getSlidesElement()),this.Reveal.layout(),this.Reveal.setState(e),this.activatedCallbacks.forEach((v=>v())),this.activatedCallbacks=[],this.restoreScrollPosition(),this.viewportElement.classList.remove("loading-scroll-mode"),this.viewportElement.addEventListener("scroll",this.onScroll,{passive:!0})}deactivate(){if(!this.active)return;const e=this.Reveal.getState();this.active=!1,this.viewportElement.removeEventListener("scroll",this.onScroll),this.viewportElement.classList.remove("reveal-scroll"),this.removeProgressBar(),this.Reveal.getSlidesElement().innerHTML=this.slideHTMLBeforeActivation,this.Reveal.sync(),this.Reveal.setState(e),this.slideHTMLBeforeActivation=null}toggle(e){typeof e=="boolean"?e?this.activate():this.deactivate():this.isActive()?this.deactivate():this.activate()}isActive(){return this.active}createProgressBar(){this.progressBar=document.createElement("div"),this.progressBar.className="scrollbar",this.progressBarInner=document.createElement("div"),this.progressBarInner.className="scrollbar-inner",this.progressBar.appendChild(this.progressBarInner),this.progressBarPlayhead=document.createElement("div"),this.progressBarPlayhead.className="scrollbar-playhead",this.progressBarInner.appendChild(this.progressBarPlayhead),this.viewportElement.insertBefore(this.progressBar,this.viewportElement.firstChild);const e=o=>{let r=(o.clientY-this.progressBarInner.getBoundingClientRect().top)/this.progressBarHeight;r=Math.max(Math.min(r,1),0),this.viewportElement.scrollTop=r*(this.viewportElement.scrollHeight-this.viewportElement.offsetHeight)},i=o=>{this.draggingProgressBar=!1,this.showProgressBar(),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i)};this.progressBarInner.addEventListener("mousedown",(o=>{o.preventDefault(),this.draggingProgressBar=!0,document.addEventListener("mousemove",e),document.addEventListener("mouseup",i),e(o)}))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}layout(){this.isActive()&&(this.syncPages(),this.syncScrollPosition())}syncPages(){const e=this.Reveal.getConfig(),i=this.Reveal.getComputedSlideSize(window.innerWidth,window.innerHeight),o=this.Reveal.getScale(),r=e.scrollLayout==="compact",l=this.viewportElement.offsetHeight,c=i.height*o,f=r?c:l;this.scrollTriggerHeight=r?c:l,this.viewportElement.style.setProperty("--page-height",f+"px"),this.viewportElement.style.scrollSnapType=typeof e.scrollSnap=="string"?`y ${e.scrollSnap}`:"",this.slideTriggers=[];const p=Array.from(this.Reveal.getRevealElement().querySelectorAll(".scroll-page"));this.pages=p.map((m=>{const v=this.createPage({pageElement:m,slideElement:m.querySelector("section"),stickyElement:m.querySelector(".scroll-page-sticky"),contentElement:m.querySelector(".scroll-page-content"),backgroundElement:m.querySelector(".slide-background"),autoAnimateElements:m.querySelectorAll(".scroll-auto-animate-page"),autoAnimatePages:[]});v.pageElement.style.setProperty("--slide-height",e.center===!0?"auto":i.height+"px"),this.slideTriggers.push({page:v,activate:()=>this.activatePage(v),deactivate:()=>this.deactivatePage(v)}),this.createFragmentTriggersForPage(v),v.autoAnimateElements.length>0&&this.createAutoAnimateTriggersForPage(v);let S=Math.max(v.scrollTriggers.length-1,0);S+=v.autoAnimatePages.reduce(((E,A)=>E+Math.max(A.scrollTriggers.length-1,0)),v.autoAnimatePages.length),v.pageElement.querySelectorAll(".scroll-snap-point").forEach((E=>E.remove()));for(let E=0;E<S+1;E++){const A=document.createElement("div");A.className="scroll-snap-point",A.style.height=this.scrollTriggerHeight+"px",A.style.scrollSnapAlign=r?"center":"start",v.pageElement.appendChild(A),E===0&&(A.style.marginTop=-this.scrollTriggerHeight+"px")}return r&&v.scrollTriggers.length>0?(v.pageHeight=l,v.pageElement.style.setProperty("--page-height",l+"px")):(v.pageHeight=f,v.pageElement.style.removeProperty("--page-height")),v.scrollPadding=this.scrollTriggerHeight*S,v.totalHeight=v.pageHeight+v.scrollPadding,v.pageElement.style.setProperty("--page-scroll-padding",v.scrollPadding+"px"),S>0?(v.stickyElement.style.position="sticky",v.stickyElement.style.top=Math.max((l-v.pageHeight)/2,0)+"px"):(v.stickyElement.style.position="relative",v.pageElement.style.scrollSnapAlign=v.pageHeight<l?"center":"start"),v})),this.setTriggerRanges(),this.viewportElement.setAttribute("data-scrollbar",e.scrollProgress),e.scrollProgress&&this.totalScrollTriggerCount>1?(this.progressBar||this.createProgressBar(),this.syncProgressBar()):this.removeProgressBar()}setTriggerRanges(){this.totalScrollTriggerCount=this.slideTriggers.reduce(((i,o)=>i+Math.max(o.page.scrollTriggers.length,1)),0);let e=0;this.slideTriggers.forEach(((i,o)=>{i.range=[e,e+Math.max(i.page.scrollTriggers.length,1)/this.totalScrollTriggerCount];const r=(i.range[1]-i.range[0])/i.page.scrollTriggers.length;i.page.scrollTriggers.forEach(((l,c)=>{l.range=[e+c*r,e+(c+1)*r]})),e=i.range[1]})),this.slideTriggers[this.slideTriggers.length-1].range[1]=1}createFragmentTriggersForPage(e,i){i=i||e.slideElement;const o=this.Reveal.fragments.sort(i.querySelectorAll(".fragment"),!0);return o.length&&(e.fragments=this.Reveal.fragments.sort(i.querySelectorAll(".fragment:not(.disabled)")),e.scrollTriggers.push({activate:()=>{this.Reveal.fragments.update(-1,e.fragments,i)}}),o.forEach(((r,l)=>{e.scrollTriggers.push({activate:()=>{this.Reveal.fragments.update(l,e.fragments,i)}})}))),e.scrollTriggers.length}createAutoAnimateTriggersForPage(e){e.autoAnimateElements.length>0&&this.slideTriggers.push(...Array.from(e.autoAnimateElements).map(((i,o)=>{let r=this.createPage({slideElement:i.querySelector("section"),contentElement:i,backgroundElement:i.querySelector(".slide-background")});return this.createFragmentTriggersForPage(r,r.slideElement),e.autoAnimatePages.push(r),{page:r,activate:()=>this.activatePage(r),deactivate:()=>this.deactivatePage(r)}})))}createPage(e){return e.scrollTriggers=[],e.indexh=parseInt(e.slideElement.getAttribute("data-index-h"),10),e.indexv=parseInt(e.slideElement.getAttribute("data-index-v"),10),e}syncProgressBar(){this.progressBarInner.querySelectorAll(".scrollbar-slide").forEach((c=>c.remove()));const e=this.viewportElement.scrollHeight,i=this.viewportElement.offsetHeight,o=i/e;this.progressBarHeight=this.progressBarInner.offsetHeight,this.playheadHeight=Math.max(o*this.progressBarHeight,8),this.progressBarScrollableHeight=this.progressBarHeight-this.playheadHeight;const r=i/e*this.progressBarHeight,l=Math.min(r/8,4);this.progressBarPlayhead.style.height=this.playheadHeight-l+"px",r>6?this.slideTriggers.forEach((c=>{const{page:f}=c;f.progressBarSlide=document.createElement("div"),f.progressBarSlide.className="scrollbar-slide",f.progressBarSlide.style.top=c.range[0]*this.progressBarHeight+"px",f.progressBarSlide.style.height=(c.range[1]-c.range[0])*this.progressBarHeight-l+"px",f.progressBarSlide.classList.toggle("has-triggers",f.scrollTriggers.length>0),this.progressBarInner.appendChild(f.progressBarSlide),f.scrollTriggerElements=f.scrollTriggers.map(((p,m)=>{const v=document.createElement("div");return v.className="scrollbar-trigger",v.style.top=(p.range[0]-c.range[0])*this.progressBarHeight+"px",v.style.height=(p.range[1]-p.range[0])*this.progressBarHeight-l+"px",f.progressBarSlide.appendChild(v),m===0&&(v.style.display="none"),v}))})):this.pages.forEach((c=>c.progressBarSlide=null))}syncScrollPosition(){const e=this.viewportElement.offsetHeight,i=e/this.viewportElement.scrollHeight,o=this.viewportElement.scrollTop,r=this.viewportElement.scrollHeight-e,l=Math.max(Math.min(o/r,1),0),c=Math.max(Math.min((o+e/2)/this.viewportElement.scrollHeight,1),0);let f;this.slideTriggers.forEach((p=>{const{page:m}=p;l>=p.range[0]-2*i&&l<=p.range[1]+2*i&&!m.loaded?(m.loaded=!0,this.Reveal.slideContent.load(m.slideElement)):m.loaded&&(m.loaded=!1,this.Reveal.slideContent.unload(m.slideElement)),l>=p.range[0]&&l<=p.range[1]?(this.activateTrigger(p),f=p.page):p.active&&this.deactivateTrigger(p)})),f&&f.scrollTriggers.forEach((p=>{c>=p.range[0]&&c<=p.range[1]?this.activateTrigger(p):p.active&&this.deactivateTrigger(p)})),this.setProgressBarValue(o/(this.viewportElement.scrollHeight-e))}setProgressBarValue(e){this.progressBar&&(this.progressBarPlayhead.style.transform=`translateY(${e*this.progressBarScrollableHeight}px)`,this.getAllPages().filter((i=>i.progressBarSlide)).forEach((i=>{i.progressBarSlide.classList.toggle("active",i.active===!0),i.scrollTriggers.forEach(((o,r)=>{i.scrollTriggerElements[r].classList.toggle("active",i.active===!0&&o.active===!0)}))})),this.showProgressBar())}showProgressBar(){this.progressBar.classList.add("visible"),clearTimeout(this.hideProgressBarTimeout),this.Reveal.getConfig().scrollProgress!=="auto"||this.draggingProgressBar||(this.hideProgressBarTimeout=setTimeout((()=>{this.progressBar&&this.progressBar.classList.remove("visible")}),500))}prev(){this.viewportElement.scrollTop-=this.scrollTriggerHeight}next(){this.viewportElement.scrollTop+=this.scrollTriggerHeight}scrollToSlide(e){if(this.active){const i=this.getScrollTriggerBySlide(e);i&&(this.viewportElement.scrollTop=i.range[0]*(this.viewportElement.scrollHeight-this.viewportElement.offsetHeight))}else this.activatedCallbacks.push((()=>this.scrollToSlide(e)))}storeScrollPosition(){clearTimeout(this.storeScrollPositionTimeout),this.storeScrollPositionTimeout=setTimeout((()=>{sessionStorage.setItem("reveal-scroll-top",this.viewportElement.scrollTop),sessionStorage.setItem("reveal-scroll-origin",location.origin+location.pathname),this.storeScrollPositionTimeout=null}),50)}restoreScrollPosition(){const e=sessionStorage.getItem("reveal-scroll-top"),i=sessionStorage.getItem("reveal-scroll-origin");e&&i===location.origin+location.pathname&&(this.viewportElement.scrollTop=parseInt(e,10))}activatePage(e){if(!e.active){e.active=!0;const{slideElement:i,backgroundElement:o,contentElement:r,indexh:l,indexv:c}=e;r.style.display="block",i.classList.add("present"),o&&o.classList.add("present"),this.Reveal.setCurrentScrollPage(i,l,c),this.Reveal.backgrounds.bubbleSlideContrastClassToElement(i,this.viewportElement),Array.from(r.parentNode.querySelectorAll(".scroll-page-content")).forEach((f=>{f!==r&&(f.style.display="none")}))}}deactivatePage(e){e.active&&(e.active=!1,e.slideElement&&e.slideElement.classList.remove("present"),e.backgroundElement&&e.backgroundElement.classList.remove("present"))}activateTrigger(e){e.active||(e.active=!0,e.activate())}deactivateTrigger(e){e.active&&(e.active=!1,e.deactivate&&e.deactivate())}getSlideByIndices(e,i){const o=this.getAllPages().find((r=>r.indexh===e&&r.indexv===i));return o?o.slideElement:null}getScrollTriggerBySlide(e){return this.slideTriggers.find((i=>i.page.slideElement===e))}getAllPages(){return this.pages.flatMap((e=>[e,...e.autoAnimatePages||[]]))}onScroll(){this.syncScrollPosition(),this.storeScrollPosition()}get viewportElement(){return this.Reveal.getViewportElement()}}class pP{constructor(e){this.Reveal=e}async activate(){const e=this.Reveal.getConfig(),i=we(this.Reveal.getRevealElement(),Ho),o=e.slideNumber&&/all|print/i.test(e.showSlideNumber),r=this.Reveal.getComputedSlideSize(window.innerWidth,window.innerHeight),l=Math.floor(r.width*(1+e.margin)),c=Math.floor(r.height*(1+e.margin)),f=r.width,p=r.height;await new Promise(requestAnimationFrame),Yp("@page{size:"+l+"px "+c+"px; margin: 0px;}"),Yp(".reveal section>img, .reveal section>video, .reveal section>iframe{max-width: "+f+"px; max-height:"+p+"px}"),document.documentElement.classList.add("reveal-print","print-pdf"),document.body.style.width=l+"px",document.body.style.height=c+"px";const m=this.Reveal.getViewportElement();let v;if(m){const _=window.getComputedStyle(m);_&&_.background&&(v=_.background)}await new Promise(requestAnimationFrame),this.Reveal.layoutSlideContents(f,p),await new Promise(requestAnimationFrame);const S=i.map((_=>_.scrollHeight)),E=[],A=i[0].parentNode;let x=1;i.forEach((function(_,D){if(_.classList.contains("stack")===!1){let k=(l-f)/2,J=(c-p)/2;const H=S[D];let ie=Math.max(Math.ceil(H/c),1);ie=Math.min(ie,e.pdfMaxPagesPerSlide),(ie===1&&e.center||_.classList.contains("center"))&&(J=Math.max((c-H)/2,0));const Z=document.createElement("div");if(E.push(Z),Z.className="pdf-page",Z.style.height=(c+e.pdfPageHeightOffset)*ie+"px",v&&(Z.style.background=v),Z.appendChild(_),_.style.left=k+"px",_.style.top=J+"px",_.style.width=f+"px",this.Reveal.slideContent.layout(_),_.slideBackgroundElement&&Z.insertBefore(_.slideBackgroundElement,_),e.showNotes){const ee=this.Reveal.getSlideNotes(_);if(ee){const Se=typeof e.showNotes=="string"?e.showNotes:"inline",W=document.createElement("div");W.classList.add("speaker-notes"),W.classList.add("speaker-notes-pdf"),W.setAttribute("data-layout",Se),W.innerHTML=ee,Se==="separate-page"?E.push(W):(W.style.left="8px",W.style.bottom="8px",W.style.width=l-16+"px",Z.appendChild(W))}}if(o){const ee=document.createElement("div");ee.classList.add("slide-number"),ee.classList.add("slide-number-pdf"),ee.innerHTML=x++,Z.appendChild(ee)}if(e.pdfSeparateFragments){const ee=this.Reveal.fragments.sort(Z.querySelectorAll(".fragment"),!0);let te;ee.forEach((function(Se,W){te&&te.forEach((function(he){he.classList.remove("current-fragment")})),Se.forEach((function(he){he.classList.add("visible","current-fragment")}),this);const P=Z.cloneNode(!0);if(o){const he=W+1;P.querySelector(".slide-number-pdf").innerHTML+="."+he}E.push(P),te=Se}),this),ee.forEach((function(Se){Se.forEach((function(W){W.classList.remove("visible","current-fragment")}))}))}else we(Z,".fragment:not(.fade-out)").forEach((function(ee){ee.classList.add("visible")}))}}),this),await new Promise(requestAnimationFrame),E.forEach((_=>A.appendChild(_))),this.Reveal.slideContent.layout(this.Reveal.getSlidesElement()),this.Reveal.dispatchEvent({type:"pdf-ready"}),m.classList.remove("loading-scroll-mode")}isActive(){return this.Reveal.getConfig().view==="print"}}class mP{constructor(e){this.Reveal=e}configure(e,i){e.fragments===!1?this.disable():i.fragments===!1&&this.enable()}disable(){we(this.Reveal.getSlidesElement(),".fragment").forEach((e=>{e.classList.add("visible"),e.classList.remove("current-fragment")}))}enable(){we(this.Reveal.getSlidesElement(),".fragment").forEach((e=>{e.classList.remove("visible"),e.classList.remove("current-fragment")}))}availableRoutes(){let e=this.Reveal.getCurrentSlide();if(e&&this.Reveal.getConfig().fragments){let i=e.querySelectorAll(".fragment:not(.disabled)"),o=e.querySelectorAll(".fragment:not(.disabled):not(.visible)");return{prev:i.length-o.length>0,next:!!o.length}}return{prev:!1,next:!1}}sort(e,i=!1){e=Array.from(e);let o=[],r=[],l=[];e.forEach((f=>{if(f.hasAttribute("data-fragment-index")){let p=parseInt(f.getAttribute("data-fragment-index"),10);o[p]||(o[p]=[]),o[p].push(f)}else r.push([f])})),o=o.concat(r);let c=0;return o.forEach((f=>{f.forEach((p=>{l.push(p),p.setAttribute("data-fragment-index",c)})),c++})),i===!0?o:l}sortAll(){this.Reveal.getHorizontalSlides().forEach((e=>{let i=we(e,"section");i.forEach(((o,r)=>{this.sort(o.querySelectorAll(".fragment"))}),this),i.length===0&&this.sort(e.querySelectorAll(".fragment"))}))}update(e,i,o=this.Reveal.getCurrentSlide()){let r={shown:[],hidden:[]};if(o&&this.Reveal.getConfig().fragments&&(i=i||this.sort(o.querySelectorAll(".fragment"))).length){let l=0;if(typeof e!="number"){let c=this.sort(o.querySelectorAll(".fragment.visible")).pop();c&&(e=parseInt(c.getAttribute("data-fragment-index")||0,10))}Array.from(i).forEach(((c,f)=>{if(c.hasAttribute("data-fragment-index")&&(f=parseInt(c.getAttribute("data-fragment-index"),10)),l=Math.max(l,f),f<=e){let p=c.classList.contains("visible");c.classList.add("visible"),c.classList.remove("current-fragment"),f===e&&(this.Reveal.announceStatus(this.Reveal.getStatusText(c)),c.classList.add("current-fragment"),this.Reveal.slideContent.startEmbeddedContent(c)),p||(r.shown.push(c),this.Reveal.dispatchEvent({target:c,type:"visible",bubbles:!1}))}else{let p=c.classList.contains("visible");c.classList.remove("visible"),c.classList.remove("current-fragment"),p&&(this.Reveal.slideContent.stopEmbeddedContent(c),r.hidden.push(c),this.Reveal.dispatchEvent({target:c,type:"hidden",bubbles:!1}))}})),e=typeof e=="number"?e:-1,e=Math.max(Math.min(e,l),-1),o.setAttribute("data-fragment",e)}return r.hidden.length&&this.Reveal.dispatchEvent({type:"fragmenthidden",data:{fragment:r.hidden[0],fragments:r.hidden}}),r.shown.length&&this.Reveal.dispatchEvent({type:"fragmentshown",data:{fragment:r.shown[0],fragments:r.shown}}),r}sync(e=this.Reveal.getCurrentSlide()){return this.sort(e.querySelectorAll(".fragment"))}goto(e,i=0){let o=this.Reveal.getCurrentSlide();if(o&&this.Reveal.getConfig().fragments){let r=this.sort(o.querySelectorAll(".fragment:not(.disabled)"));if(r.length){if(typeof e!="number"){let c=this.sort(o.querySelectorAll(".fragment:not(.disabled).visible")).pop();e=c?parseInt(c.getAttribute("data-fragment-index")||0,10):-1}e+=i;let l=this.update(e,r);return this.Reveal.controls.update(),this.Reveal.progress.update(),this.Reveal.getConfig().fragmentInURL&&this.Reveal.location.writeURL(),!(!l.shown.length&&!l.hidden.length)}}return!1}next(){return this.goto(null,1)}prev(){return this.goto(null,-1)}}class gP{constructor(e){this.Reveal=e,this.active=!1,this.onSlideClicked=this.onSlideClicked.bind(this)}activate(){if(this.Reveal.getConfig().overview&&!this.Reveal.isScrollView()&&!this.isActive()){this.active=!0,this.Reveal.getRevealElement().classList.add("overview"),this.Reveal.cancelAutoSlide(),this.Reveal.getSlidesElement().appendChild(this.Reveal.getBackgroundsElement()),we(this.Reveal.getRevealElement(),Ho).forEach((r=>{r.classList.contains("stack")||r.addEventListener("click",this.onSlideClicked,!0)}));const e=70,i=this.Reveal.getComputedSlideSize();this.overviewSlideWidth=i.width+e,this.overviewSlideHeight=i.height+e,this.Reveal.getConfig().rtl&&(this.overviewSlideWidth=-this.overviewSlideWidth),this.Reveal.updateSlidesVisibility(),this.layout(),this.update(),this.Reveal.layout();const o=this.Reveal.getIndices();this.Reveal.dispatchEvent({type:"overviewshown",data:{indexh:o.h,indexv:o.v,currentSlide:this.Reveal.getCurrentSlide()}})}}layout(){this.Reveal.getHorizontalSlides().forEach(((e,i)=>{e.setAttribute("data-index-h",i),Qs(e,"translate3d("+i*this.overviewSlideWidth+"px, 0, 0)"),e.classList.contains("stack")&&we(e,"section").forEach(((o,r)=>{o.setAttribute("data-index-h",i),o.setAttribute("data-index-v",r),Qs(o,"translate3d(0, "+r*this.overviewSlideHeight+"px, 0)")}))})),Array.from(this.Reveal.getBackgroundsElement().childNodes).forEach(((e,i)=>{Qs(e,"translate3d("+i*this.overviewSlideWidth+"px, 0, 0)"),we(e,".slide-background").forEach(((o,r)=>{Qs(o,"translate3d(0, "+r*this.overviewSlideHeight+"px, 0)")}))}))}update(){const e=Math.min(window.innerWidth,window.innerHeight),i=Math.max(e/5,150)/e,o=this.Reveal.getIndices();this.Reveal.transformSlides({overview:["scale("+i+")","translateX("+-o.h*this.overviewSlideWidth+"px)","translateY("+-o.v*this.overviewSlideHeight+"px)"].join(" ")})}deactivate(){if(this.Reveal.getConfig().overview){this.active=!1,this.Reveal.getRevealElement().classList.remove("overview"),this.Reveal.getRevealElement().classList.add("overview-deactivating"),setTimeout((()=>{this.Reveal.getRevealElement().classList.remove("overview-deactivating")}),1),this.Reveal.getRevealElement().appendChild(this.Reveal.getBackgroundsElement()),we(this.Reveal.getRevealElement(),Ho).forEach((i=>{Qs(i,""),i.removeEventListener("click",this.onSlideClicked,!0)})),we(this.Reveal.getBackgroundsElement(),".slide-background").forEach((i=>{Qs(i,"")})),this.Reveal.transformSlides({overview:""});const e=this.Reveal.getIndices();this.Reveal.slide(e.h,e.v),this.Reveal.layout(),this.Reveal.cueAutoSlide(),this.Reveal.dispatchEvent({type:"overviewhidden",data:{indexh:e.h,indexv:e.v,currentSlide:this.Reveal.getCurrentSlide()}})}}toggle(e){typeof e=="boolean"?e?this.activate():this.deactivate():this.isActive()?this.deactivate():this.activate()}isActive(){return this.active}onSlideClicked(e){if(this.isActive()){e.preventDefault();let i=e.target;for(;i&&!i.nodeName.match(/section/gi);)i=i.parentNode;if(i&&!i.classList.contains("disabled")&&(this.deactivate(),i.nodeName.match(/section/gi))){let o=parseInt(i.getAttribute("data-index-h"),10),r=parseInt(i.getAttribute("data-index-v"),10);this.Reveal.slide(o,r)}}}}class yP{constructor(e){this.Reveal=e,this.shortcuts={},this.bindings={},this.onDocumentKeyDown=this.onDocumentKeyDown.bind(this)}configure(e,i){e.navigationMode==="linear"?(this.shortcuts["&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J"]="Next slide",this.shortcuts["&#8592;  ,  &#8593;  ,  P  ,  H  ,  K"]="Previous slide"):(this.shortcuts["N  ,  SPACE"]="Next slide",this.shortcuts["P  ,  Shift SPACE"]="Previous slide",this.shortcuts["&#8592;  ,  H"]="Navigate left",this.shortcuts["&#8594;  ,  L"]="Navigate right",this.shortcuts["&#8593;  ,  K"]="Navigate up",this.shortcuts["&#8595;  ,  J"]="Navigate down"),this.shortcuts["Alt + &#8592;/&#8593/&#8594;/&#8595;"]="Navigate without fragments",this.shortcuts["Shift + &#8592;/&#8593/&#8594;/&#8595;"]="Jump to first/last slide",this.shortcuts["B  ,  ."]="Pause",this.shortcuts.F="Fullscreen",this.shortcuts.G="Jump to slide",this.shortcuts["ESC, O"]="Slide overview"}bind(){document.addEventListener("keydown",this.onDocumentKeyDown,!1)}unbind(){document.removeEventListener("keydown",this.onDocumentKeyDown,!1)}addKeyBinding(e,i){typeof e=="object"&&e.keyCode?this.bindings[e.keyCode]={callback:i,key:e.key,description:e.description}:this.bindings[e]={callback:i,key:null,description:null}}removeKeyBinding(e){delete this.bindings[e]}triggerKey(e){this.onDocumentKeyDown({keyCode:e})}registerKeyboardShortcut(e,i){this.shortcuts[e]=i}getShortcuts(){return this.shortcuts}getBindings(){return this.bindings}onDocumentKeyDown(e){let i=this.Reveal.getConfig();if(typeof i.keyboardCondition=="function"&&i.keyboardCondition(e)===!1||i.keyboardCondition==="focused"&&!this.Reveal.isFocused())return!0;let o=e.keyCode,r=!this.Reveal.isAutoSliding();this.Reveal.onUserInput(e);let l=document.activeElement&&document.activeElement.isContentEditable===!0,c=document.activeElement&&document.activeElement.tagName&&/input|textarea/i.test(document.activeElement.tagName),f=document.activeElement&&document.activeElement.className&&/speaker-notes/i.test(document.activeElement.className),p=!([32,37,38,39,40,63,78,80,191].indexOf(e.keyCode)!==-1&&e.shiftKey||e.altKey)&&(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey);if(l||c||f||p)return;let m,v=[66,86,190,191,112];if(typeof i.keyboard=="object")for(m in i.keyboard)i.keyboard[m]==="togglePause"&&v.push(parseInt(m,10));if(this.Reveal.isOverlayOpen()&&!["Escape","f","c","b","."].includes(e.key)||this.Reveal.isPaused()&&v.indexOf(o)===-1)return!1;let S=i.navigationMode==="linear"||!this.Reveal.hasHorizontalSlides()||!this.Reveal.hasVerticalSlides(),E=!1;if(typeof i.keyboard=="object"){for(m in i.keyboard)if(parseInt(m,10)===o){let A=i.keyboard[m];typeof A=="function"?A.apply(null,[e]):typeof A=="string"&&typeof this.Reveal[A]=="function"&&this.Reveal[A].call(),E=!0}}if(E===!1){for(m in this.bindings)if(parseInt(m,10)===o){let A=this.bindings[m].callback;typeof A=="function"?A.apply(null,[e]):typeof A=="string"&&typeof this.Reveal[A]=="function"&&this.Reveal[A].call(),E=!0}}E===!1&&(E=!0,o===80||o===33?this.Reveal.prev({skipFragments:e.altKey}):o===78||o===34?this.Reveal.next({skipFragments:e.altKey}):o===72||o===37?e.shiftKey?this.Reveal.slide(0):!this.Reveal.overview.isActive()&&S?i.rtl?this.Reveal.next({skipFragments:e.altKey}):this.Reveal.prev({skipFragments:e.altKey}):this.Reveal.left({skipFragments:e.altKey}):o===76||o===39?e.shiftKey?this.Reveal.slide(this.Reveal.getHorizontalSlides().length-1):!this.Reveal.overview.isActive()&&S?i.rtl?this.Reveal.prev({skipFragments:e.altKey}):this.Reveal.next({skipFragments:e.altKey}):this.Reveal.right({skipFragments:e.altKey}):o===75||o===38?e.shiftKey?this.Reveal.slide(void 0,0):!this.Reveal.overview.isActive()&&S?this.Reveal.prev({skipFragments:e.altKey}):this.Reveal.up({skipFragments:e.altKey}):o===74||o===40?e.shiftKey?this.Reveal.slide(void 0,Number.MAX_VALUE):!this.Reveal.overview.isActive()&&S?this.Reveal.next({skipFragments:e.altKey}):this.Reveal.down({skipFragments:e.altKey}):o===36?this.Reveal.slide(0):o===35?this.Reveal.slide(this.Reveal.getHorizontalSlides().length-1):o===32?(this.Reveal.overview.isActive()&&this.Reveal.overview.deactivate(),e.shiftKey?this.Reveal.prev({skipFragments:e.altKey}):this.Reveal.next({skipFragments:e.altKey})):[58,59,66,86,190].includes(o)||o===191&&!e.shiftKey?this.Reveal.togglePause():o===70?rw(i.embedded?this.Reveal.getViewportElement():document.documentElement):o===65?i.autoSlideStoppable&&this.Reveal.toggleAutoSlide(r):o===71?i.jumpToSlide&&this.Reveal.toggleJumpToSlide():o===67&&this.Reveal.isOverlayOpen()?this.Reveal.closeOverlay():o!==63&&o!==191||!e.shiftKey?o===112?this.Reveal.toggleHelp():E=!1:this.Reveal.toggleHelp()),E?e.preventDefault&&e.preventDefault():o!==27&&o!==79||(this.Reveal.closeOverlay()===!1&&this.Reveal.overview.toggle(),e.preventDefault&&e.preventDefault()),this.Reveal.cueAutoSlide()}}class vP{constructor(e){Ge(this,"MAX_REPLACE_STATE_FREQUENCY",1e3);this.Reveal=e,this.writeURLTimeout=0,this.replaceStateTimestamp=0,this.onWindowHashChange=this.onWindowHashChange.bind(this)}bind(){window.addEventListener("hashchange",this.onWindowHashChange,!1)}unbind(){window.removeEventListener("hashchange",this.onWindowHashChange,!1)}getIndicesFromHash(e=window.location.hash,i={}){let o=e.replace(/^#\/?/,""),r=o.split("/");if(/^[0-9]*$/.test(r[0])||!o.length){const l=this.Reveal.getConfig();let c,f=l.hashOneBasedIndex||i.oneBasedIndex?1:0,p=parseInt(r[0],10)-f||0,m=parseInt(r[1],10)-f||0;return l.fragmentInURL&&(c=parseInt(r[2],10),isNaN(c)&&(c=void 0)),{h:p,v:m,f:c}}{let l,c;/\/[-\d]+$/g.test(o)&&(c=parseInt(o.split("/").pop(),10),c=isNaN(c)?void 0:c,o=o.split("/").shift());try{l=document.getElementById(decodeURIComponent(o)).closest(".slides section")}catch{}if(l)return{...this.Reveal.getIndices(l),f:c}}return null}readURL(){const e=this.Reveal.getIndices(),i=this.getIndicesFromHash();i?i.h===e.h&&i.v===e.v&&i.f===void 0||this.Reveal.slide(i.h,i.v,i.f):this.Reveal.slide(e.h||0,e.v||0)}writeURL(e){let i=this.Reveal.getConfig(),o=this.Reveal.getCurrentSlide();if(clearTimeout(this.writeURLTimeout),typeof e=="number")this.writeURLTimeout=setTimeout(this.writeURL,e);else if(o){let r=this.getHash();i.history?window.location.hash=r:i.hash&&(r==="/"?this.debouncedReplaceState(window.location.pathname+window.location.search):this.debouncedReplaceState("#"+r))}}replaceState(e){window.history.replaceState(null,null,e),this.replaceStateTimestamp=Date.now()}debouncedReplaceState(e){clearTimeout(this.replaceStateTimeout),Date.now()-this.replaceStateTimestamp>this.MAX_REPLACE_STATE_FREQUENCY?this.replaceState(e):this.replaceStateTimeout=setTimeout((()=>this.replaceState(e)),this.MAX_REPLACE_STATE_FREQUENCY)}getHash(e){let i="/",o=e||this.Reveal.getCurrentSlide(),r=o?o.getAttribute("id"):null;r&&(r=encodeURIComponent(r));let l=this.Reveal.getIndices(e);if(this.Reveal.getConfig().fragmentInURL||(l.f=void 0),typeof r=="string"&&r.length)i="/"+r,l.f>=0&&(i+="/"+l.f);else{let c=this.Reveal.getConfig().hashOneBasedIndex?1:0;(l.h>0||l.v>0||l.f>=0)&&(i+=l.h+c),(l.v>0||l.f>=0)&&(i+="/"+(l.v+c)),l.f>=0&&(i+="/"+l.f)}return i}onWindowHashChange(e){this.readURL()}}class SP{constructor(e){this.Reveal=e,this.onNavigateLeftClicked=this.onNavigateLeftClicked.bind(this),this.onNavigateRightClicked=this.onNavigateRightClicked.bind(this),this.onNavigateUpClicked=this.onNavigateUpClicked.bind(this),this.onNavigateDownClicked=this.onNavigateDownClicked.bind(this),this.onNavigatePrevClicked=this.onNavigatePrevClicked.bind(this),this.onNavigateNextClicked=this.onNavigateNextClicked.bind(this),this.onEnterFullscreen=this.onEnterFullscreen.bind(this)}render(){const e=this.Reveal.getConfig().rtl,i=this.Reveal.getRevealElement();this.element=document.createElement("aside"),this.element.className="controls",this.element.innerHTML=`<button class="navigate-left" aria-label="${e?"next slide":"previous slide"}"><div class="controls-arrow"></div></button>
			<button class="navigate-right" aria-label="${e?"previous slide":"next slide"}"><div class="controls-arrow"></div></button>
			<button class="navigate-up" aria-label="above slide"><div class="controls-arrow"></div></button>
			<button class="navigate-down" aria-label="below slide"><div class="controls-arrow"></div></button>`,this.Reveal.getRevealElement().appendChild(this.element),this.controlsLeft=we(i,".navigate-left"),this.controlsRight=we(i,".navigate-right"),this.controlsUp=we(i,".navigate-up"),this.controlsDown=we(i,".navigate-down"),this.controlsPrev=we(i,".navigate-prev"),this.controlsNext=we(i,".navigate-next"),this.controlsFullscreen=we(i,".enter-fullscreen"),this.controlsRightArrow=this.element.querySelector(".navigate-right"),this.controlsLeftArrow=this.element.querySelector(".navigate-left"),this.controlsDownArrow=this.element.querySelector(".navigate-down")}configure(e,i){this.element.style.display=e.controls&&(e.controls!=="speaker-only"||this.Reveal.isSpeakerNotes())?"block":"none",this.element.setAttribute("data-controls-layout",e.controlsLayout),this.element.setAttribute("data-controls-back-arrows",e.controlsBackArrows)}bind(){let e=["touchstart","click"];lw&&(e=["touchstart"]),e.forEach((i=>{this.controlsLeft.forEach((o=>o.addEventListener(i,this.onNavigateLeftClicked,!1))),this.controlsRight.forEach((o=>o.addEventListener(i,this.onNavigateRightClicked,!1))),this.controlsUp.forEach((o=>o.addEventListener(i,this.onNavigateUpClicked,!1))),this.controlsDown.forEach((o=>o.addEventListener(i,this.onNavigateDownClicked,!1))),this.controlsPrev.forEach((o=>o.addEventListener(i,this.onNavigatePrevClicked,!1))),this.controlsNext.forEach((o=>o.addEventListener(i,this.onNavigateNextClicked,!1))),this.controlsFullscreen.forEach((o=>o.addEventListener(i,this.onEnterFullscreen,!1)))}))}unbind(){["touchstart","click"].forEach((e=>{this.controlsLeft.forEach((i=>i.removeEventListener(e,this.onNavigateLeftClicked,!1))),this.controlsRight.forEach((i=>i.removeEventListener(e,this.onNavigateRightClicked,!1))),this.controlsUp.forEach((i=>i.removeEventListener(e,this.onNavigateUpClicked,!1))),this.controlsDown.forEach((i=>i.removeEventListener(e,this.onNavigateDownClicked,!1))),this.controlsPrev.forEach((i=>i.removeEventListener(e,this.onNavigatePrevClicked,!1))),this.controlsNext.forEach((i=>i.removeEventListener(e,this.onNavigateNextClicked,!1))),this.controlsFullscreen.forEach((i=>i.removeEventListener(e,this.onEnterFullscreen,!1)))}))}update(){let e=this.Reveal.availableRoutes();[...this.controlsLeft,...this.controlsRight,...this.controlsUp,...this.controlsDown,...this.controlsPrev,...this.controlsNext].forEach((o=>{o.classList.remove("enabled","fragmented"),o.setAttribute("disabled","disabled")})),e.left&&this.controlsLeft.forEach((o=>{o.classList.add("enabled"),o.removeAttribute("disabled")})),e.right&&this.controlsRight.forEach((o=>{o.classList.add("enabled"),o.removeAttribute("disabled")})),e.up&&this.controlsUp.forEach((o=>{o.classList.add("enabled"),o.removeAttribute("disabled")})),e.down&&this.controlsDown.forEach((o=>{o.classList.add("enabled"),o.removeAttribute("disabled")})),(e.left||e.up)&&this.controlsPrev.forEach((o=>{o.classList.add("enabled"),o.removeAttribute("disabled")})),(e.right||e.down)&&this.controlsNext.forEach((o=>{o.classList.add("enabled"),o.removeAttribute("disabled")}));let i=this.Reveal.getCurrentSlide();if(i){let o=this.Reveal.fragments.availableRoutes();o.prev&&this.controlsPrev.forEach((c=>{c.classList.add("fragmented","enabled"),c.removeAttribute("disabled")})),o.next&&this.controlsNext.forEach((c=>{c.classList.add("fragmented","enabled"),c.removeAttribute("disabled")}));const r=this.Reveal.isVerticalSlide(i),l=r&&i.parentElement&&i.parentElement.querySelectorAll(":scope > section").length>1;r&&l?(o.prev&&this.controlsUp.forEach((c=>{c.classList.add("fragmented","enabled"),c.removeAttribute("disabled")})),o.next&&this.controlsDown.forEach((c=>{c.classList.add("fragmented","enabled"),c.removeAttribute("disabled")}))):(o.prev&&this.controlsLeft.forEach((c=>{c.classList.add("fragmented","enabled"),c.removeAttribute("disabled")})),o.next&&this.controlsRight.forEach((c=>{c.classList.add("fragmented","enabled"),c.removeAttribute("disabled")})))}if(this.Reveal.getConfig().controlsTutorial){let o=this.Reveal.getIndices();!this.Reveal.hasNavigatedVertically()&&e.down?this.controlsDownArrow.classList.add("highlight"):(this.controlsDownArrow.classList.remove("highlight"),this.Reveal.getConfig().rtl?!this.Reveal.hasNavigatedHorizontally()&&e.left&&o.v===0?this.controlsLeftArrow.classList.add("highlight"):this.controlsLeftArrow.classList.remove("highlight"):!this.Reveal.hasNavigatedHorizontally()&&e.right&&o.v===0?this.controlsRightArrow.classList.add("highlight"):this.controlsRightArrow.classList.remove("highlight"))}}destroy(){this.unbind(),this.element.remove()}onNavigateLeftClicked(e){e.preventDefault(),this.Reveal.onUserInput(),this.Reveal.getConfig().navigationMode==="linear"?this.Reveal.prev():this.Reveal.left()}onNavigateRightClicked(e){e.preventDefault(),this.Reveal.onUserInput(),this.Reveal.getConfig().navigationMode==="linear"?this.Reveal.next():this.Reveal.right()}onNavigateUpClicked(e){e.preventDefault(),this.Reveal.onUserInput(),this.Reveal.up()}onNavigateDownClicked(e){e.preventDefault(),this.Reveal.onUserInput(),this.Reveal.down()}onNavigatePrevClicked(e){e.preventDefault(),this.Reveal.onUserInput(),this.Reveal.prev()}onNavigateNextClicked(e){e.preventDefault(),this.Reveal.onUserInput(),this.Reveal.next()}onEnterFullscreen(e){const i=this.Reveal.getConfig(),o=this.Reveal.getViewportElement();rw(i.embedded?o:o.parentElement)}}class EP{constructor(e){this.Reveal=e,this.onProgressClicked=this.onProgressClicked.bind(this)}render(){this.element=document.createElement("div"),this.element.className="progress",this.Reveal.getRevealElement().appendChild(this.element),this.bar=document.createElement("span"),this.element.appendChild(this.bar)}configure(e,i){this.element.style.display=e.progress?"block":"none"}bind(){this.Reveal.getConfig().progress&&this.element&&this.element.addEventListener("click",this.onProgressClicked,!1)}unbind(){this.Reveal.getConfig().progress&&this.element&&this.element.removeEventListener("click",this.onProgressClicked,!1)}update(){if(this.Reveal.getConfig().progress&&this.bar){let e=this.Reveal.getProgress();this.Reveal.getTotalSlides()<2&&(e=0),this.bar.style.transform="scaleX("+e+")"}}getMaxWidth(){return this.Reveal.getRevealElement().offsetWidth}onProgressClicked(e){this.Reveal.onUserInput(e),e.preventDefault();let i=this.Reveal.getSlides(),o=i.length,r=Math.floor(e.clientX/this.getMaxWidth()*o);this.Reveal.getConfig().rtl&&(r=o-r);let l=this.Reveal.getIndices(i[r]);this.Reveal.slide(l.h,l.v)}destroy(){this.element.remove()}}class bP{constructor(e){this.Reveal=e,this.lastMouseWheelStep=0,this.cursorHidden=!1,this.cursorInactiveTimeout=0,this.onDocumentCursorActive=this.onDocumentCursorActive.bind(this),this.onDocumentMouseScroll=this.onDocumentMouseScroll.bind(this)}configure(e,i){e.mouseWheel?document.addEventListener("wheel",this.onDocumentMouseScroll,!1):document.removeEventListener("wheel",this.onDocumentMouseScroll,!1),e.hideInactiveCursor?(document.addEventListener("mousemove",this.onDocumentCursorActive,!1),document.addEventListener("mousedown",this.onDocumentCursorActive,!1)):(this.showCursor(),document.removeEventListener("mousemove",this.onDocumentCursorActive,!1),document.removeEventListener("mousedown",this.onDocumentCursorActive,!1))}showCursor(){this.cursorHidden&&(this.cursorHidden=!1,this.Reveal.getRevealElement().style.cursor="")}hideCursor(){this.cursorHidden===!1&&(this.cursorHidden=!0,this.Reveal.getRevealElement().style.cursor="none")}destroy(){this.showCursor(),document.removeEventListener("wheel",this.onDocumentMouseScroll,!1),document.removeEventListener("mousemove",this.onDocumentCursorActive,!1),document.removeEventListener("mousedown",this.onDocumentCursorActive,!1)}onDocumentCursorActive(e){this.showCursor(),clearTimeout(this.cursorInactiveTimeout),this.cursorInactiveTimeout=setTimeout(this.hideCursor.bind(this),this.Reveal.getConfig().hideCursorTime)}onDocumentMouseScroll(e){if(Date.now()-this.lastMouseWheelStep>1e3){this.lastMouseWheelStep=Date.now();let i=e.detail||-e.wheelDelta;i>0?this.Reveal.next():i<0&&this.Reveal.prev()}}}const NE=(t,e)=>{const i=document.createElement("script");i.type="text/javascript",i.async=!1,i.defer=!1,i.src=t,typeof e=="function"&&(i.onload=i.onreadystatechange=r=>{(r.type==="load"||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=i.onerror=null,e())},i.onerror=r=>{i.onload=i.onreadystatechange=i.onerror=null,e(new Error("Failed loading script: "+i.src+`
`+r))});const o=document.querySelector("head");o.insertBefore(i,o.lastChild)};class TP{constructor(e){this.Reveal=e,this.state="idle",this.registeredPlugins={},this.asyncDependencies=[]}load(e,i){return this.state="loading",e.forEach(this.registerPlugin.bind(this)),new Promise((o=>{let r=[],l=0;if(i.forEach((c=>{c.condition&&!c.condition()||(c.async?this.asyncDependencies.push(c):r.push(c))})),r.length){l=r.length;const c=f=>{f&&typeof f.callback=="function"&&f.callback(),--l==0&&this.initPlugins().then(o)};r.forEach((f=>{typeof f.id=="string"?(this.registerPlugin(f),c(f)):typeof f.src=="string"?NE(f.src,(()=>c(f))):(console.warn("Unrecognized plugin format",f),c())}))}else this.initPlugins().then(o)}))}initPlugins(){return new Promise((e=>{let i=Object.values(this.registeredPlugins),o=i.length;if(o===0)this.loadAsync().then(e);else{let r,l=()=>{--o==0?this.loadAsync().then(e):r()},c=0;r=()=>{let f=i[c++];if(typeof f.init=="function"){let p=f.init(this.Reveal);p&&typeof p.then=="function"?p.then(l):l()}else l()},r()}}))}loadAsync(){return this.state="loaded",this.asyncDependencies.length&&this.asyncDependencies.forEach((e=>{NE(e.src,e.callback)})),Promise.resolve()}registerPlugin(e){arguments.length===2&&typeof arguments[0]=="string"?(e=arguments[1]).id=arguments[0]:typeof e=="function"&&(e=e());let i=e.id;typeof i!="string"?console.warn("Unrecognized plugin format; can't find plugin.id",e):this.registeredPlugins[i]===void 0?(this.registeredPlugins[i]=e,this.state==="loaded"&&typeof e.init=="function"&&e.init(this.Reveal)):console.warn('reveal.js: "'+i+'" plugin has already been registered')}hasPlugin(e){return!!this.registeredPlugins[e]}getPlugin(e){return this.registeredPlugins[e]}getRegisteredPlugins(){return this.registeredPlugins}destroy(){Object.values(this.registeredPlugins).forEach((e=>{typeof e.destroy=="function"&&e.destroy()})),this.registeredPlugins={},this.asyncDependencies=[]}}class wP{constructor(e){this.Reveal=e,this.onSlidesClicked=this.onSlidesClicked.bind(this),this.iframeTriggerSelector=null,this.mediaTriggerSelector="[data-preview-image], [data-preview-video]",this.stateProps=["previewIframe","previewImage","previewVideo","previewFit"],this.state={}}update(){this.Reveal.getConfig().previewLinks?this.iframeTriggerSelector="a[href]:not([data-preview-link=false]), [data-preview-link]:not(a):not([data-preview-link=false])":this.iframeTriggerSelector="[data-preview-link]:not([data-preview-link=false])";const e=this.Reveal.getSlidesElement().querySelectorAll(this.iframeTriggerSelector).length>0,i=this.Reveal.getSlidesElement().querySelectorAll(this.mediaTriggerSelector).length>0;e||i?this.Reveal.getSlidesElement().addEventListener("click",this.onSlidesClicked,!1):this.Reveal.getSlidesElement().removeEventListener("click",this.onSlidesClicked,!1)}createOverlay(e){this.dom=document.createElement("div"),this.dom.classList.add("r-overlay"),this.dom.classList.add(e),this.viewport=document.createElement("div"),this.viewport.classList.add("r-overlay-viewport"),this.dom.appendChild(this.viewport),this.Reveal.getRevealElement().appendChild(this.dom)}previewIframe(e){this.close(),this.state={previewIframe:e},this.createOverlay("r-overlay-preview"),this.dom.dataset.state="loading",this.viewport.innerHTML=`<header class="r-overlay-header">
				<a class="r-overlay-button r-overlay-external" href="${e}" target="_blank"><span class="icon"></span></a>
				<button class="r-overlay-button r-overlay-close"><span class="icon"></span></button>
			</header>
			<div class="r-overlay-spinner"></div>
			<div class="r-overlay-content">
				<iframe src="${e}"></iframe>
				<small class="r-overlay-content-inner">
					<span class="r-overlay-error x-frame-error">Unable to load iframe. This is likely due to the site's policy (x-frame-options).</span>
				</small>
			</div>`,this.dom.querySelector("iframe").addEventListener("load",(i=>{this.dom.dataset.state="loaded"}),!1),this.dom.querySelector(".r-overlay-close").addEventListener("click",(i=>{this.close(),i.preventDefault()}),!1),this.dom.querySelector(".r-overlay-external").addEventListener("click",(i=>{this.close()}),!1),this.Reveal.dispatchEvent({type:"previewiframe",data:{url:e}})}previewMedia(e,i,o){if(i!=="image"&&i!=="video")return void console.warn("Please specify a valid media type to preview (image|video)");this.close(),o=o||"scale-down",this.createOverlay("r-overlay-preview"),this.dom.dataset.state="loading",this.dom.dataset.previewFit=o,this.viewport.innerHTML=`<header class="r-overlay-header">
				<button class="r-overlay-button r-overlay-close">Esc <span class="icon"></span></button>
			</header>
			<div class="r-overlay-spinner"></div>
			<div class="r-overlay-content"></div>`;const r=this.dom.querySelector(".r-overlay-content");if(i==="image"){this.state={previewImage:e,previewFit:o};const l=document.createElement("img",{});l.src=e,r.appendChild(l),l.addEventListener("load",(()=>{this.dom.dataset.state="loaded"}),!1),l.addEventListener("error",(()=>{this.dom.dataset.state="error",r.innerHTML='<span class="r-overlay-error">Unable to load image.</span>'}),!1),this.dom.style.cursor="zoom-out",this.dom.addEventListener("click",(c=>{this.close()}),!1),this.Reveal.dispatchEvent({type:"previewimage",data:{url:e}})}else{if(i!=="video")throw new Error("Please specify a valid media type to preview");{this.state={previewVideo:e,previewFit:o};const l=document.createElement("video");l.autoplay=this.dom.dataset.previewAutoplay!=="false",l.controls=this.dom.dataset.previewControls!=="false",l.loop=this.dom.dataset.previewLoop==="true",l.muted=this.dom.dataset.previewMuted==="true",l.playsInline=!0,l.src=e,r.appendChild(l),l.addEventListener("loadeddata",(()=>{this.dom.dataset.state="loaded"}),!1),l.addEventListener("error",(()=>{this.dom.dataset.state="error",r.innerHTML='<span class="r-overlay-error">Unable to load video.</span>'}),!1),this.Reveal.dispatchEvent({type:"previewvideo",data:{url:e}})}}this.dom.querySelector(".r-overlay-close").addEventListener("click",(l=>{this.close(),l.preventDefault()}),!1)}previewImage(e,i){this.previewMedia(e,"image",i)}previewVideo(e,i){this.previewMedia(e,"video",i)}toggleHelp(e){typeof e=="boolean"?e?this.showHelp():this.close():this.dom?this.close():this.showHelp()}showHelp(){if(this.Reveal.getConfig().help){this.close(),this.createOverlay("r-overlay-help");let e='<p class="title">Keyboard Shortcuts</p>',i=this.Reveal.keyboard.getShortcuts(),o=this.Reveal.keyboard.getBindings();e+="<table><th>KEY</th><th>ACTION</th>";for(let r in i)e+=`<tr><td>${r}</td><td>${i[r]}</td></tr>`;for(let r in o)o[r].key&&o[r].description&&(e+=`<tr><td>${o[r].key}</td><td>${o[r].description}</td></tr>`);e+="</table>",this.viewport.innerHTML=`
				<header class="r-overlay-header">
					<button class="r-overlay-button r-overlay-close">Esc <span class="icon"></span></button>
				</header>
				<div class="r-overlay-content">
					<div class="r-overlay-help-content">${e}</div>
				</div>
			`,this.dom.querySelector(".r-overlay-close").addEventListener("click",(r=>{this.close(),r.preventDefault()}),!1),this.Reveal.dispatchEvent({type:"showhelp"})}}isOpen(){return!!this.dom}close(){return!!this.dom&&(this.dom.remove(),this.dom=null,this.state={},this.Reveal.dispatchEvent({type:"closeoverlay"}),!0)}getState(){return this.state}setState(e){this.stateProps.every((i=>this.state[i]===e[i]))||(e.previewIframe?this.previewIframe(e.previewIframe):e.previewImage?this.previewImage(e.previewImage,e.previewFit):e.previewVideo?this.previewVideo(e.previewVideo,e.previewFit):this.close())}onSlidesClicked(e){const i=e.target,o=i.closest(this.iframeTriggerSelector),r=i.closest(this.mediaTriggerSelector);if(o){if(e.metaKey||e.shiftKey||e.altKey)return;let l=o.getAttribute("href")||o.getAttribute("data-preview-link");l&&(this.previewIframe(l),e.preventDefault())}else if(r){if(r.hasAttribute("data-preview-image")){let l=r.dataset.previewImage||r.getAttribute("src");l&&(this.previewImage(l,r.dataset.previewFit),e.preventDefault())}else if(r.hasAttribute("data-preview-video")){let l=r.dataset.previewVideo||r.getAttribute("src");if(!l){let c=r.querySelector("source");c&&(l=c.getAttribute("src"))}l&&(this.previewVideo(l,r.dataset.previewFit),e.preventDefault())}}}destroy(){this.close()}}class AP{constructor(e){this.Reveal=e,this.touchStartX=0,this.touchStartY=0,this.touchStartCount=0,this.touchCaptured=!1,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)}bind(){let e=this.Reveal.getRevealElement();"onpointerdown"in window?(e.addEventListener("pointerdown",this.onPointerDown,!1),e.addEventListener("pointermove",this.onPointerMove,!1),e.addEventListener("pointerup",this.onPointerUp,!1)):window.navigator.msPointerEnabled?(e.addEventListener("MSPointerDown",this.onPointerDown,!1),e.addEventListener("MSPointerMove",this.onPointerMove,!1),e.addEventListener("MSPointerUp",this.onPointerUp,!1)):(e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1))}unbind(){let e=this.Reveal.getRevealElement();e.removeEventListener("pointerdown",this.onPointerDown,!1),e.removeEventListener("pointermove",this.onPointerMove,!1),e.removeEventListener("pointerup",this.onPointerUp,!1),e.removeEventListener("MSPointerDown",this.onPointerDown,!1),e.removeEventListener("MSPointerMove",this.onPointerMove,!1),e.removeEventListener("MSPointerUp",this.onPointerUp,!1),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1)}isSwipePrevented(e){if(Sd(e,"video[controls], audio[controls]"))return!0;for(;e&&typeof e.hasAttribute=="function";){if(e.hasAttribute("data-prevent-swipe"))return!0;e=e.parentNode}return!1}onTouchStart(e){if(this.touchCaptured=!1,this.isSwipePrevented(e.target))return!0;this.touchStartX=e.touches[0].clientX,this.touchStartY=e.touches[0].clientY,this.touchStartCount=e.touches.length}onTouchMove(e){if(this.isSwipePrevented(e.target))return!0;let i=this.Reveal.getConfig();if(this.touchCaptured)lw&&e.preventDefault();else{this.Reveal.onUserInput(e);let o=e.touches[0].clientX,r=e.touches[0].clientY;if(e.touches.length===1&&this.touchStartCount!==2){let l=this.Reveal.availableRoutes({includeFragments:!0}),c=o-this.touchStartX,f=r-this.touchStartY;c>40&&Math.abs(c)>Math.abs(f)?(this.touchCaptured=!0,i.navigationMode==="linear"?i.rtl?this.Reveal.next():this.Reveal.prev():this.Reveal.left()):c<-40&&Math.abs(c)>Math.abs(f)?(this.touchCaptured=!0,i.navigationMode==="linear"?i.rtl?this.Reveal.prev():this.Reveal.next():this.Reveal.right()):f>40&&l.up?(this.touchCaptured=!0,i.navigationMode==="linear"?this.Reveal.prev():this.Reveal.up()):f<-40&&l.down&&(this.touchCaptured=!0,i.navigationMode==="linear"?this.Reveal.next():this.Reveal.down()),i.embedded?(this.touchCaptured||this.Reveal.isVerticalSlide())&&e.preventDefault():e.preventDefault()}}}onTouchEnd(e){this.touchCaptured=!1}onPointerDown(e){e.pointerType!==e.MSPOINTER_TYPE_TOUCH&&e.pointerType!=="touch"||(e.touches=[{clientX:e.clientX,clientY:e.clientY}],this.onTouchStart(e))}onPointerMove(e){e.pointerType!==e.MSPOINTER_TYPE_TOUCH&&e.pointerType!=="touch"||(e.touches=[{clientX:e.clientX,clientY:e.clientY}],this.onTouchMove(e))}onPointerUp(e){e.pointerType!==e.MSPOINTER_TYPE_TOUCH&&e.pointerType!=="touch"||(e.touches=[{clientX:e.clientX,clientY:e.clientY}],this.onTouchEnd(e))}}const rp="focus",IE="blur";class _P{constructor(e){this.Reveal=e,this.onRevealPointerDown=this.onRevealPointerDown.bind(this),this.onDocumentPointerDown=this.onDocumentPointerDown.bind(this)}configure(e,i){e.embedded?this.blur():(this.focus(),this.unbind())}bind(){this.Reveal.getConfig().embedded&&this.Reveal.getRevealElement().addEventListener("pointerdown",this.onRevealPointerDown,!1)}unbind(){this.Reveal.getRevealElement().removeEventListener("pointerdown",this.onRevealPointerDown,!1),document.removeEventListener("pointerdown",this.onDocumentPointerDown,!1)}focus(){this.state!==rp&&(this.Reveal.getRevealElement().classList.add("focused"),document.addEventListener("pointerdown",this.onDocumentPointerDown,!1)),this.state=rp}blur(){this.state!==IE&&(this.Reveal.getRevealElement().classList.remove("focused"),document.removeEventListener("pointerdown",this.onDocumentPointerDown,!1)),this.state=IE}isFocused(){return this.state===rp}destroy(){this.Reveal.getRevealElement().classList.remove("focused")}onRevealPointerDown(e){this.focus()}onDocumentPointerDown(e){let i=Xt(e.target,".reveal");i&&i===this.Reveal.getRevealElement()||this.blur()}}class CP{constructor(e){this.Reveal=e}render(){this.element=document.createElement("div"),this.element.className="speaker-notes",this.element.setAttribute("data-prevent-swipe",""),this.element.setAttribute("tabindex","0"),this.Reveal.getRevealElement().appendChild(this.element)}configure(e,i){e.showNotes&&this.element.setAttribute("data-layout",typeof e.showNotes=="string"?e.showNotes:"inline")}update(){this.Reveal.getConfig().showNotes&&this.element&&this.Reveal.getCurrentSlide()&&!this.Reveal.isScrollView()&&!this.Reveal.isPrintView()&&(this.element.innerHTML=this.getSlideNotes()||'<span class="notes-placeholder">No notes on this slide.</span>')}updateVisibility(){this.Reveal.getConfig().showNotes&&this.hasNotes()&&!this.Reveal.isScrollView()&&!this.Reveal.isPrintView()?this.Reveal.getRevealElement().classList.add("show-notes"):this.Reveal.getRevealElement().classList.remove("show-notes")}hasNotes(){return this.Reveal.getSlidesElement().querySelectorAll("[data-notes], aside.notes").length>0}isSpeakerNotesWindow(){return!!window.location.search.match(/receiver/gi)}getSlideNotes(e=this.Reveal.getCurrentSlide()){if(e.hasAttribute("data-notes"))return e.getAttribute("data-notes");let i=e.querySelectorAll("aside.notes");return i?Array.from(i).map((o=>o.innerHTML)).join(`
`):null}destroy(){this.element.remove()}}class xP{constructor(e,i){this.diameter=100,this.diameter2=this.diameter/2,this.thickness=6,this.playing=!1,this.progress=0,this.progressOffset=1,this.container=e,this.progressCheck=i,this.canvas=document.createElement("canvas"),this.canvas.className="playback",this.canvas.width=this.diameter,this.canvas.height=this.diameter,this.canvas.style.width=this.diameter2+"px",this.canvas.style.height=this.diameter2+"px",this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.render()}setPlaying(e){const i=this.playing;this.playing=e,!i&&this.playing?this.animate():this.render()}animate(){const e=this.progress;this.progress=this.progressCheck(),e>.8&&this.progress<.2&&(this.progressOffset=this.progress),this.render(),this.playing&&requestAnimationFrame(this.animate.bind(this))}render(){let e=this.playing?this.progress:0,i=this.diameter2-this.thickness,o=this.diameter2,r=this.diameter2,l=28;this.progressOffset+=.1*(1-this.progressOffset);const c=-Math.PI/2+e*(2*Math.PI),f=-Math.PI/2+this.progressOffset*(2*Math.PI);this.context.save(),this.context.clearRect(0,0,this.diameter,this.diameter),this.context.beginPath(),this.context.arc(o,r,i+4,0,2*Math.PI,!1),this.context.fillStyle="rgba( 0, 0, 0, 0.4 )",this.context.fill(),this.context.beginPath(),this.context.arc(o,r,i,0,2*Math.PI,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="rgba( 255, 255, 255, 0.2 )",this.context.stroke(),this.playing&&(this.context.beginPath(),this.context.arc(o,r,i,f,c,!1),this.context.lineWidth=this.thickness,this.context.strokeStyle="#fff",this.context.stroke()),this.context.translate(o-14,r-14),this.playing?(this.context.fillStyle="#fff",this.context.fillRect(0,0,10,l),this.context.fillRect(18,0,10,l)):(this.context.beginPath(),this.context.translate(4,0),this.context.moveTo(0,0),this.context.lineTo(24,14),this.context.lineTo(0,l),this.context.fillStyle="#fff",this.context.fill()),this.context.restore()}on(e,i){this.canvas.addEventListener(e,i,!1)}off(e,i){this.canvas.removeEventListener(e,i,!1)}destroy(){this.playing=!1,this.canvas.parentNode&&this.container.removeChild(this.canvas)}}var RP={width:960,height:700,margin:.04,minScale:.2,maxScale:2,controls:!0,controlsTutorial:!0,controlsLayout:"bottom-right",controlsBackArrows:"faded",progress:!0,slideNumber:!1,showSlideNumber:"all",hashOneBasedIndex:!1,hash:!1,respondToHashChanges:!0,jumpToSlide:!0,history:!1,keyboard:!0,keyboardCondition:null,disableLayout:!1,overview:!0,center:!0,touch:!0,loop:!1,rtl:!1,navigationMode:"default",shuffle:!1,fragments:!0,fragmentInURL:!0,embedded:!1,help:!0,pause:!0,showNotes:!1,showHiddenSlides:!1,autoPlayMedia:null,preloadIframes:null,autoAnimate:!0,autoAnimateMatcher:null,autoAnimateEasing:"ease",autoAnimateDuration:1,autoAnimateUnmatched:!0,autoAnimateStyles:["opacity","color","background-color","padding","font-size","line-height","letter-spacing","border-width","border-color","border-radius","outline","outline-offset"],autoSlide:0,autoSlideStoppable:!0,autoSlideMethod:null,defaultTiming:null,mouseWheel:!1,previewLinks:!1,postMessage:!0,postMessageEvents:!1,focusBodyOnPageVisibilityChange:!0,transition:"slide",transitionSpeed:"default",backgroundTransition:"fade",parallaxBackgroundImage:"",parallaxBackgroundSize:"",parallaxBackgroundRepeat:"",parallaxBackgroundPosition:"",parallaxBackgroundHorizontal:null,parallaxBackgroundVertical:null,view:null,scrollLayout:"full",scrollSnap:"mandatory",scrollProgress:"auto",scrollActivationWidth:435,pdfMaxPagesPerSlide:Number.POSITIVE_INFINITY,pdfSeparateFragments:!0,pdfPageHeightOffset:-1,viewDistance:3,mobileViewDistance:2,display:"block",hideInactiveCursor:!0,hideCursorTime:5e3,sortFragmentsOnSync:!0,dependencies:[],plugins:[]};const uw="5.2.1";function cw(t,e){arguments.length<2&&(e=arguments[0],t=document.querySelector(".reveal"));const i={};let o,r,l,c,f,p={},m=!1,v=!1,S={hasNavigatedHorizontally:!1,hasNavigatedVertically:!1},E=[],A=1,x={layout:"",overview:""},_={},D="idle",k=0,J=0,H=-1,ie=!1,Z=new aP(i),ee=new uP(i),te=new cP(i),Se=new fP(i),W=new dP(i),P=new hP(i),he=new pP(i),fe=new mP(i),ve=new gP(i),Ce=new yP(i),q=new vP(i),R=new SP(i),$=new EP(i),ue=new bP(i),ge=new TP(i),ce=new wP(i),M=new _P(i),X=new AP(i),ae=new CP(i);function de(){m!==!1&&(v=!0,p.showHiddenSlides||we(_.wrapper,'section[data-visibility="hidden"]').forEach((I=>{const F=I.parentNode;F.childElementCount===1&&/section/i.test(F.nodeName)?F.remove():I.remove()})),(function(){_.slides.classList.add("no-transition"),ia?_.wrapper.classList.add("no-hover"):_.wrapper.classList.remove("no-hover"),W.render(),ee.render(),te.render(),R.render(),$.render(),ae.render(),_.pauseOverlay=((I,F,se,re="")=>{let le=I.querySelectorAll("."+se);for(let _e=0;_e<le.length;_e++){let We=le[_e];if(We.parentNode===I)return We}let Me=document.createElement(F);return Me.className=se,Me.innerHTML=re,I.appendChild(Me),Me})(_.wrapper,"div","pause-overlay",p.controls?'<button class="resume-button">Resume presentation</button>':null),_.statusElement=(function(){let I=_.wrapper.querySelector(".aria-status");return I||(I=document.createElement("div"),I.style.position="absolute",I.style.height="1px",I.style.width="1px",I.style.overflow="hidden",I.style.clip="rect( 1px, 1px, 1px, 1px )",I.classList.add("aria-status"),I.setAttribute("aria-live","polite"),I.setAttribute("aria-atomic","true"),_.wrapper.appendChild(I)),I})(),_.wrapper.setAttribute("role","application")})(),p.postMessage&&window.addEventListener("message",jn,!1),setInterval((()=>{(!P.isActive()&&_.wrapper.scrollTop!==0||_.wrapper.scrollLeft!==0)&&(_.wrapper.scrollTop=0,_.wrapper.scrollLeft=0)}),1e3),document.addEventListener("fullscreenchange",lr),document.addEventListener("webkitfullscreenchange",lr),yn().forEach((I=>{we(I,"section").forEach(((F,se)=>{se>0&&(F.classList.remove("present"),F.classList.remove("past"),F.classList.add("future"),F.setAttribute("aria-hidden","true"))}))})),me(),W.update(!0),(function(){const I=p.view==="print",F=p.view==="scroll"||p.view==="reader";(I||F)&&(I?Pe():X.unbind(),_.viewport.classList.add("loading-scroll-mode"),I?document.readyState==="complete"?he.activate():window.addEventListener("load",(()=>he.activate())):P.activate())})(),q.readURL(),setTimeout((()=>{_.slides.classList.remove("no-transition"),_.wrapper.classList.add("ready"),vt({type:"ready",data:{indexh:o,indexv:r,currentSlide:c}})}),1))}function be(I){_.statusElement.textContent=I}function Ne(I){let F="";if(I.nodeType===3)F+=I.textContent;else if(I.nodeType===1){let se=I.getAttribute("aria-hidden"),re=window.getComputedStyle(I).display==="none";se==="true"||re||Array.from(I.childNodes).forEach((le=>{F+=Ne(le)}))}return F=F.trim(),F===""?"":F+" "}function me(I){const F={...p};if(typeof I=="object"&&Zr(p,I),i.isReady()===!1)return;const se=_.wrapper.querySelectorAll(Ho).length;_.wrapper.classList.remove(F.transition),_.wrapper.classList.add(p.transition),_.wrapper.setAttribute("data-transition-speed",p.transitionSpeed),_.wrapper.setAttribute("data-background-transition",p.backgroundTransition),_.viewport.style.setProperty("--slide-width",typeof p.width=="string"?p.width:p.width+"px"),_.viewport.style.setProperty("--slide-height",typeof p.height=="string"?p.height:p.height+"px"),p.shuffle&&qa(),sp(_.wrapper,"embedded",p.embedded),sp(_.wrapper,"rtl",p.rtl),sp(_.wrapper,"center",p.center),p.pause===!1&&Es(),Se.reset(),f&&(f.destroy(),f=null),se>1&&p.autoSlide&&p.autoSlideStoppable&&(f=new xP(_.wrapper,(()=>Math.min(Math.max((Date.now()-H)/k,0),1))),f.on("click",Ud),ie=!1),p.navigationMode!=="default"?_.wrapper.setAttribute("data-navigation-mode",p.navigationMode):_.wrapper.removeAttribute("data-navigation-mode"),ae.configure(p,F),M.configure(p,F),ue.configure(p,F),R.configure(p,F),$.configure(p,F),Ce.configure(p,F),fe.configure(p,F),ee.configure(p,F),Eu()}function xe(){window.addEventListener("resize",ki,!1),p.touch&&X.bind(),p.keyboard&&Ce.bind(),p.progress&&$.bind(),p.respondToHashChanges&&q.bind(),R.bind(),M.bind(),_.slides.addEventListener("click",Pt,!1),_.slides.addEventListener("transitionend",St,!1),_.pauseOverlay.addEventListener("click",Es,!1),p.focusBodyOnPageVisibilityChange&&document.addEventListener("visibilitychange",ar,!1)}function Pe(){X.unbind(),M.unbind(),Ce.unbind(),R.unbind(),$.unbind(),q.unbind(),window.removeEventListener("resize",ki,!1),_.slides.removeEventListener("click",Pt,!1),_.slides.removeEventListener("transitionend",St,!1),_.pauseOverlay.removeEventListener("click",Es,!1)}function it(I,F,se){t.addEventListener(I,F,se)}function st(I,F,se){t.removeEventListener(I,F,se)}function sn(I){typeof I.layout=="string"&&(x.layout=I.layout),typeof I.overview=="string"&&(x.overview=I.overview),x.layout?Qs(_.slides,x.layout+" "+x.overview):Qs(_.slides,x.overview)}function vt({target:I=_.wrapper,type:F,data:se,bubbles:re=!0}){let le=document.createEvent("HTMLEvents",1,2);return le.initEvent(F,re,!0),Zr(le,se),I.dispatchEvent(le),I===_.wrapper&&Ss(F),le}function Mn(I){vt({type:"slidechanged",data:{indexh:o,indexv:r,previousSlide:l,currentSlide:c,origin:I}})}function Ss(I,F){if(p.postMessageEvents&&window.parent!==window.self){let se={namespace:"reveal",eventName:I,state:Ba()};Zr(se,F),window.parent.postMessage(JSON.stringify(se),"*")}}function Dn(){if(_.wrapper&&!he.isActive()){const I=_.viewport.offsetWidth,F=_.viewport.offsetHeight;if(!p.disableLayout){ia&&!p.embedded&&document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px");const se=P.isActive()?co(I,F):co(),re=A;tr(p.width,p.height),_.slides.style.width=se.width+"px",_.slides.style.height=se.height+"px",A=Math.min(se.presentationWidth/se.width,se.presentationHeight/se.height),A=Math.max(A,p.minScale),A=Math.min(A,p.maxScale),A===1||P.isActive()?(_.slides.style.zoom="",_.slides.style.left="",_.slides.style.top="",_.slides.style.bottom="",_.slides.style.right="",sn({layout:""})):(_.slides.style.zoom="",_.slides.style.left="50%",_.slides.style.top="50%",_.slides.style.bottom="auto",_.slides.style.right="auto",sn({layout:"translate(-50%, -50%) scale("+A+")"}));const le=Array.from(_.wrapper.querySelectorAll(Ho));for(let Me=0,_e=le.length;Me<_e;Me++){const We=le[Me];We.style.display!=="none"&&(p.center||We.classList.contains("center")?We.classList.contains("stack")?We.style.top=0:We.style.top=Math.max((se.height-We.scrollHeight)/2,0)+"px":We.style.top="")}re!==A&&vt({type:"resize",data:{oldScale:re,scale:A,size:se}})}(function(){if(_.wrapper&&!p.disableLayout&&!he.isActive()&&typeof p.scrollActivationWidth=="number"&&p.view!=="scroll"){const se=co();se.presentationWidth>0&&se.presentationWidth<=p.scrollActivationWidth?P.isActive()||(W.create(),P.activate()):P.isActive()&&P.deactivate()}})(),_.viewport.style.setProperty("--slide-scale",A),_.viewport.style.setProperty("--viewport-width",I+"px"),_.viewport.style.setProperty("--viewport-height",F+"px"),P.layout(),$.update(),W.updateParallax(),ve.isActive()&&ve.update()}}function tr(I,F){we(_.slides,"section > .stretch, section > .r-stretch").forEach((se=>{let re=((le,Me=0)=>{if(le){let _e,We=le.style.height;return le.style.height="0px",le.parentNode.style.height="auto",_e=Me-le.parentNode.offsetHeight,le.style.height=We+"px",le.parentNode.style.removeProperty("height"),_e}return Me})(se,F);if(/(img|video)/gi.test(se.nodeName)){const le=se.naturalWidth||se.videoWidth,Me=se.naturalHeight||se.videoHeight,_e=Math.min(I/le,re/Me);se.style.width=le*_e+"px",se.style.height=Me*_e+"px"}else se.style.width=I+"px",se.style.height=re+"px"}))}function co(I,F){let se=p.width,re=p.height;p.disableLayout&&(se=_.slides.offsetWidth,re=_.slides.offsetHeight);const le={width:se,height:re,presentationWidth:I||_.wrapper.offsetWidth,presentationHeight:F||_.wrapper.offsetHeight};return le.presentationWidth-=le.presentationWidth*p.margin,le.presentationHeight-=le.presentationHeight*p.margin,typeof le.width=="string"&&/%$/.test(le.width)&&(le.width=parseInt(le.width,10)/100*le.presentationWidth),typeof le.height=="string"&&/%$/.test(le.height)&&(le.height=parseInt(le.height,10)/100*le.presentationHeight),le}function nr(I,F){typeof I=="object"&&typeof I.setAttribute=="function"&&I.setAttribute("data-previous-indexv",F||0)}function ir(I){if(typeof I=="object"&&typeof I.setAttribute=="function"&&I.classList.contains("stack")){const F=I.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(I.getAttribute(F)||0,10)}return 0}function Li(I=c){return I&&I.parentNode&&!!I.parentNode.nodeName.match(/section/i)}function yu(){return!(!c||!Li(c))&&!c.nextElementSibling}function vu(){return o===0&&r===0}function kt(){return!!c&&!c.nextElementSibling&&(!Li(c)||!c.parentNode.nextElementSibling)}function Su(){if(p.pause){const I=_.wrapper.classList.contains("paused");vi(),_.wrapper.classList.add("paused"),I===!1&&vt({type:"paused"})}}function Es(){const I=_.wrapper.classList.contains("paused");_.wrapper.classList.remove("paused"),yi(),I&&vt({type:"resumed"})}function Pa(I){typeof I=="boolean"?I?Su():Es():mi()?Es():Su()}function mi(){return _.wrapper.classList.contains("paused")}function Ln(I,F,se,re){if(vt({type:"beforeslidechange",data:{indexh:I===void 0?o:I,indexv:F===void 0?r:F,origin:re}}).defaultPrevented)return;l=c;const le=_.wrapper.querySelectorAll(Ks);if(P.isActive()){const Yt=P.getSlideByIndices(I,F);return void(Yt&&P.scrollToSlide(Yt))}if(le.length===0)return;F!==void 0||ve.isActive()||(F=ir(le[I])),l&&l.parentNode&&l.parentNode.classList.contains("stack")&&nr(l.parentNode,r);const Me=E.concat();E.length=0;let _e=o||0,We=r||0;o=bs(Ks,I===void 0?o:I),r=bs(xE,F===void 0?r:F);let kn=o!==_e||r!==We;kn||(l=null);let Wt=le[o],dt=Wt.querySelectorAll("section");t.classList.toggle("is-vertical-slide",dt.length>1),c=dt[r]||Wt;let lt=!1;kn&&l&&c&&!ve.isActive()&&(D="running",lt=sr(l,c,_e,We),lt&&_.slides.classList.add("disable-slide-transitions")),Ut(),Dn(),ve.isActive()&&ve.update(),se!==void 0&&fe.goto(se),l&&l!==c&&(l.classList.remove("present"),l.setAttribute("aria-hidden","true"),vu()&&setTimeout((()=>{we(_.wrapper,Ks+".stack").forEach((Yt=>{nr(Yt,0)}))}),0));e:for(let Yt=0,Au=E.length;Yt<Au;Yt++){for(let ur=0;ur<Me.length;ur++)if(Me[ur]===E[Yt]){Me.splice(ur,1);continue e}_.viewport.classList.add(E[Yt]),vt({type:E[Yt]})}for(;Me.length;)_.viewport.classList.remove(Me.pop());kn&&Mn(re),!kn&&l||(Z.stopEmbeddedContent(l),Z.startEmbeddedContent(c)),requestAnimationFrame((()=>{be(Ne(c))})),$.update(),R.update(),ae.update(),W.update(),W.updateParallax(),ee.update(),fe.update(),q.writeURL(),yi(),lt&&(setTimeout((()=>{_.slides.classList.remove("disable-slide-transitions")}),0),p.autoAnimate&&Se.run(l,c))}function sr(I,F,se,re){return I.hasAttribute("data-auto-animate")&&F.hasAttribute("data-auto-animate")&&I.getAttribute("data-auto-animate-id")===F.getAttribute("data-auto-animate-id")&&!(o>se||r>re?F:I).hasAttribute("data-auto-animate-restart")}function Eu(){Pe(),xe(),Dn(),k=p.autoSlide,yi(),W.create(),q.writeURL(),p.sortFragmentsOnSync===!0&&fe.sortAll(),R.update(),$.update(),Ut(),ae.update(),ae.updateVisibility(),ce.update(),W.update(!0),ee.update(),Z.formatEmbeddedContent(),p.autoPlayMedia===!1?Z.stopEmbeddedContent(c,{unloadIframes:!1}):Z.startEmbeddedContent(c),ve.isActive()&&ve.layout()}function qa(I=yn()){I.forEach(((F,se)=>{let re=I[Math.floor(Math.random()*I.length)];re.parentNode===F.parentNode&&F.parentNode.insertBefore(F,re);let le=F.querySelectorAll("section");le.length&&qa(le)}))}function bs(I,F){let se=we(_.wrapper,I),re=se.length,le=P.isActive()||he.isActive(),Me=!1,_e=!1;if(re){p.loop&&(F>=re&&(Me=!0),(F%=re)<0&&(F=re+F,_e=!0)),F=Math.max(Math.min(F,re-1),0);for(let dt=0;dt<re;dt++){let lt=se[dt],Yt=p.rtl&&!Li(lt);lt.classList.remove("past"),lt.classList.remove("present"),lt.classList.remove("future"),lt.setAttribute("hidden",""),lt.setAttribute("aria-hidden","true"),lt.querySelector("section")&&lt.classList.add("stack"),le?lt.classList.add("present"):dt<F?(lt.classList.add(Yt?"future":"past"),p.fragments&&Ft(lt)):dt>F?(lt.classList.add(Yt?"past":"future"),p.fragments&&Wn(lt)):dt===F&&p.fragments&&(Me?Wn(lt):_e&&Ft(lt))}let We=se[F],kn=We.classList.contains("present");We.classList.add("present"),We.removeAttribute("hidden"),We.removeAttribute("aria-hidden"),kn||vt({target:We,type:"visible",bubbles:!1});let Wt=We.getAttribute("data-state");Wt&&(E=E.concat(Wt.split(" ")))}else F=0;return F}function Ft(I){we(I,".fragment").forEach((F=>{F.classList.add("visible"),F.classList.remove("current-fragment")}))}function Wn(I){we(I,".fragment.visible").forEach((F=>{F.classList.remove("visible","current-fragment")}))}function Ut(){let I,F,se=yn(),re=se.length;if(re&&o!==void 0){let le=ve.isActive()?10:p.viewDistance;ia&&(le=ve.isActive()?6:p.mobileViewDistance),he.isActive()&&(le=Number.MAX_VALUE);for(let Me=0;Me<re;Me++){let _e=se[Me],We=we(_e,"section"),kn=We.length;if(I=Math.abs((o||0)-Me)||0,p.loop&&(I=Math.abs(((o||0)-Me)%(re-le))||0),I<le?Z.load(_e):Z.unload(_e),kn){let Wt=ir(_e);for(let dt=0;dt<kn;dt++){let lt=We[dt];F=Math.abs(Me===(o||0)?(r||0)-dt:dt-Wt),I+F<le?Z.load(lt):Z.unload(lt)}}}ho()?_.wrapper.classList.add("has-vertical-slides"):_.wrapper.classList.remove("has-vertical-slides"),gi()?_.wrapper.classList.add("has-horizontal-slides"):_.wrapper.classList.remove("has-horizontal-slides")}}function Zn({includeFragments:I=!1}={}){let F=_.wrapper.querySelectorAll(Ks),se=_.wrapper.querySelectorAll(xE),re={left:o>0,right:o<F.length-1,up:r>0,down:r<se.length-1};if(p.loop&&(F.length>1&&(re.left=!0,re.right=!0),se.length>1&&(re.up=!0,re.down=!0)),F.length>1&&p.navigationMode==="linear"&&(re.right=re.right||re.down,re.left=re.left||re.up),I===!0){let le=fe.availableRoutes();re.left=re.left||le.prev,re.up=re.up||le.prev,re.down=re.down||le.next,re.right=re.right||le.next}if(p.rtl){let le=re.left;re.left=re.right,re.right=le}return re}function bu(I=c){let F=yn(),se=0;e:for(let re=0;re<F.length;re++){let le=F[re],Me=le.querySelectorAll("section");for(let _e=0;_e<Me.length;_e++){if(Me[_e]===I)break e;Me[_e].dataset.visibility!=="uncounted"&&se++}if(le===I)break;le.classList.contains("stack")===!1&&le.dataset.visibility!=="uncounted"&&se++}return se}function Tu(I){let F,se=o,re=r;if(I)if(P.isActive())se=parseInt(I.getAttribute("data-index-h"),10),I.getAttribute("data-index-v")&&(re=parseInt(I.getAttribute("data-index-v"),10));else{let le=Li(I),Me=le?I.parentNode:I,_e=yn();se=Math.max(_e.indexOf(Me),0),re=void 0,le&&(re=Math.max(we(I.parentNode,"section").indexOf(I),0))}if(!I&&c&&c.querySelectorAll(".fragment").length>0){let le=c.querySelector(".current-fragment");F=le&&le.hasAttribute("data-fragment-index")?parseInt(le.getAttribute("data-fragment-index"),10):c.querySelectorAll(".fragment.visible").length-1}return{h:se,v:re,f:F}}function Ts(){return we(_.wrapper,Ho+':not(.stack):not([data-visibility="uncounted"])')}function yn(){return we(_.wrapper,Ks)}function fo(){return we(_.wrapper,".slides>section>section")}function gi(){return yn().length>1}function ho(){return fo().length>1}function ws(){return Ts().length}function wu(I,F){let se=yn()[I],re=se&&se.querySelectorAll("section");return re&&re.length&&typeof F=="number"?re?re[F]:void 0:se}function Ba(){let I=Tu();return{indexh:I.h,indexv:I.v,indexf:I.f,paused:mi(),overview:ve.isActive(),...ce.getState()}}function yi(){if(vi(),c&&p.autoSlide!==!1){let I=c.querySelector(".current-fragment[data-autoslide]"),F=I?I.getAttribute("data-autoslide"):null,se=c.parentNode?c.parentNode.getAttribute("data-autoslide"):null,re=c.getAttribute("data-autoslide");F?k=parseInt(F,10):re?k=parseInt(re,10):se?k=parseInt(se,10):(k=p.autoSlide,c.querySelectorAll(".fragment").length===0&&we(c,"video, audio").forEach((le=>{le.hasAttribute("data-autoplay")&&k&&1e3*le.duration/le.playbackRate>k&&(k=1e3*le.duration/le.playbackRate+1e3)}))),!k||ie||mi()||ve.isActive()||kt()&&!fe.availableRoutes().next&&p.loop!==!0||(J=setTimeout((()=>{typeof p.autoSlideMethod=="function"?p.autoSlideMethod():rr(),yi()}),k),H=Date.now()),f&&f.setPlaying(J!==-1)}}function vi(){clearTimeout(J),J=-1}function or(){k&&!ie&&(ie=!0,vt({type:"autoslidepaused"}),clearTimeout(J),f&&f.setPlaying(!1))}function po(){k&&ie&&(ie=!1,vt({type:"autoslideresumed"}),yi())}function mo({skipFragments:I=!1}={}){if(S.hasNavigatedHorizontally=!0,P.isActive())return P.prev();p.rtl?(ve.isActive()||I||fe.next()===!1)&&Zn().left&&Ln(o+1,p.navigationMode==="grid"?r:void 0):(ve.isActive()||I||fe.prev()===!1)&&Zn().left&&Ln(o-1,p.navigationMode==="grid"?r:void 0)}function go({skipFragments:I=!1}={}){if(S.hasNavigatedHorizontally=!0,P.isActive())return P.next();p.rtl?(ve.isActive()||I||fe.prev()===!1)&&Zn().right&&Ln(o-1,p.navigationMode==="grid"?r:void 0):(ve.isActive()||I||fe.next()===!1)&&Zn().right&&Ln(o+1,p.navigationMode==="grid"?r:void 0)}function yo({skipFragments:I=!1}={}){if(P.isActive())return P.prev();(ve.isActive()||I||fe.prev()===!1)&&Zn().up&&Ln(o,r-1)}function vo({skipFragments:I=!1}={}){if(S.hasNavigatedVertically=!0,P.isActive())return P.next();(ve.isActive()||I||fe.next()===!1)&&Zn().down&&Ln(o,r+1)}function Ha({skipFragments:I=!1}={}){if(P.isActive())return P.prev();if(I||fe.prev()===!1)if(Zn().up)yo({skipFragments:I});else{let F;if(F=p.rtl?we(_.wrapper,Ks+".future").pop():we(_.wrapper,Ks+".past").pop(),F&&F.classList.contains("stack")){let se=F.querySelectorAll("section").length-1||void 0;Ln(o-1,se)}else p.rtl?go({skipFragments:I}):mo({skipFragments:I})}}function rr({skipFragments:I=!1}={}){if(S.hasNavigatedHorizontally=!0,S.hasNavigatedVertically=!0,P.isActive())return P.next();if(I||fe.next()===!1){let F=Zn();F.down&&F.right&&p.loop&&yu()&&(F.down=!1),F.down?vo({skipFragments:I}):p.rtl?mo({skipFragments:I}):go({skipFragments:I})}}function jn(I){let F=I.data;if(typeof F=="string"&&F.charAt(0)==="{"&&F.charAt(F.length-1)==="}"&&(F=JSON.parse(F),F.method&&typeof i[F.method]=="function"))if(lP.test(F.method)===!1){const se=i[F.method].apply(i,F.args);Ss("callback",{method:F.method,result:se})}else console.warn('reveal.js: "'+F.method+'" is is blacklisted from the postMessage API')}function St(I){D==="running"&&/section/gi.test(I.target.nodeName)&&(D="idle",vt({type:"slidetransitionend",data:{indexh:o,indexv:r,previousSlide:l,currentSlide:c}}))}function Pt(I){const F=Xt(I.target,'a[href^="#"]');if(F){const se=F.getAttribute("href"),re=q.getIndicesFromHash(se);re&&(i.slide(re.h,re.v,re.f),I.preventDefault())}}function ki(I){Dn()}function ar(I){document.hidden===!1&&document.activeElement!==document.body&&(typeof document.activeElement.blur=="function"&&document.activeElement.blur(),document.body.focus())}function lr(I){(document.fullscreenElement||document.webkitFullscreenElement)===_.wrapper&&(I.stopImmediatePropagation(),setTimeout((()=>{i.layout(),i.focus.focus()}),1))}function Ud(I){kt()&&p.loop===!1?(Ln(0,0),po()):ie?po():or()}const Oa={VERSION:uw,initialize:function(I){if(!t)throw'Unable to find presentation root (<div class="reveal">).';if(m)throw"Reveal.js has already been initialized.";if(m=!0,_.wrapper=t,_.slides=t.querySelector(".slides"),!_.slides)throw'Unable to find slides container (<div class="slides">).';return p={...RP,...p,...e,...I,...CE()},/print-pdf/gi.test(window.location.search)&&(p.view="print"),(function(){p.embedded===!0?_.viewport=Xt(t,".reveal-viewport")||t:(_.viewport=document.body,document.documentElement.classList.add("reveal-full-page")),_.viewport.classList.add("reveal-viewport")})(),window.addEventListener("load",Dn,!1),ge.load(p.plugins,p.dependencies).then(de),new Promise((F=>i.on("ready",F)))},configure:me,destroy:function(){m=!1,v!==!1&&(Pe(),vi(),ae.destroy(),M.destroy(),ce.destroy(),ge.destroy(),ue.destroy(),R.destroy(),$.destroy(),W.destroy(),ee.destroy(),te.destroy(),document.removeEventListener("fullscreenchange",lr),document.removeEventListener("webkitfullscreenchange",lr),document.removeEventListener("visibilitychange",ar,!1),window.removeEventListener("message",jn,!1),window.removeEventListener("load",Dn,!1),_.pauseOverlay&&_.pauseOverlay.remove(),_.statusElement&&_.statusElement.remove(),document.documentElement.classList.remove("reveal-full-page"),_.wrapper.classList.remove("ready","center","has-horizontal-slides","has-vertical-slides"),_.wrapper.removeAttribute("data-transition-speed"),_.wrapper.removeAttribute("data-background-transition"),_.viewport.classList.remove("reveal-viewport"),_.viewport.style.removeProperty("--slide-width"),_.viewport.style.removeProperty("--slide-height"),_.slides.style.removeProperty("width"),_.slides.style.removeProperty("height"),_.slides.style.removeProperty("zoom"),_.slides.style.removeProperty("left"),_.slides.style.removeProperty("top"),_.slides.style.removeProperty("bottom"),_.slides.style.removeProperty("right"),_.slides.style.removeProperty("transform"),Array.from(_.wrapper.querySelectorAll(Ho)).forEach((I=>{I.style.removeProperty("display"),I.style.removeProperty("top"),I.removeAttribute("hidden"),I.removeAttribute("aria-hidden")})))},sync:Eu,syncSlide:function(I=c){W.sync(I),fe.sync(I),Z.load(I),W.update(),ae.update()},syncFragments:fe.sync.bind(fe),slide:Ln,left:mo,right:go,up:yo,down:vo,prev:Ha,next:rr,navigateLeft:mo,navigateRight:go,navigateUp:yo,navigateDown:vo,navigatePrev:Ha,navigateNext:rr,navigateFragment:fe.goto.bind(fe),prevFragment:fe.prev.bind(fe),nextFragment:fe.next.bind(fe),on:it,off:st,addEventListener:it,removeEventListener:st,layout:Dn,shuffle:qa,availableRoutes:Zn,availableFragments:fe.availableRoutes.bind(fe),toggleHelp:ce.toggleHelp.bind(ce),toggleOverview:ve.toggle.bind(ve),toggleScrollView:P.toggle.bind(P),togglePause:Pa,toggleAutoSlide:function(I){typeof I=="boolean"?I?po():or():ie?po():or()},toggleJumpToSlide:function(I){typeof I=="boolean"?I?te.show():te.hide():te.isVisible()?te.hide():te.show()},isFirstSlide:vu,isLastSlide:kt,isLastVerticalSlide:yu,isVerticalSlide:Li,isVerticalStack:function(I=c){return I.classList.contains(".stack")||I.querySelector("section")!==null},isPaused:mi,isAutoSliding:function(){return!(!k||ie)},isSpeakerNotes:ae.isSpeakerNotesWindow.bind(ae),isOverview:ve.isActive.bind(ve),isFocused:M.isFocused.bind(M),isOverlayOpen:ce.isOpen.bind(ce),isScrollView:P.isActive.bind(P),isPrintView:he.isActive.bind(he),isReady:()=>v,loadSlide:Z.load.bind(Z),unloadSlide:Z.unload.bind(Z),startEmbeddedContent:()=>Z.startEmbeddedContent(c),stopEmbeddedContent:()=>Z.stopEmbeddedContent(c,{unloadIframes:!1}),previewIframe:ce.previewIframe.bind(ce),previewImage:ce.previewImage.bind(ce),previewVideo:ce.previewVideo.bind(ce),showPreview:ce.previewIframe.bind(ce),hidePreview:ce.close.bind(ce),addEventListeners:xe,removeEventListeners:Pe,dispatchEvent:vt,getState:Ba,setState:function(I){if(typeof I=="object"){Ln(Kr(I.indexh),Kr(I.indexv),Kr(I.indexf));let F=Kr(I.paused),se=Kr(I.overview);typeof F=="boolean"&&F!==mi()&&Pa(F),typeof se=="boolean"&&se!==ve.isActive()&&ve.toggle(se),ce.setState(I)}},getProgress:function(){let I=ws(),F=bu();if(c){let se=c.querySelectorAll(".fragment");se.length>0&&(F+=c.querySelectorAll(".fragment.visible").length/se.length*.9)}return Math.min(F/(I-1),1)},getIndices:Tu,getSlidesAttributes:function(){return Ts().map((I=>{let F={};for(let se=0;se<I.attributes.length;se++){let re=I.attributes[se];F[re.name]=re.value}return F}))},getSlidePastCount:bu,getTotalSlides:ws,getSlide:wu,getPreviousSlide:()=>l,getCurrentSlide:()=>c,getSlideBackground:function(I,F){let se=typeof I=="number"?wu(I,F):I;if(se)return se.slideBackgroundElement},getSlideNotes:ae.getSlideNotes.bind(ae),getSlides:Ts,getHorizontalSlides:yn,getVerticalSlides:fo,hasHorizontalSlides:gi,hasVerticalSlides:ho,hasNavigatedHorizontally:()=>S.hasNavigatedHorizontally,hasNavigatedVertically:()=>S.hasNavigatedVertically,shouldAutoAnimateBetween:sr,addKeyBinding:Ce.addKeyBinding.bind(Ce),removeKeyBinding:Ce.removeKeyBinding.bind(Ce),triggerKey:Ce.triggerKey.bind(Ce),registerKeyboardShortcut:Ce.registerKeyboardShortcut.bind(Ce),getComputedSlideSize:co,setCurrentScrollPage:function(I,F,se){let re=o||0;o=F,r=se;const le=c!==I;l=c,c=I,c&&l&&p.autoAnimate&&sr(l,c,re,r)&&Se.run(l,c),le&&(l&&(Z.stopEmbeddedContent(l),Z.stopEmbeddedContent(l.slideBackgroundElement)),Z.startEmbeddedContent(c),Z.startEmbeddedContent(c.slideBackgroundElement)),requestAnimationFrame((()=>{be(Ne(c))})),Mn()},getScale:()=>A,getConfig:()=>p,getQueryHash:CE,getSlidePath:q.getHash.bind(q),getRevealElement:()=>t,getSlidesElement:()=>_.slides,getViewportElement:()=>_.viewport,getBackgroundsElement:()=>W.element,registerPlugin:ge.registerPlugin.bind(ge),hasPlugin:ge.hasPlugin.bind(ge),getPlugin:ge.getPlugin.bind(ge),getPlugins:ge.getRegisteredPlugins.bind(ge)};return Zr(i,{...Oa,announceStatus:be,getStatusText:Ne,focus:M,scroll:P,progress:$,controls:R,location:q,overview:ve,keyboard:Ce,fragments:fe,backgrounds:W,slideContent:Z,slideNumber:ee,onUserInput:function(I){p.autoSlideStoppable&&or()},closeOverlay:ce.close.bind(ce),updateSlidesVisibility:Ut,layoutSlideContents:tr,transformSlides:sn,cueAutoSlide:yi,cancelAutoSlide:vi}),Oa}let Xs=cw,ME=[];Xs.initialize=t=>(Object.assign(Xs,new cw(document.querySelector(".reveal"),t)),ME.map((e=>e(Xs))),Xs.initialize()),["configure","on","off","addEventListener","removeEventListener","registerPlugin"].forEach((t=>{Xs[t]=(...e)=>{ME.push((i=>i[t].call(null,...e)))}})),Xs.isReady=()=>!1,Xs.VERSION=uw;const NP=({onClose:t})=>{const e=B.useRef(null),i=B.useRef(null),[o,r]=B.useState(!1),l=B.useRef(null),c=f=>{if(o)return;window.speechSynthesis.cancel();const p=new SpeechSynthesisUtterance(f),v=window.speechSynthesis.getVoices().find(S=>(S.name.includes("Samantha")||S.name.includes("Victoria")||S.name.includes("Serenity")||S.name.includes("Ava")||S.name.includes("Zoe")||S.name.includes("Female")||S.name.includes("Natural")||S.name.includes("Google")||S.name.includes("Premium"))&&S.lang.startsWith("en")&&!S.name.includes("Daniel")&&!S.name.includes("Guy"));v&&(p.voice=v),p.rate=1.05,p.pitch=1,l.current=p,window.speechSynthesis.speak(p)};return B.useEffect(()=>{let f=null;return e.current&&(f=new Xs(e.current,{embedded:!1,hash:!1,mouseWheel:!0,controls:!0,progress:!0,center:!0,transition:"slide",backgroundTransition:"fade"}),f.initialize().then(()=>{f==null||f.slide(0);const p=f==null?void 0:f.getCurrentSlide(),m=p==null?void 0:p.getAttribute("data-narration");m&&c(m)}),f.on("slidechanged",p=>{const m=p.currentSlide.getAttribute("data-narration");m&&c(m)}),i.current=f),window.speechSynthesis.getVoices(),()=>{window.speechSynthesis.cancel()}},[]),B.useEffect(()=>{var f;if(o)window.speechSynthesis.cancel();else{const p=(f=i.current)==null?void 0:f.getCurrentSlide(),m=p==null?void 0:p.getAttribute("data-narration");m&&c(m)}},[o]),w.jsxs("div",{className:"fixed inset-0 z-[100] bg-black",children:[w.jsxs("div",{className:"fixed top-8 right-8 z-[110] flex gap-4",children:[w.jsx("button",{onClick:()=>r(!o),className:"p-3 bg-black text-white hover:bg-zinc-800 transition-all duration-300 shadow-2xl border-2 border-white/20 rounded-full","aria-label":o?"Unmute Narration":"Mute Narration",children:o?w.jsx(tR,{size:32}):w.jsx(jx,{size:32})}),w.jsx("button",{onClick:t,className:"p-3 bg-black text-white hover:bg-accent hover:scale-110 transition-all duration-300 shadow-2xl border-2 border-white/20 rounded-full","aria-label":"Close Demo",children:w.jsx(_d,{size:32})})]}),w.jsx("div",{className:"reveal",ref:e,children:w.jsxs("div",{className:"slides",children:[w.jsx("section",{"data-background-image":"/demo-intro.png",className:"text-center","data-narration":"Welcome to the future! This is Zeitgeist A.I. Witness the incredible power of information synthesis where our cutting-edge autonomous agents monitor the world's pulse in real time! Get ready to see the world like never before.",children:w.jsxs("div",{className:"bg-black/80 backdrop-blur-md p-12 border-t-8 border-accent inline-block shadow-2xl max-w-4xl mx-auto",children:[w.jsx("h1",{className:"text-accent !text-8xl font-black mb-6 tracking-tighter drop-shadow-[0_5px_15px_rgba(192,57,43,0.4)]",children:"ZEITGEIST AI"}),w.jsx("h3",{className:"text-white font-mono uppercase tracking-[0.4em] mb-10 border-b border-white/20 pb-4 inline-block font-bold",children:"The Autonomous Observer"}),w.jsxs("p",{className:"text-3xl text-white leading-relaxed font-serif",children:["Experience the future of information synthesis where ",w.jsx("span",{className:"text-accent font-black",children:"AI monitors the world's pulse."})]})]})}),w.jsx("section",{"data-background-color":"#ffffff","data-narration":"Check this out! Every 12 hours, our researcher agents blaze through hundreds of global news sources, journals, and social signals! Out of this massive sea of data, our model identifies the top 3 high-impact narratives that are actually shaping your reality right now!",children:w.jsxs("div",{className:"max-w-6xl mx-auto",children:[w.jsx("h2",{className:"text-black !text-6xl font-serif mb-12 border-b-8 border-black inline-block pb-4 px-8 italic",children:"Autonomous Observation"}),w.jsxs("div",{className:"grid grid-cols-2 gap-16 items-center text-left",children:[w.jsxs("div",{className:"bg-paper p-10 shadow-2xl border-4 border-black",children:[w.jsxs("p",{className:"mb-8 text-2xl font-serif leading-snug",children:["Our researcher agents scan global data streams every 12 hours. From hundreds of detected signals, the model selects the ",w.jsx("span",{className:"text-accent font-black",children:"top 3 narratives"})," that carry the highest global significance."]}),w.jsxs("ul",{className:"list-none space-y-6 text-xl text-black",children:[w.jsxs("li",{className:"flex items-center gap-4 group",children:[w.jsx("span",{className:"w-4 h-4 bg-accent group-hover:scale-150 transition-transform"})," ",w.jsx("span",{className:"font-bold uppercase tracking-widest text-black",children:"Global News Outlets"})]}),w.jsxs("li",{className:"flex items-center gap-4 group",children:[w.jsx("span",{className:"w-4 h-4 bg-accent group-hover:scale-150 transition-transform"})," ",w.jsx("span",{className:"font-bold uppercase tracking-widest text-black",children:"Academic Journals"})]}),w.jsxs("li",{className:"flex items-center gap-4 group",children:[w.jsx("span",{className:"w-4 h-4 bg-accent group-hover:scale-150 transition-transform"})," ",w.jsx("span",{className:"font-bold uppercase tracking-widest text-black",children:"Social Signals"})]}),w.jsxs("li",{className:"flex items-center gap-4 group",children:[w.jsx("span",{className:"w-4 h-4 bg-accent group-hover:scale-150 transition-transform"})," ",w.jsx("span",{className:"font-bold uppercase tracking-widest text-black",children:"Emerging Trends"})]})]})]}),w.jsxs("div",{className:"bg-black p-10 rounded-lg shadow-[0_0_50px_rgba(192,57,43,0.3)] transform -rotate-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-white/10 pb-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),w.jsx("span",{className:"text-[10px] font-mono text-gray-500 ml-2 uppercase tracking-tighter",children:"Terminal Instance: Researcher_Alpha"})]}),w.jsxs("code",{className:"text-lg font-mono text-green-400 block p-2",children:[w.jsx("span",{className:"text-gray-500",children:"[17:31:58]"})," SYSTEM INITIALIZED",w.jsx("br",{}),w.jsx("span",{className:"text-gray-500",children:"[17:32:01]"})," SCANNED 482 SOURCES",w.jsx("br",{}),w.jsx("span",{className:"text-gray-500",children:"[17:32:05]"})," 12 NARRATIVES DETECTED",w.jsx("br",{}),w.jsx("span",{className:"text-gray-500",children:"[17:32:08]"})," RANKING BY SIGNIFICANCE...",w.jsx("br",{}),w.jsx("span",{className:"text-gray-500",children:"[17:32:10]"})," ",w.jsx("span",{className:"text-accent font-bold",children:"PRIORITY IDENTIFIED"})]})]})]})]})}),w.jsxs("section",{"data-background-color":"#f8f5f2","data-narration":"But wait, it gets better! Once the topics are locked in, the Journalist Agent kicks into high gear! It creates deep analysis, smart tagging, and even generates stunning AI imagery for every single story! It's a complete, professional briefing created entirely by A.I. with zero human effort!",children:[w.jsx("h2",{className:"text-black !text-6xl font-serif mb-16 border-b-8 border-black inline-block pb-4 italic",children:"Journalist Agent"}),w.jsx("p",{className:"mb-20 text-3xl font-serif max-w-4xl mx-auto italic text-black font-bold",children:'"Automatically analyzes complex narratives to produce deep, readable analysis with zero human intervention."'}),w.jsxs("div",{className:"flex justify-center gap-20",children:[w.jsxs("div",{className:"group text-center",children:[w.jsx("div",{className:"w-32 h-32 bg-black text-white flex items-center justify-center mx-auto mb-6 rounded-none border-t-8 border-accent shadow-2xl group-hover:-translate-y-4 transition-all duration-500",children:w.jsx("span",{className:"text-5xl font-black italic",children:"W"})}),w.jsx("p",{className:"font-mono text-lg uppercase font-black border-b-2 border-transparent group-hover:border-accent inline-block transition-all text-black",children:"Deep Writing"})]}),w.jsxs("div",{className:"group text-center",children:[w.jsx("div",{className:"w-32 h-32 bg-black text-white flex items-center justify-center mx-auto mb-6 rounded-none border-t-8 border-accent shadow-2xl group-hover:-translate-y-4 transition-all duration-500",children:w.jsx("span",{className:"text-5xl font-black italic",children:"T"})}),w.jsx("p",{className:"font-mono text-lg uppercase font-black border-b-2 border-transparent group-hover:border-accent inline-block transition-all text-black",children:"Smart Tagging"})]}),w.jsxs("div",{className:"group text-center",children:[w.jsx("div",{className:"w-32 h-32 bg-black text-white flex items-center justify-center mx-auto mb-6 rounded-none border-t-8 border-accent shadow-2xl group-hover:-translate-y-4 transition-all duration-500",children:w.jsx("span",{className:"text-5xl font-black italic",children:"V"})}),w.jsx("p",{className:"font-mono text-lg uppercase font-black border-b-2 border-transparent group-hover:border-accent inline-block transition-all text-black",children:"Creative Vision"})]})]})]}),w.jsx("section",{"data-background-color":"#000000","data-narration":"And here's the ultimate power-move! You are always in control. With our Priority Override, you can manually inject any story you care about directly into the system for immediate neural analysis! You steer the A.I. exactly where you want it to go!",children:w.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col items-center",children:[w.jsx("h2",{className:"text-accent !text-6xl font-serif mb-12 italic",children:"Human-in-the-loop"}),w.jsx("p",{className:"text-white text-3xl mb-16 font-serif italic max-w-3xl text-center",children:'"Total control over the zeitgeist. Manually inject priority topics that demand immediate neural analysis."'}),w.jsxs("div",{className:"bg-zinc-900 border-2 border-white/20 p-8 rounded shadow-[0_0_100px_rgba(255,255,255,0.05)] text-left w-full max-w-2xl transform hover:scale-[1.02] transition-transform",children:[w.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-white/10 pb-4",children:[w.jsx("span",{className:"text-accent font-mono text-sm tracking-widest uppercase",children:"Admin Priority Controller"}),w.jsxs("div",{className:"flex gap-1",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),w.jsx("div",{className:"w-2 h-2 rounded-full bg-zinc-700"})]})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-mono tracking-tighter",children:"Target Narrative Topic"}),w.jsx("div",{className:"bg-black border border-white/10 p-3 text-white font-mono text-sm italic",children:'"The intersection of Quantum Computing and Existentialism"'})]}),w.jsx("button",{className:"w-full py-4 bg-accent text-white font-mono uppercase tracking-[0.2em] font-bold shadow-[4px_4px_0px_0px_rgba(255,255,255,1)]",children:"Inject Priority Stream"})]})]})]})}),w.jsx("section",{"data-background-image":"/demo-philosophy.png","data-narration":"Finally, prepare for pure insight! Our philosopher agent looks deep beyond the headlines to find the hidden patterns. It connects the dots to reveal the true human condition. This isn't just newsit's pure wisdom!",children:w.jsxs("div",{className:"bg-black/85 backdrop-blur-md p-16 border-l-[12px] border-accent shadow-2xl max-w-5xl mx-auto text-left relative overflow-hidden",children:[w.jsx("span",{className:"absolute -top-10 -right-10 text-[200px] text-white/10 font-serif pointer-events-none",children:'"'}),w.jsx("h2",{className:"text-white !text-6xl font-serif mb-10 italic font-black",children:"Philosophical Synthesis"}),w.jsxs("p",{className:"text-3xl leading-relaxed font-serif text-white mb-8 border-b border-white/10 pb-10",children:["Our Philosopher Agent looks ",w.jsx("span",{className:"text-accent font-black underline decoration-4 underline-offset-8",children:"beyond the headlines"})," to synthesize meta-narratives, connecting disparate events into a cohesive understanding of the human condition."]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-1 bg-accent"}),w.jsx("p",{className:"text-accent font-mono uppercase tracking-[0.3em] font-bold underline decoration-accent decoration-2 offset-4",children:"Where news becomes wisdom"})]})]})}),w.jsx("section",{"data-background-color":"#ffffff",className:"text-center","data-narration":"Are you ready to join the observers? Don't miss out on the future. Stay informed, stay ahead, and stay human! Enter the Zeitgeist right now and experience the revolution!",children:w.jsxs("div",{className:"max-w-4xl mx-auto border-[20px] border-black p-20 shadow-2xl relative",children:[w.jsx("span",{className:"absolute top-0 left-0 bg-accent text-white font-mono px-4 py-1 text-xs uppercase font-bold",children:"- LIVE STATUS: ACTIVE -"}),w.jsx("h2",{className:"text-black font-black text-8xl mb-8 tracking-tighter",children:"JOIN THE OBSERVERS"}),w.jsx("p",{className:"text-2xl mb-16 text-gray-500 font-mono tracking-widest uppercase italic font-bold",children:"Stay Informed. Stay Ahead. Stay Human."}),w.jsx("button",{onClick:t,className:"group relative px-16 py-8 bg-black text-white font-mono uppercase tracking-[0.4em] hover:bg-accent transition-all transform hover:scale-105 shadow-[10px_10px_0px_0px_rgba(192,57,43,1)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 text-3xl font-bold",children:"Enter the Zeitgeist"}),w.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-100 flex justify-between items-center text-xs text-gray-400 font-mono uppercase tracking-[0.2em] font-bold",children:[w.jsx("span",{children:"Node: US-WEST-01"}),w.jsx("span",{children:"System: v1.0.4-PRO"}),w.jsx("span",{children:"Security: Encrypted"})]})]})})]})})]})};var Nt=(t=>(t.IDLE="IDLE",t.RESEARCHING="RESEARCHING",t.WRITING="WRITING",t.SYNTHESIZING="SYNTHESIZING",t.COMPLETE="COMPLETE",t.ERROR="ERROR",t))(Nt||{});const IP=720*60*1e3;function $c({view:t}={}){const{slug:e,summaryId:i}=mC(),o=Qp(),[r]=rx(),l=r.get("adminTech")==="in-the-house",[c,f]=B.useState([]),[p,m]=B.useState(null),[v,S]=B.useState(null),[E,A]=B.useState(Nt.IDLE),[x,_]=B.useState(null),[D,k]=B.useState(""),[J,H]=B.useState(!0),[ie,Z]=B.useState(null),[ee,te]=B.useState(null),[Se,W]=B.useState(null),[P,he]=B.useState(0),[fe,ve]=B.useState(!1),Ce=B.useRef(null),q=me=>me.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),R=(me,xe)=>{Ce.current&&clearTimeout(Ce.current),A(me),Ce.current=setTimeout(()=>{A(Nt.IDLE),Ce.current=null},xe)};B.useEffect(()=>()=>{Ce.current&&clearTimeout(Ce.current)},[]),B.useEffect(()=>{let me=!0;return(async()=>{try{await _n.waitForInit();const Pe=await _n.getAllArticles(),it=await _n.getLastUpdated(),st=await _n.getArticlesSinceLastSummary();me&&(f(Pe),_(it),he(st))}catch(Pe){console.error("Failed to initialize DB data",Pe),me&&Z("Database initialization failed. Please reload or check console.")}finally{me&&H(!1)}})(),()=>{me=!1}},[]),B.useEffect(()=>{if(i&&t==="summary-detail")(async()=>{const xe=await _n.getSummaryById(i);xe&&W(xe)})();else if(e&&c.length>0){const me=c.find(xe=>q(xe.title)===e);me?(m(me),te(null)):m(null)}else!e&&!i&&(m(null),W(null),te(null))},[e,i,c,t]);const $=me=>{const xe=q(me.title);o(`/${xe}`),m(me)},ue=()=>{o("/"),m(null)},ge=me=>{o(`/summaries/${me.id}`),W(me)},ce=()=>{o("/summaries"),W(null)};B.useEffect(()=>{if(J||ie)return;const me=()=>{const it=Date.now();if(!x){c.length===0&&(console.log("Auto-update triggered: Fresh start"),be());return}const st=(it-x)/(3600*1e3);console.log(`Time since last update: ${st.toFixed(1)} hours`),it-x>IP&&(console.log("Auto-update triggered: 12 hours passed"),be())},xe=setTimeout(me,6e4),Pe=setInterval(me,6e4);return()=>{clearTimeout(xe),clearInterval(Pe)}},[x,J,ie,c.length]);const{availableTags:M,tagCounts:X}=B.useMemo(()=>{const xe=c.flatMap(it=>it.tags).reduce((it,st)=>(it[st]=(it[st]||0)+1,it),{});return{availableTags:Object.keys(xe).sort((it,st)=>{const sn=xe[st]-xe[it];return sn!==0?sn:it.localeCompare(st)}),tagCounts:xe}},[c]),ae=B.useMemo(()=>v?c.filter(me=>me.tags.includes(v)):c,[c,v]),de=async me=>{await _n.saveArticles(me);const xe=await _n.getAllArticles();f(xe)},be=async()=>{if(E===Nt.IDLE){A(Nt.RESEARCHING),k("Researcher Agent: Scanning global data streams...");try{const me=await IL();A(Nt.WRITING),k(`Journalist Agent: Analyzing ${me.length} identified narratives...`);const xe=[];for(const st of me){k(`Journalist Agent: Writing analysis for "${st.topic}"...`);const sn=await jb(st.topic),vt=st.context,Mn=await eT(vt),Ss=await tT(vt),Dn={...st,imageUrl:sn,tags:Mn,seo:Ss},tr=await dE(Dn);xe.push(tr)}await de(xe);const Pe=Date.now();await _n.setLastUpdated(Pe),_(Pe);const it=P+xe.length;if(he(it),await _n.setArticlesSinceLastSummary(it),it>=6){A(Nt.SYNTHESIZING),k("Philosopher Agent: Synthesizing meta-analysis from 6 narratives...");try{const sn=(await _n.getAllArticles()).slice(0,6),vt=await ML(sn);await _n.saveSummary(vt),he(0),await _n.setArticlesSinceLastSummary(0),console.log(" Philosophical synthesis complete!")}catch(st){console.error("Philosophy synthesis failed, but continuing:",st)}}R(Nt.COMPLETE,3e3)}catch(me){console.error(me),k("System Failure: Agents disrupted."),R(Nt.ERROR,5e3)}}},Ne=async me=>{if(E===Nt.IDLE){A(Nt.WRITING),k(`Journalist Agent: Processing priority override for "${me.topic}"...`);try{const xe=await dE(me);await de([xe]),R(Nt.COMPLETE,3e3)}catch(xe){console.error(xe),R(Nt.ERROR,3e3)}}};return J?w.jsx("div",{className:"min-h-screen bg-paper flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx(ro,{size:48,className:"mx-auto text-black animate-pulse mb-4"}),w.jsx("h2",{className:"text-xl font-serif",children:"Initializing Neural Memory..."})]})}):ie?w.jsx("div",{className:"min-h-screen bg-paper flex items-center justify-center p-4",children:w.jsxs("div",{className:"text-center max-w-md",children:[w.jsx(Wx,{size:48,className:"mx-auto text-red-600 mb-4"}),w.jsx("h2",{className:"text-2xl font-serif font-bold mb-2",children:"System Failure"}),w.jsx("p",{className:"text-gray-600 mb-6",children:ie}),w.jsx("button",{onClick:()=>window.location.reload(),className:"bg-black text-white px-6 py-2 rounded hover:bg-gray-800",children:"Reboot System"})]})}):w.jsxs("div",{className:"min-h-screen bg-paper pb-20",children:[w.jsx(sR,{lastUpdated:x,onRefresh:be,loading:E!==Nt.IDLE,onShowDemo:()=>ve(!0)}),fe&&w.jsx(NP,{onClose:()=>ve(!1)}),w.jsxs("main",{className:"container mx-auto px-4",children:[E!==Nt.IDLE&&w.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-40 bg-black text-white px-6 py-3 rounded-full shadow-xl flex items-center gap-3 animate-pulse",children:[w.jsx(ro,{size:20,className:E===Nt.ERROR?"text-red-500":"text-accent"}),w.jsx("span",{className:"font-mono text-sm",children:D})]}),t==="summaries"&&!i&&w.jsx(iP,{onSummaryClick:ge}),t==="summary-detail"&&Se&&w.jsx(sP,{summary:Se,articles:c,onClose:ce,onArticleClick:$}),e&&p&&!t&&w.jsx(I0,{article:p,onClose:ue,isPreview:!1}),!e&&!t&&w.jsxs(w.Fragment,{children:[c.length>0&&w.jsx(LL,{tags:M,selectedTag:v,onSelectTag:S,tagCounts:X}),c.length===0&&E===Nt.IDLE&&w.jsxs("div",{className:"text-center py-20 opacity-50",children:[w.jsx("h2",{className:"text-2xl font-serif mb-4",children:"No analysis available."}),w.jsx("button",{onClick:be,className:"bg-black text-white px-6 py-2 rounded hover:bg-gray-800",children:"Initialize Autonomous Sequence"})]}),ae.length>0?w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 auto-rows-fr",children:ae.map((me,xe)=>w.jsx(oR,{article:me,onClick:$,onHoverPreview:te,featured:xe===0&&!v},me.id))}):c.length>0&&w.jsxs("div",{className:"text-center py-20",children:[w.jsxs("p",{className:"text-gray-500 font-serif italic",children:['No stories found for "',v,'".']}),w.jsx("button",{onClick:()=>S(null),className:"mt-4 text-accent hover:underline font-bold text-sm uppercase tracking-wider",children:"Clear Filter"})]}),ee&&w.jsx(I0,{article:ee,onClose:()=>te(null),isPreview:!0})]})]}),l&&w.jsx(DL,{onInjectStory:Ne,isProcessing:E!==Nt.IDLE})]})}const dw=document.getElementById("root");if(!dw)throw new Error("Could not find root element to mount to");const MP=D_.createRoot(dw);MP.render(w.jsx(A_.StrictMode,{children:w.jsx(tx,{children:w.jsxs(IC,{children:[w.jsx(Ll,{path:"/",element:w.jsx($c,{})}),w.jsx(Ll,{path:"/summaries",element:w.jsx($c,{view:"summaries"})}),w.jsx(Ll,{path:"/summaries/:summaryId",element:w.jsx($c,{view:"summary-detail"})}),w.jsx(Ll,{path:"/:slug",element:w.jsx($c,{})})]})})}));
